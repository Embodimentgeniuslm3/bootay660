!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("to-case"),require("os"),require("crypto"),require("uuid")):"function"==typeof define&&define.amd?define(["exports","to-case","os","crypto","uuid"],r):r((t="undefined"!=typeof globalThis?globalThis:t||self).TailorUtils={},t.toCase,t.os,t.crypto,t.uuid$1)}(this,(function(t,r,e,n,o){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=i(r),a=i(e),c=i(n);function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"==typeof t)return s(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return s(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var l=function(t,r){for(var e=-1,n=null==t?0:t.length,o=0,i=[];++e<n;){var u=t[e];r(u,e,t)&&(i[o++]=u)}return i};var v=function(t){return function(r,e,n){for(var o=-1,i=Object(r),u=n(r),a=u.length;a--;){var c=u[t?a:++o];if(!1===e(i[c],c,i))break}return r}}();var p=function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n},h="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function y(t,r,e){return t(e={path:r,exports:{},require:function(t,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==r&&e.path)}},e.exports),e.exports}var d="object"==typeof h&&h&&h.Object===Object&&h,b="object"==typeof self&&self&&self.Object===Object&&self,g=d||b||Function("return this")(),_=g.Symbol,j=Object.prototype,m=j.hasOwnProperty,O=j.toString,w=_?_.toStringTag:void 0;var A=function(t){var r=m.call(t,w),e=t[w];try{t[w]=void 0;var n=!0}catch(t){}var o=O.call(t);return n&&(r?t[w]=e:delete t[w]),o},S=Object.prototype.toString;var E=function(t){return S.call(t)},D=_?_.toStringTag:void 0;var T=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":D&&D in Object(t)?A(t):E(t)};var M=function(t){return null!=t&&"object"==typeof t};var R=function(t){return M(t)&&"[object Arguments]"==T(t)},C=Object.prototype,z=C.hasOwnProperty,F=C.propertyIsEnumerable,N=R(function(){return arguments}())?R:function(t){return M(t)&&z.call(t,"callee")&&!F.call(t,"callee")},x=Array.isArray;var P=function(){return!1},I=y((function(t,r){var e=r&&!r.nodeType&&r,n=e&&t&&!t.nodeType&&t,o=n&&n.exports===e?g.Buffer:void 0,i=(o?o.isBuffer:void 0)||P;t.exports=i})),k=/^(?:0|[1-9]\d*)$/;var $=function(t,r){var e=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==e||"symbol"!=e&&k.test(t))&&t>-1&&t%1==0&&t<r};var B=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},L={};L["[object Float32Array]"]=L["[object Float64Array]"]=L["[object Int8Array]"]=L["[object Int16Array]"]=L["[object Int32Array]"]=L["[object Uint8Array]"]=L["[object Uint8ClampedArray]"]=L["[object Uint16Array]"]=L["[object Uint32Array]"]=!0,L["[object Arguments]"]=L["[object Array]"]=L["[object ArrayBuffer]"]=L["[object Boolean]"]=L["[object DataView]"]=L["[object Date]"]=L["[object Error]"]=L["[object Function]"]=L["[object Map]"]=L["[object Number]"]=L["[object Object]"]=L["[object RegExp]"]=L["[object Set]"]=L["[object String]"]=L["[object WeakMap]"]=!1;var q=function(t){return M(t)&&B(t.length)&&!!L[T(t)]};var U=function(t){return function(r){return t(r)}},V=y((function(t,r){var e=r&&!r.nodeType&&r,n=e&&t&&!t.nodeType&&t,o=n&&n.exports===e&&d.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i})),Q=V&&V.isTypedArray,W=Q?U(Q):q,G=Object.prototype.hasOwnProperty;var H=function(t,r){var e=x(t),n=!e&&N(t),o=!e&&!n&&I(t),i=!e&&!n&&!o&&W(t),u=e||n||o||i,a=u?p(t.length,String):[],c=a.length;for(var f in t)!r&&!G.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||$(f,c))||a.push(f);return a},J=Object.prototype;var K=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||J)};var X=function(t,r){return function(e){return t(r(e))}}(Object.keys,Object),Y=Object.prototype.hasOwnProperty;var Z=function(t){if(!K(t))return X(t);var r=[];for(var e in Object(t))Y.call(t,e)&&"constructor"!=e&&r.push(e);return r};var tt=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)};var rt=function(t){if(!tt(t))return!1;var r=T(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r};var et=function(t){return null!=t&&B(t.length)&&!rt(t)};var nt=function(t){return et(t)?H(t):Z(t)};var ot=function(t,r){return function(e,n){if(null==e)return e;if(!et(e))return t(e,n);for(var o=e.length,i=r?o:-1,u=Object(e);(r?i--:++i<o)&&!1!==n(u[i],i,u););return e}}((function(t,r){return t&&v(t,r,nt)}));var it=function(t,r){var e=[];return ot(t,(function(t,n,o){r(t,n,o)&&e.push(t)})),e};var ut=function(){this.__data__=[],this.size=0};var at=function(t,r){return t===r||t!=t&&r!=r};var ct=function(t,r){for(var e=t.length;e--;)if(at(t[e][0],r))return e;return-1},ft=Array.prototype.splice;var st=function(t){var r=this.__data__,e=ct(r,t);return!(e<0)&&(e==r.length-1?r.pop():ft.call(r,e,1),--this.size,!0)};var lt=function(t){var r=this.__data__,e=ct(r,t);return e<0?void 0:r[e][1]};var vt=function(t){return ct(this.__data__,t)>-1};var pt=function(t,r){var e=this.__data__,n=ct(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};function ht(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}ht.prototype.clear=ut,ht.prototype.delete=st,ht.prototype.get=lt,ht.prototype.has=vt,ht.prototype.set=pt;var yt=ht;var dt=function(){this.__data__=new yt,this.size=0};var bt=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e};var gt=function(t){return this.__data__.get(t)};var _t,jt=function(t){return this.__data__.has(t)},mt=g["__core-js_shared__"],Ot=(_t=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||""))?"Symbol(src)_1."+_t:"";var wt=function(t){return!!Ot&&Ot in t},At=Function.prototype.toString;var St=function(t){if(null!=t){try{return At.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Et=/^\[object .+?Constructor\]$/,Dt=Function.prototype,Tt=Object.prototype,Mt=Dt.toString,Rt=Tt.hasOwnProperty,Ct=RegExp("^"+Mt.call(Rt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var zt=function(t){return!(!tt(t)||wt(t))&&(rt(t)?Ct:Et).test(St(t))};var Ft=function(t,r){return null==t?void 0:t[r]};var Nt=function(t,r){var e=Ft(t,r);return zt(e)?e:void 0},xt=Nt(g,"Map"),Pt=Nt(Object,"create");var It=function(){this.__data__=Pt?Pt(null):{},this.size=0};var kt=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},$t=Object.prototype.hasOwnProperty;var Bt=function(t){var r=this.__data__;if(Pt){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return $t.call(r,t)?r[t]:void 0},Lt=Object.prototype.hasOwnProperty;var qt=function(t){var r=this.__data__;return Pt?void 0!==r[t]:Lt.call(r,t)};var Ut=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=Pt&&void 0===r?"__lodash_hash_undefined__":r,this};function Vt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Vt.prototype.clear=It,Vt.prototype.delete=kt,Vt.prototype.get=Bt,Vt.prototype.has=qt,Vt.prototype.set=Ut;var Qt=Vt;var Wt=function(){this.size=0,this.__data__={hash:new Qt,map:new(xt||yt),string:new Qt}};var Gt=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var Ht=function(t,r){var e=t.__data__;return Gt(r)?e["string"==typeof r?"string":"hash"]:e.map};var Jt=function(t){var r=Ht(this,t).delete(t);return this.size-=r?1:0,r};var Kt=function(t){return Ht(this,t).get(t)};var Xt=function(t){return Ht(this,t).has(t)};var Yt=function(t,r){var e=Ht(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function Zt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Zt.prototype.clear=Wt,Zt.prototype.delete=Jt,Zt.prototype.get=Kt,Zt.prototype.has=Xt,Zt.prototype.set=Yt;var tr=Zt;var rr=function(t,r){var e=this.__data__;if(e instanceof yt){var n=e.__data__;if(!xt||n.length<199)return n.push([t,r]),this.size=++e.size,this;e=this.__data__=new tr(n)}return e.set(t,r),this.size=e.size,this};function er(t){var r=this.__data__=new yt(t);this.size=r.size}er.prototype.clear=dt,er.prototype.delete=bt,er.prototype.get=gt,er.prototype.has=jt,er.prototype.set=rr;var nr=er;var or=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var ir=function(t){return this.__data__.has(t)};function ur(t){var r=-1,e=null==t?0:t.length;for(this.__data__=new tr;++r<e;)this.add(t[r])}ur.prototype.add=ur.prototype.push=or,ur.prototype.has=ir;var ar=ur;var cr=function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n;)if(r(t[e],e,t))return!0;return!1};var fr=function(t,r){return t.has(r)};var sr=function(t,r,e,n,o,i){var u=1&e,a=t.length,c=r.length;if(a!=c&&!(u&&c>a))return!1;var f=i.get(t),s=i.get(r);if(f&&s)return f==r&&s==t;var l=-1,v=!0,p=2&e?new ar:void 0;for(i.set(t,r),i.set(r,t);++l<a;){var h=t[l],y=r[l];if(n)var d=u?n(y,h,l,r,t,i):n(h,y,l,t,r,i);if(void 0!==d){if(d)continue;v=!1;break}if(p){if(!cr(r,(function(t,r){if(!fr(p,r)&&(h===t||o(h,t,e,n,i)))return p.push(r)}))){v=!1;break}}else if(h!==y&&!o(h,y,e,n,i)){v=!1;break}}return i.delete(t),i.delete(r),v},lr=g.Uint8Array;var vr=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t,n){e[++r]=[n,t]})),e};var pr=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t){e[++r]=t})),e},hr=_?_.prototype:void 0,yr=hr?hr.valueOf:void 0;var dr=function(t,r,e,n,o,i,u){switch(e){case"[object DataView]":if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=r.byteLength||!i(new lr(t),new lr(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return at(+t,+r);case"[object Error]":return t.name==r.name&&t.message==r.message;case"[object RegExp]":case"[object String]":return t==r+"";case"[object Map]":var a=vr;case"[object Set]":var c=1&n;if(a||(a=pr),t.size!=r.size&&!c)return!1;var f=u.get(t);if(f)return f==r;n|=2,u.set(t,r);var s=sr(a(t),a(r),n,o,i,u);return u.delete(t),s;case"[object Symbol]":if(yr)return yr.call(t)==yr.call(r)}return!1};var br=function(t,r){for(var e=-1,n=r.length,o=t.length;++e<n;)t[o+e]=r[e];return t};var gr=function(t,r,e){var n=r(t);return x(t)?n:br(n,e(t))};var _r=function(){return[]},jr=Object.prototype.propertyIsEnumerable,mr=Object.getOwnPropertySymbols,Or=mr?function(t){return null==t?[]:(t=Object(t),l(mr(t),(function(r){return jr.call(t,r)})))}:_r;var wr=function(t){return gr(t,nt,Or)},Ar=Object.prototype.hasOwnProperty;var Sr=function(t,r,e,n,o,i){var u=1&e,a=wr(t),c=a.length;if(c!=wr(r).length&&!u)return!1;for(var f=c;f--;){var s=a[f];if(!(u?s in r:Ar.call(r,s)))return!1}var l=i.get(t),v=i.get(r);if(l&&v)return l==r&&v==t;var p=!0;i.set(t,r),i.set(r,t);for(var h=u;++f<c;){var y=t[s=a[f]],d=r[s];if(n)var b=u?n(d,y,s,r,t,i):n(y,d,s,t,r,i);if(!(void 0===b?y===d||o(y,d,e,n,i):b)){p=!1;break}h||(h="constructor"==s)}if(p&&!h){var g=t.constructor,_=r.constructor;g==_||!("constructor"in t)||!("constructor"in r)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(p=!1)}return i.delete(t),i.delete(r),p},Er=Nt(g,"DataView"),Dr=Nt(g,"Promise"),Tr=Nt(g,"Set"),Mr=Nt(g,"WeakMap"),Rr=St(Er),Cr=St(xt),zr=St(Dr),Fr=St(Tr),Nr=St(Mr),xr=T;(Er&&"[object DataView]"!=xr(new Er(new ArrayBuffer(1)))||xt&&"[object Map]"!=xr(new xt)||Dr&&"[object Promise]"!=xr(Dr.resolve())||Tr&&"[object Set]"!=xr(new Tr)||Mr&&"[object WeakMap]"!=xr(new Mr))&&(xr=function(t){var r=T(t),e="[object Object]"==r?t.constructor:void 0,n=e?St(e):"";if(n)switch(n){case Rr:return"[object DataView]";case Cr:return"[object Map]";case zr:return"[object Promise]";case Fr:return"[object Set]";case Nr:return"[object WeakMap]"}return r});var Pr=xr,Ir="[object Object]",kr=Object.prototype.hasOwnProperty;var $r=function(t,r,e,n,o,i){var u=x(t),a=x(r),c=u?"[object Array]":Pr(t),f=a?"[object Array]":Pr(r),s=(c="[object Arguments]"==c?Ir:c)==Ir,l=(f="[object Arguments]"==f?Ir:f)==Ir,v=c==f;if(v&&I(t)){if(!I(r))return!1;u=!0,s=!1}if(v&&!s)return i||(i=new nr),u||W(t)?sr(t,r,e,n,o,i):dr(t,r,c,e,n,o,i);if(!(1&e)){var p=s&&kr.call(t,"__wrapped__"),h=l&&kr.call(r,"__wrapped__");if(p||h){var y=p?t.value():t,d=h?r.value():r;return i||(i=new nr),o(y,d,e,n,i)}}return!!v&&(i||(i=new nr),Sr(t,r,e,n,o,i))};var Br=function t(r,e,n,o,i){return r===e||(null==r||null==e||!M(r)&&!M(e)?r!=r&&e!=e:$r(r,e,n,o,t,i))};var Lr=function(t,r,e,n){var o=e.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=e[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=e[o])[0],f=t[c],s=a[1];if(u&&a[2]){if(void 0===f&&!(c in t))return!1}else{var l=new nr;if(n)var v=n(f,s,c,t,r,l);if(!(void 0===v?Br(s,f,3,n,l):v))return!1}}return!0};var qr=function(t){return t==t&&!tt(t)};var Ur=function(t){for(var r=nt(t),e=r.length;e--;){var n=r[e],o=t[n];r[e]=[n,o,qr(o)]}return r};var Vr=function(t,r){return function(e){return null!=e&&(e[t]===r&&(void 0!==r||t in Object(e)))}};var Qr=function(t){var r=Ur(t);return 1==r.length&&r[0][2]?Vr(r[0][0],r[0][1]):function(e){return e===t||Lr(e,t,r)}};var Wr=function(t){return"symbol"==typeof t||M(t)&&"[object Symbol]"==T(t)},Gr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Hr=/^\w*$/;var Jr=function(t,r){if(x(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Wr(t))||(Hr.test(t)||!Gr.test(t)||null!=r&&t in Object(r))};function Kr(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var e=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return e.cache=i.set(o,u)||i,u};return e.cache=new(Kr.Cache||tr),e}Kr.Cache=tr;var Xr=Kr;var Yr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zr=/\\(\\)?/g,te=function(t){var r=Xr(t,(function(t){return 500===e.size&&e.clear(),t})),e=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(Yr,(function(t,e,n,o){r.push(n?o.replace(Zr,"$1"):e||t)})),r}));var re=function(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o},ee=_?_.prototype:void 0,ne=ee?ee.toString:void 0;var oe=function t(r){if("string"==typeof r)return r;if(x(r))return re(r,t)+"";if(Wr(r))return ne?ne.call(r):"";var e=r+"";return"0"==e&&1/r==-1/0?"-0":e};var ie=function(t){return null==t?"":oe(t)};var ue=function(t,r){return x(t)?t:Jr(t,r)?[t]:te(ie(t))};var ae=function(t){if("string"==typeof t||Wr(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};var ce=function(t,r){for(var e=0,n=(r=ue(r,t)).length;null!=t&&e<n;)t=t[ae(r[e++])];return e&&e==n?t:void 0};var fe=function(t,r,e){var n=null==t?void 0:ce(t,r);return void 0===n?e:n};var se=function(t,r){return null!=t&&r in Object(t)};var le=function(t,r,e){for(var n=-1,o=(r=ue(r,t)).length,i=!1;++n<o;){var u=ae(r[n]);if(!(i=null!=t&&e(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&B(o)&&$(u,o)&&(x(t)||N(t))};var ve=function(t,r){return null!=t&&le(t,r,se)};var pe=function(t,r){return Jr(t)&&qr(r)?Vr(ae(t),r):function(e){var n=fe(e,t);return void 0===n&&n===r?ve(e,t):Br(r,n,3)}};var he=function(t){return t};var ye=function(t){return function(r){return null==r?void 0:r[t]}};var de=function(t){return function(r){return ce(r,t)}};var be=function(t){return Jr(t)?ye(ae(t)):de(t)};var ge=function(t){return"function"==typeof t?t:null==t?he:"object"==typeof t?x(t)?pe(t[0],t[1]):Qr(t):be(t)};var _e=function(t,r){return(x(t)?l:it)(t,ge(r))};var je=function(t){return function(r,e,n){var o=Object(r);if(!et(r)){var i=ge(e);r=nt(r),e=function(t){return i(o[t],t,o)}}var u=t(r,e,n);return u>-1?o[i?r[u]:u]:void 0}};var me=function(t,r,e,n){for(var o=t.length,i=e+(n?1:-1);n?i--:++i<o;)if(r(t[i],i,t))return i;return-1},Oe=/^\s+|\s+$/g,we=/^[-+]0x[0-9a-f]+$/i,Ae=/^0b[01]+$/i,Se=/^0o[0-7]+$/i,Ee=parseInt;var De=function(t){if("number"==typeof t)return t;if(Wr(t))return NaN;if(tt(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=tt(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Oe,"");var e=Ae.test(t);return e||Se.test(t)?Ee(t.slice(2),e?2:8):we.test(t)?NaN:+t};var Te=function(t){return t?(t=De(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var Me=function(t){var r=Te(t),e=r%1;return r==r?e?r-e:r:0},Re=Math.max;var Ce=je((function(t,r,e){var n=null==t?0:t.length;if(!n)return-1;var o=null==e?0:Me(e);return o<0&&(o=Re(n+o,0)),me(t,ge(r),o)})),ze=_?_.isConcatSpreadable:void 0;var Fe=function(t){return x(t)||N(t)||!!(ze&&t&&t[ze])};var Ne=function t(r,e,n,o,i){var u=-1,a=r.length;for(n||(n=Fe),i||(i=[]);++u<a;){var c=r[u];e>0&&n(c)?e>1?t(c,e-1,n,o,i):br(i,c):o||(i[i.length]=c)}return i};var xe=function(t,r){var e=-1,n=et(t)?Array(t.length):[];return ot(t,(function(t,o,i){n[++e]=r(t,o,i)})),n};var Pe=function(t,r){var e=t.length;for(t.sort(r);e--;)t[e]=t[e].value;return t};var Ie=function(t,r){if(t!==r){var e=void 0!==t,n=null===t,o=t==t,i=Wr(t),u=void 0!==r,a=null===r,c=r==r,f=Wr(r);if(!a&&!f&&!i&&t>r||i&&u&&c&&!a&&!f||n&&u&&c||!e&&c||!o)return 1;if(!n&&!i&&!f&&t<r||f&&e&&o&&!n&&!i||a&&e&&o||!u&&o||!c)return-1}return 0};var ke=function(t,r,e){for(var n=-1,o=t.criteria,i=r.criteria,u=o.length,a=e.length;++n<u;){var c=Ie(o[n],i[n]);if(c)return n>=a?c:c*("desc"==e[n]?-1:1)}return t.index-r.index};var $e=function(t,r,e){r=r.length?re(r,(function(t){return x(t)?function(r){return ce(r,1===t.length?t[0]:t)}:t})):[he];var n=-1;r=re(r,U(ge));var o=xe(t,(function(t,e,o){return{criteria:re(r,(function(r){return r(t)})),index:++n,value:t}}));return Pe(o,(function(t,r){return ke(t,r,e)}))};var Be=function(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)},Le=Math.max;var qe=function(t,r,e){return r=Le(void 0===r?t.length-1:r,0),function(){for(var n=arguments,o=-1,i=Le(n.length-r,0),u=Array(i);++o<i;)u[o]=n[r+o];o=-1;for(var a=Array(r+1);++o<r;)a[o]=n[o];return a[r]=e(u),Be(t,this,a)}};var Ue=function(t){return function(){return t}},Ve=function(){try{var t=Nt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Qe=Ve?function(t,r){return Ve(t,"toString",{configurable:!0,enumerable:!1,value:Ue(r),writable:!0})}:he,We=Date.now;var Ge=function(t){var r=0,e=0;return function(){var n=We(),o=16-(n-e);if(e=n,o>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}(Qe);var He=function(t,r,e){if(!tt(e))return!1;var n=typeof r;return!!("number"==n?et(e)&&$(r,e.length):"string"==n&&r in e)&&at(e[r],t)},Je=function(t,r){return Ge(qe(t,r,he),t+"")}((function(t,r){if(null==t)return[];var e=r.length;return e>1&&He(t,r[0],r[1])?r=[]:e>2&&He(r[0],r[1],r[2])&&(r=[r[0]]),$e(t,Ne(r,1),[])})),Ke={ADD_BEFORE:"ADD_BEFORE",ADD_AFTER:"ADD_AFTER",ADD_INTO:"ADD_INTO",REORDER:"REORDER"},Xe=Ke.ADD_AFTER,Ye=Ke.REORDER,Ze=function(t,r){var e=t.lower,n=void 0===e?0:e,o=t.upper,i=o?(o-n)/(r+1):1;return Array.from({length:r}).map((function(t,r){return i*(r+1)+n}))};function tn(t){Object.prototype.hasOwnProperty.call(t,"isFirstChild")&&console.warn("Deprecation notice:\n    'isFirstChild' option is deprecated and no longer used!\n    Providing it does not affect this function.")}var rn=function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=t[r-1]||{},o=n.position,i=t[r]||{},u=i.position;return Ze({lower:o,upper:u},e)};var en=function(t,r){var e="000000000"+t;return e.substr(e.length-r)},nn=en(process.pid.toString(36),2),on=a.default.hostname(),un=on.length,an=en(on.split("").reduce((function(t,r){return+t+r.charCodeAt(0)}),+un+36).toString(36),2),cn=function(){return nn+an},fn=Math.pow(2,32)-1,sn=0,ln=Math.pow(36,4);function vn(){return en((Math.abs(c.default.randomBytes(4).readInt32BE()/fn)*ln<<0).toString(36),4)}function pn(){return sn=sn<ln?sn:0,++sn-1}function hn(){return"c"+(new Date).getTime().toString(36)+en(pn().toString(36),4)+cn()+(vn()+vn())}hn.slug=function(){var t=(new Date).getTime().toString(36),r=pn().toString(36).slice(-4),e=cn().slice(0,1)+cn().slice(-1),n=vn().slice(-2);return t.slice(-2)+r+e+n},hn.isCuid=function(t){return"string"==typeof t&&!!t.startsWith("c")},hn.isSlug=function(t){if("string"!=typeof t)return!1;var r=t.length;return r>=7&&r<=10},hn.fingerprint=cn;var yn=hn;var dn=function(t){return"function"==typeof t?t:he},bn=Math.min;var gn=function(t,r){if((t=Me(t))<1||t>9007199254740991)return[];var e=4294967295,n=bn(t,4294967295);r=dn(r),t-=4294967295;for(var o=p(n,r);++e<t;)r(e);return o},_n={question:[],hint:""},jn={MC:function(){return Object.assign({type:"MC"},_n,{answers:["","",""],correct:[]})},NR:function(){return Object.assign({type:"NR"},_n,{prefixes:[""],suffixes:[""],correct:[""]})},SC:function(){return Object.assign({type:"SC"},_n,{answers:["",""],correct:""})},TR:function(){return Object.assign({type:"TR"},_n,{correct:""})},TF:function(){return Object.assign({type:"TF"},_n,{correct:null})},FB:function(){return Object.assign({type:"FB"},_n,{correct:[]})},MQ:function(){var t=Object.assign({type:"MQ"},_n,{premises:[],responses:[],correct:{},headings:{premise:"Premise",response:"Response"}});return gn(2,(function(){var r=yn(),e=yn();t.premises.push({key:r,value:""}),t.responses.push({key:e,value:""}),t.correct[r]=e})),t},DD:function(){var t=Object.assign({type:"DD"},_n,{groups:{},answers:{},correct:{}});return gn(2,(function(){var r=yn(),e=yn();t.groups[r]="",t.answers[e]="",t.correct[r]=[e]})),t}},mn=Object.freeze({__proto__:null,typeInfo:{MC:{type:"MC",title:"Multiple choice",class:"multiple-choice"},SC:{type:"SC",title:"Single choice",class:"single-choice"},TR:{type:"TR",title:"Text response",class:"text-response"},NR:{type:"NR",title:"Numerical response",class:"numerical-response"},TF:{type:"TF",title:"True - false",class:"true-false"},FB:{type:"FB",title:"Fill in the blank",class:"fill-blank"},MQ:{type:"MQ",title:"Matching question",class:"matching-question"},DD:{type:"DD",title:"Drag & Drop",class:"drag-drop"}},defaults:jn,getErrorMessages:function(t,r){return t.filter((function(t){return t.path.includes(r)})).map((function(t){return t.message}))}}),On=Object.freeze({__proto__:null,Discussion:{SAVE:"comment:save",REMOVE:"comment:remove",SET_LAST_SEEN:"comment:setLastSeen",RESOLVE:"element:resolveComments"}});function wn(t){return["QUESTION","REFLECTION","ASSESSMENT"].includes(t)}function An(t){return wn(t)?"QUESTION-CONTAINER":t}function Sn(t,r){return Je(_e(t,{parentId:r}),"position")}function En(t,r,e){var n=Sn(t,e);if(!e||!n.length)return n;var o=r.getLevel(Ce(t,{id:e}).type).subLevels;return _e(n,(function(t){return o.includes(t.type)}))}t.Events=On,t.InsertLocation=Ke,t.assessment=mn,t.calculatePosition=function(t){var r=t.newPosition,e=t.items,n=t.action,o=void 0===n?Ye:n,i=t.count,u=void 0===i?1:i;tn.apply(void 0,arguments);var a=f(e);o===Ye&&a.splice(r,u);var c=e.length;void 0!==r&&(c=o===Xe?r+1:r);var s=rn(a,c,u);return 1===u?s[0]:s},t.getAncestors=function t(r,e){var n=Ce(r,{id:e.parentId});if(!n)return[];var o=t(r,n);return[].concat(f(o),[n])},t.getChildren=Sn,t.getComponentName=function(t){return"tce-".concat(u.default.slug(An(t)))},t.getContainerName=function(t){return"tcc-".concat(u.default.slug(t))},t.getDescendants=function t(r,e){var n=_e(r,{parentId:e.id});if(!n.length)return[];var o=n.reduce((function(e,n){return e.concat(t(r,n))}),[]);return n.concat(o)},t.getElementId=function(t){return t&&(t.uid||t.id)},t.getMetaName=function(t){return"meta-".concat(u.default.slug(t))},t.getOutlineChildren=En,t.getParent=function(t,r){var e=fe(r,"parentId",null);return e&&Ce(t,{id:e})},t.getPositions=rn,t.getToolbarName=function(t){return"".concat(u.default.slug(t),"-toolbar")},t.isChanged=function(t){return!t.publishedAt||new Date(t.modifiedAt)>new Date(t.publishedAt)},t.isQuestion=wn,t.processAnswerType=function(t){return"answer-".concat(u.default.slug(t))},t.publishDiffChangeTypes={NEW:"new",CHANGED:"changed",REMOVED:"removed"},t.resolveElementType=An,t.toTreeFormat=function t(r,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return En(r,e,o).map((function(o){return Object.assign({},o,{name:o.data.name,level:i,selectable:!!n.find((function(t){return t.type===o.type})),children:t(r,e,n,o.id,i+1)})}))},t.uuid=function(){return o.v1()},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=tailor-utils.umd.min.js.map
