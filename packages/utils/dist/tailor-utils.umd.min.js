!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("to-case"),require("os"),require("crypto"),require("uuid")):"function"==typeof define&&define.amd?define(["exports","to-case","os","crypto","uuid"],r):r((t="undefined"!=typeof globalThis?globalThis:t||self).TailorUtils={},t.toCase,t.os,t.crypto,t.uuid$1)}(this,(function(t,r,e,n,o){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=i(r),a=i(e),c=i(n);function f(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,r){if(!t)return;if("string"==typeof t)return s(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return s(t,r)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}var l={ADD_BEFORE:"ADD_BEFORE",ADD_AFTER:"ADD_AFTER",ADD_INTO:"ADD_INTO",REORDER:"REORDER"},v=l.ADD_AFTER,p=l.REORDER,h=function(t,r){var e=t.lower,n=void 0===e?0:e,o=t.upper,i=o?(o-n)/(r+1):1;return Array.from({length:r}).map((function(t,r){return i*(r+1)+n}))};function y(t){Object.prototype.hasOwnProperty.call(t,"isFirstChild")&&console.warn("Deprecation notice:\n    'isFirstChild' option is deprecated and no longer used!\n    Providing it does not affect this function.")}var d=function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=t[r-1]||{},o=n.position,i=t[r]||{},u=i.position;return h({lower:o,upper:u},e)};var b=function(t,r){for(var e=-1,n=null==t?0:t.length,o=0,i=[];++e<n;){var u=t[e];r(u,e,t)&&(i[o++]=u)}return i};var g=function(t){return function(r,e,n){for(var o=-1,i=Object(r),u=n(r),a=u.length;a--;){var c=u[t?a:++o];if(!1===e(i[c],c,i))break}return r}}();var _=function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n},j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function m(t,r,e){return t(e={path:r,exports:{},require:function(t,r){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==r&&e.path)}},e.exports),e.exports}var O="object"==typeof j&&j&&j.Object===Object&&j,w="object"==typeof self&&self&&self.Object===Object&&self,A=O||w||Function("return this")(),E=A.Symbol,S=Object.prototype,D=S.hasOwnProperty,T=S.toString,M=E?E.toStringTag:void 0;var R=function(t){var r=D.call(t,M),e=t[M];try{t[M]=void 0;var n=!0}catch(t){}var o=T.call(t);return n&&(r?t[M]=e:delete t[M]),o},C=Object.prototype.toString;var z=function(t){return C.call(t)},F=E?E.toStringTag:void 0;var N=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":F&&F in Object(t)?R(t):z(t)};var x=function(t){return null!=t&&"object"==typeof t};var P=function(t){return x(t)&&"[object Arguments]"==N(t)},I=Object.prototype,k=I.hasOwnProperty,B=I.propertyIsEnumerable,$=P(function(){return arguments}())?P:function(t){return x(t)&&k.call(t,"callee")&&!B.call(t,"callee")},L=Array.isArray;var q=function(){return!1},U=m((function(t,r){var e=r&&!r.nodeType&&r,n=e&&t&&!t.nodeType&&t,o=n&&n.exports===e?A.Buffer:void 0,i=(o?o.isBuffer:void 0)||q;t.exports=i})),V=/^(?:0|[1-9]\d*)$/;var Q=function(t,r){var e=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==e||"symbol"!=e&&V.test(t))&&t>-1&&t%1==0&&t<r};var W=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},G={};G["[object Float32Array]"]=G["[object Float64Array]"]=G["[object Int8Array]"]=G["[object Int16Array]"]=G["[object Int32Array]"]=G["[object Uint8Array]"]=G["[object Uint8ClampedArray]"]=G["[object Uint16Array]"]=G["[object Uint32Array]"]=!0,G["[object Arguments]"]=G["[object Array]"]=G["[object ArrayBuffer]"]=G["[object Boolean]"]=G["[object DataView]"]=G["[object Date]"]=G["[object Error]"]=G["[object Function]"]=G["[object Map]"]=G["[object Number]"]=G["[object Object]"]=G["[object RegExp]"]=G["[object Set]"]=G["[object String]"]=G["[object WeakMap]"]=!1;var H=function(t){return x(t)&&W(t.length)&&!!G[N(t)]};var J=function(t){return function(r){return t(r)}},K=m((function(t,r){var e=r&&!r.nodeType&&r,n=e&&t&&!t.nodeType&&t,o=n&&n.exports===e&&O.process,i=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=i})),X=K&&K.isTypedArray,Y=X?J(X):H,Z=Object.prototype.hasOwnProperty;var tt=function(t,r){var e=L(t),n=!e&&$(t),o=!e&&!n&&U(t),i=!e&&!n&&!o&&Y(t),u=e||n||o||i,a=u?_(t.length,String):[],c=a.length;for(var f in t)!r&&!Z.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Q(f,c))||a.push(f);return a},rt=Object.prototype;var et=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||rt)};var nt=function(t,r){return function(e){return t(r(e))}}(Object.keys,Object),ot=Object.prototype.hasOwnProperty;var it=function(t){if(!et(t))return nt(t);var r=[];for(var e in Object(t))ot.call(t,e)&&"constructor"!=e&&r.push(e);return r};var ut=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)};var at=function(t){if(!ut(t))return!1;var r=N(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r};var ct=function(t){return null!=t&&W(t.length)&&!at(t)};var ft=function(t){return ct(t)?tt(t):it(t)};var st=function(t,r){return function(e,n){if(null==e)return e;if(!ct(e))return t(e,n);for(var o=e.length,i=r?o:-1,u=Object(e);(r?i--:++i<o)&&!1!==n(u[i],i,u););return e}}((function(t,r){return t&&g(t,r,ft)}));var lt=function(t,r){var e=[];return st(t,(function(t,n,o){r(t,n,o)&&e.push(t)})),e};var vt=function(){this.__data__=[],this.size=0};var pt=function(t,r){return t===r||t!=t&&r!=r};var ht=function(t,r){for(var e=t.length;e--;)if(pt(t[e][0],r))return e;return-1},yt=Array.prototype.splice;var dt=function(t){var r=this.__data__,e=ht(r,t);return!(e<0)&&(e==r.length-1?r.pop():yt.call(r,e,1),--this.size,!0)};var bt=function(t){var r=this.__data__,e=ht(r,t);return e<0?void 0:r[e][1]};var gt=function(t){return ht(this.__data__,t)>-1};var _t=function(t,r){var e=this.__data__,n=ht(e,t);return n<0?(++this.size,e.push([t,r])):e[n][1]=r,this};function jt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}jt.prototype.clear=vt,jt.prototype.delete=dt,jt.prototype.get=bt,jt.prototype.has=gt,jt.prototype.set=_t;var mt=jt;var Ot=function(){this.__data__=new mt,this.size=0};var wt=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e};var At=function(t){return this.__data__.get(t)};var Et,St=function(t){return this.__data__.has(t)},Dt=A["__core-js_shared__"],Tt=(Et=/[^.]+$/.exec(Dt&&Dt.keys&&Dt.keys.IE_PROTO||""))?"Symbol(src)_1."+Et:"";var Mt=function(t){return!!Tt&&Tt in t},Rt=Function.prototype.toString;var Ct=function(t){if(null!=t){try{return Rt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},zt=/^\[object .+?Constructor\]$/,Ft=Function.prototype,Nt=Object.prototype,xt=Ft.toString,Pt=Nt.hasOwnProperty,It=RegExp("^"+xt.call(Pt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var kt=function(t){return!(!ut(t)||Mt(t))&&(at(t)?It:zt).test(Ct(t))};var Bt=function(t,r){return null==t?void 0:t[r]};var $t=function(t,r){var e=Bt(t,r);return kt(e)?e:void 0},Lt=$t(A,"Map"),qt=$t(Object,"create");var Ut=function(){this.__data__=qt?qt(null):{},this.size=0};var Vt=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},Qt=Object.prototype.hasOwnProperty;var Wt=function(t){var r=this.__data__;if(qt){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return Qt.call(r,t)?r[t]:void 0},Gt=Object.prototype.hasOwnProperty;var Ht=function(t){var r=this.__data__;return qt?void 0!==r[t]:Gt.call(r,t)};var Jt=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=qt&&void 0===r?"__lodash_hash_undefined__":r,this};function Kt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}Kt.prototype.clear=Ut,Kt.prototype.delete=Vt,Kt.prototype.get=Wt,Kt.prototype.has=Ht,Kt.prototype.set=Jt;var Xt=Kt;var Yt=function(){this.size=0,this.__data__={hash:new Xt,map:new(Lt||mt),string:new Xt}};var Zt=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var tr=function(t,r){var e=t.__data__;return Zt(r)?e["string"==typeof r?"string":"hash"]:e.map};var rr=function(t){var r=tr(this,t).delete(t);return this.size-=r?1:0,r};var er=function(t){return tr(this,t).get(t)};var nr=function(t){return tr(this,t).has(t)};var or=function(t,r){var e=tr(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function ir(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}ir.prototype.clear=Yt,ir.prototype.delete=rr,ir.prototype.get=er,ir.prototype.has=nr,ir.prototype.set=or;var ur=ir;var ar=function(t,r){var e=this.__data__;if(e instanceof mt){var n=e.__data__;if(!Lt||n.length<199)return n.push([t,r]),this.size=++e.size,this;e=this.__data__=new ur(n)}return e.set(t,r),this.size=e.size,this};function cr(t){var r=this.__data__=new mt(t);this.size=r.size}cr.prototype.clear=Ot,cr.prototype.delete=wt,cr.prototype.get=At,cr.prototype.has=St,cr.prototype.set=ar;var fr=cr;var sr=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var lr=function(t){return this.__data__.has(t)};function vr(t){var r=-1,e=null==t?0:t.length;for(this.__data__=new ur;++r<e;)this.add(t[r])}vr.prototype.add=vr.prototype.push=sr,vr.prototype.has=lr;var pr=vr;var hr=function(t,r){for(var e=-1,n=null==t?0:t.length;++e<n;)if(r(t[e],e,t))return!0;return!1};var yr=function(t,r){return t.has(r)};var dr=function(t,r,e,n,o,i){var u=1&e,a=t.length,c=r.length;if(a!=c&&!(u&&c>a))return!1;var f=i.get(t),s=i.get(r);if(f&&s)return f==r&&s==t;var l=-1,v=!0,p=2&e?new pr:void 0;for(i.set(t,r),i.set(r,t);++l<a;){var h=t[l],y=r[l];if(n)var d=u?n(y,h,l,r,t,i):n(h,y,l,t,r,i);if(void 0!==d){if(d)continue;v=!1;break}if(p){if(!hr(r,(function(t,r){if(!yr(p,r)&&(h===t||o(h,t,e,n,i)))return p.push(r)}))){v=!1;break}}else if(h!==y&&!o(h,y,e,n,i)){v=!1;break}}return i.delete(t),i.delete(r),v},br=A.Uint8Array;var gr=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t,n){e[++r]=[n,t]})),e};var _r=function(t){var r=-1,e=Array(t.size);return t.forEach((function(t){e[++r]=t})),e},jr=E?E.prototype:void 0,mr=jr?jr.valueOf:void 0;var Or=function(t,r,e,n,o,i,u){switch(e){case"[object DataView]":if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=r.byteLength||!i(new br(t),new br(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return pt(+t,+r);case"[object Error]":return t.name==r.name&&t.message==r.message;case"[object RegExp]":case"[object String]":return t==r+"";case"[object Map]":var a=gr;case"[object Set]":var c=1&n;if(a||(a=_r),t.size!=r.size&&!c)return!1;var f=u.get(t);if(f)return f==r;n|=2,u.set(t,r);var s=dr(a(t),a(r),n,o,i,u);return u.delete(t),s;case"[object Symbol]":if(mr)return mr.call(t)==mr.call(r)}return!1};var wr=function(t,r){for(var e=-1,n=r.length,o=t.length;++e<n;)t[o+e]=r[e];return t};var Ar=function(t,r,e){var n=r(t);return L(t)?n:wr(n,e(t))};var Er=function(){return[]},Sr=Object.prototype.propertyIsEnumerable,Dr=Object.getOwnPropertySymbols,Tr=Dr?function(t){return null==t?[]:(t=Object(t),b(Dr(t),(function(r){return Sr.call(t,r)})))}:Er;var Mr=function(t){return Ar(t,ft,Tr)},Rr=Object.prototype.hasOwnProperty;var Cr=function(t,r,e,n,o,i){var u=1&e,a=Mr(t),c=a.length;if(c!=Mr(r).length&&!u)return!1;for(var f=c;f--;){var s=a[f];if(!(u?s in r:Rr.call(r,s)))return!1}var l=i.get(t),v=i.get(r);if(l&&v)return l==r&&v==t;var p=!0;i.set(t,r),i.set(r,t);for(var h=u;++f<c;){var y=t[s=a[f]],d=r[s];if(n)var b=u?n(d,y,s,r,t,i):n(y,d,s,t,r,i);if(!(void 0===b?y===d||o(y,d,e,n,i):b)){p=!1;break}h||(h="constructor"==s)}if(p&&!h){var g=t.constructor,_=r.constructor;g==_||!("constructor"in t)||!("constructor"in r)||"function"==typeof g&&g instanceof g&&"function"==typeof _&&_ instanceof _||(p=!1)}return i.delete(t),i.delete(r),p},zr=$t(A,"DataView"),Fr=$t(A,"Promise"),Nr=$t(A,"Set"),xr=$t(A,"WeakMap"),Pr=Ct(zr),Ir=Ct(Lt),kr=Ct(Fr),Br=Ct(Nr),$r=Ct(xr),Lr=N;(zr&&"[object DataView]"!=Lr(new zr(new ArrayBuffer(1)))||Lt&&"[object Map]"!=Lr(new Lt)||Fr&&"[object Promise]"!=Lr(Fr.resolve())||Nr&&"[object Set]"!=Lr(new Nr)||xr&&"[object WeakMap]"!=Lr(new xr))&&(Lr=function(t){var r=N(t),e="[object Object]"==r?t.constructor:void 0,n=e?Ct(e):"";if(n)switch(n){case Pr:return"[object DataView]";case Ir:return"[object Map]";case kr:return"[object Promise]";case Br:return"[object Set]";case $r:return"[object WeakMap]"}return r});var qr=Lr,Ur="[object Object]",Vr=Object.prototype.hasOwnProperty;var Qr=function(t,r,e,n,o,i){var u=L(t),a=L(r),c=u?"[object Array]":qr(t),f=a?"[object Array]":qr(r),s=(c="[object Arguments]"==c?Ur:c)==Ur,l=(f="[object Arguments]"==f?Ur:f)==Ur,v=c==f;if(v&&U(t)){if(!U(r))return!1;u=!0,s=!1}if(v&&!s)return i||(i=new fr),u||Y(t)?dr(t,r,e,n,o,i):Or(t,r,c,e,n,o,i);if(!(1&e)){var p=s&&Vr.call(t,"__wrapped__"),h=l&&Vr.call(r,"__wrapped__");if(p||h){var y=p?t.value():t,d=h?r.value():r;return i||(i=new fr),o(y,d,e,n,i)}}return!!v&&(i||(i=new fr),Cr(t,r,e,n,o,i))};var Wr=function t(r,e,n,o,i){return r===e||(null==r||null==e||!x(r)&&!x(e)?r!=r&&e!=e:Qr(r,e,n,o,t,i))};var Gr=function(t,r,e,n){var o=e.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=e[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=e[o])[0],f=t[c],s=a[1];if(u&&a[2]){if(void 0===f&&!(c in t))return!1}else{var l=new fr;if(n)var v=n(f,s,c,t,r,l);if(!(void 0===v?Wr(s,f,3,n,l):v))return!1}}return!0};var Hr=function(t){return t==t&&!ut(t)};var Jr=function(t){for(var r=ft(t),e=r.length;e--;){var n=r[e],o=t[n];r[e]=[n,o,Hr(o)]}return r};var Kr=function(t,r){return function(e){return null!=e&&(e[t]===r&&(void 0!==r||t in Object(e)))}};var Xr=function(t){var r=Jr(t);return 1==r.length&&r[0][2]?Kr(r[0][0],r[0][1]):function(e){return e===t||Gr(e,t,r)}};var Yr=function(t){return"symbol"==typeof t||x(t)&&"[object Symbol]"==N(t)},Zr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,te=/^\w*$/;var re=function(t,r){if(L(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!Yr(t))||(te.test(t)||!Zr.test(t)||null!=r&&t in Object(r))};function ee(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var e=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return e.cache=i.set(o,u)||i,u};return e.cache=new(ee.Cache||ur),e}ee.Cache=ur;var ne=ee;var oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/\\(\\)?/g,ue=function(t){var r=ne(t,(function(t){return 500===e.size&&e.clear(),t})),e=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(oe,(function(t,e,n,o){r.push(n?o.replace(ie,"$1"):e||t)})),r}));var ae=function(t,r){for(var e=-1,n=null==t?0:t.length,o=Array(n);++e<n;)o[e]=r(t[e],e,t);return o},ce=E?E.prototype:void 0,fe=ce?ce.toString:void 0;var se=function t(r){if("string"==typeof r)return r;if(L(r))return ae(r,t)+"";if(Yr(r))return fe?fe.call(r):"";var e=r+"";return"0"==e&&1/r==-1/0?"-0":e};var le=function(t){return null==t?"":se(t)};var ve=function(t,r){return L(t)?t:re(t,r)?[t]:ue(le(t))};var pe=function(t){if("string"==typeof t||Yr(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r};var he=function(t,r){for(var e=0,n=(r=ve(r,t)).length;null!=t&&e<n;)t=t[pe(r[e++])];return e&&e==n?t:void 0};var ye=function(t,r,e){var n=null==t?void 0:he(t,r);return void 0===n?e:n};var de=function(t,r){return null!=t&&r in Object(t)};var be=function(t,r,e){for(var n=-1,o=(r=ve(r,t)).length,i=!1;++n<o;){var u=pe(r[n]);if(!(i=null!=t&&e(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&W(o)&&Q(u,o)&&(L(t)||$(t))};var ge=function(t,r){return null!=t&&be(t,r,de)};var _e=function(t,r){return re(t)&&Hr(r)?Kr(pe(t),r):function(e){var n=ye(e,t);return void 0===n&&n===r?ge(e,t):Wr(r,n,3)}};var je=function(t){return t};var me=function(t){return function(r){return null==r?void 0:r[t]}};var Oe=function(t){return function(r){return he(r,t)}};var we=function(t){return re(t)?me(pe(t)):Oe(t)};var Ae=function(t){return"function"==typeof t?t:null==t?je:"object"==typeof t?L(t)?_e(t[0],t[1]):Xr(t):we(t)};var Ee=function(t,r){return(L(t)?b:lt)(t,Ae(r))};var Se=function(t){return function(r,e,n){var o=Object(r);if(!ct(r)){var i=Ae(e);r=ft(r),e=function(t){return i(o[t],t,o)}}var u=t(r,e,n);return u>-1?o[i?r[u]:u]:void 0}};var De=function(t,r,e,n){for(var o=t.length,i=e+(n?1:-1);n?i--:++i<o;)if(r(t[i],i,t))return i;return-1},Te=/^\s+|\s+$/g,Me=/^[-+]0x[0-9a-f]+$/i,Re=/^0b[01]+$/i,Ce=/^0o[0-7]+$/i,ze=parseInt;var Fe=function(t){if("number"==typeof t)return t;if(Yr(t))return NaN;if(ut(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=ut(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Te,"");var e=Re.test(t);return e||Ce.test(t)?ze(t.slice(2),e?2:8):Me.test(t)?NaN:+t};var Ne=function(t){return t?(t=Fe(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var xe=function(t){var r=Ne(t),e=r%1;return r==r?e?r-e:r:0},Pe=Math.max;var Ie=Se((function(t,r,e){var n=null==t?0:t.length;if(!n)return-1;var o=null==e?0:xe(e);return o<0&&(o=Pe(n+o,0)),De(t,Ae(r),o)})),ke=E?E.isConcatSpreadable:void 0;var Be=function(t){return L(t)||$(t)||!!(ke&&t&&t[ke])};var $e=function t(r,e,n,o,i){var u=-1,a=r.length;for(n||(n=Be),i||(i=[]);++u<a;){var c=r[u];e>0&&n(c)?e>1?t(c,e-1,n,o,i):wr(i,c):o||(i[i.length]=c)}return i};var Le=function(t,r){var e=-1,n=ct(t)?Array(t.length):[];return st(t,(function(t,o,i){n[++e]=r(t,o,i)})),n};var qe=function(t,r){var e=t.length;for(t.sort(r);e--;)t[e]=t[e].value;return t};var Ue=function(t,r){if(t!==r){var e=void 0!==t,n=null===t,o=t==t,i=Yr(t),u=void 0!==r,a=null===r,c=r==r,f=Yr(r);if(!a&&!f&&!i&&t>r||i&&u&&c&&!a&&!f||n&&u&&c||!e&&c||!o)return 1;if(!n&&!i&&!f&&t<r||f&&e&&o&&!n&&!i||a&&e&&o||!u&&o||!c)return-1}return 0};var Ve=function(t,r,e){for(var n=-1,o=t.criteria,i=r.criteria,u=o.length,a=e.length;++n<u;){var c=Ue(o[n],i[n]);if(c)return n>=a?c:c*("desc"==e[n]?-1:1)}return t.index-r.index};var Qe=function(t,r,e){r=r.length?ae(r,(function(t){return L(t)?function(r){return he(r,1===t.length?t[0]:t)}:t})):[je];var n=-1;r=ae(r,J(Ae));var o=Le(t,(function(t,e,o){return{criteria:ae(r,(function(r){return r(t)})),index:++n,value:t}}));return qe(o,(function(t,r){return Ve(t,r,e)}))};var We=function(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)},Ge=Math.max;var He=function(t,r,e){return r=Ge(void 0===r?t.length-1:r,0),function(){for(var n=arguments,o=-1,i=Ge(n.length-r,0),u=Array(i);++o<i;)u[o]=n[r+o];o=-1;for(var a=Array(r+1);++o<r;)a[o]=n[o];return a[r]=e(u),We(t,this,a)}};var Je=function(t){return function(){return t}},Ke=function(){try{var t=$t(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Xe=Ke?function(t,r){return Ke(t,"toString",{configurable:!0,enumerable:!1,value:Je(r),writable:!0})}:je,Ye=Date.now;var Ze=function(t){var r=0,e=0;return function(){var n=Ye(),o=16-(n-e);if(e=n,o>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}(Xe);var tn=function(t,r,e){if(!ut(e))return!1;var n=typeof r;return!!("number"==n?ct(e)&&Q(r,e.length):"string"==n&&r in e)&&pt(e[r],t)},rn=function(t,r){return Ze(He(t,r,je),t+"")}((function(t,r){if(null==t)return[];var e=r.length;return e>1&&tn(t,r[0],r[1])?r=[]:e>2&&tn(r[0],r[1],r[2])&&(r=[r[0]]),Qe(t,$e(r,1),[])}));function en(t,r){return rn(Ee(t,{parentId:r}),"position")}function nn(t,r,e){var n=en(t,e);if(!e||!n.length)return n;var o=r.getLevel(Ie(t,{id:e}).type).subLevels;return Ee(n,(function(t){return o.includes(t.type)}))}var on=Object.freeze({__proto__:null,isChanged:function(t){return!t.publishedAt||new Date(t.modifiedAt)>new Date(t.publishedAt)},getParent:function(t,r){var e=ye(r,"parentId",null);return e&&Ie(t,{id:e})},getChildren:en,getDescendants:function t(r,e){var n=Ee(r,{parentId:e.id});if(!n.length)return[];var o=n.reduce((function(e,n){return e.concat(t(r,n))}),[]);return n.concat(o)},getAncestors:function t(r,e){var n=Ie(r,{id:e.parentId});if(!n)return[];var o=t(r,n);return[].concat(f(o),[n])},getOutlineChildren:nn,toTreeFormat:function t(r,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return nn(r,e,n).map((function(n){return Object.assign({},n,{name:n.data.name,level:o,selectable:e.isEditable(n.type),children:t(r,e,n.id,o+1)})}))}}),un=function(t,r){var e="000000000"+t;return e.substr(e.length-r)},an=un(process.pid.toString(36),2),cn=a.default.hostname(),fn=cn.length,sn=un(cn.split("").reduce((function(t,r){return+t+r.charCodeAt(0)}),+fn+36).toString(36),2),ln=function(){return an+sn},vn=Math.pow(2,32)-1,pn=0,hn=Math.pow(36,4);function yn(){return un((Math.abs(c.default.randomBytes(4).readInt32BE()/vn)*hn<<0).toString(36),4)}function dn(){return pn=pn<hn?pn:0,++pn-1}function bn(){return"c"+(new Date).getTime().toString(36)+un(dn().toString(36),4)+ln()+(yn()+yn())}bn.slug=function(){var t=(new Date).getTime().toString(36),r=dn().toString(36).slice(-4),e=ln().slice(0,1)+ln().slice(-1),n=yn().slice(-2);return t.slice(-2)+r+e+n},bn.isCuid=function(t){return"string"==typeof t&&!!t.startsWith("c")},bn.isSlug=function(t){if("string"!=typeof t)return!1;var r=t.length;return r>=7&&r<=10},bn.fingerprint=ln;var gn=bn;var _n=function(t){return"function"==typeof t?t:je},jn=Math.min;var mn=function(t,r){if((t=xe(t))<1||t>9007199254740991)return[];var e=4294967295,n=jn(t,4294967295);r=_n(r),t-=4294967295;for(var o=_(n,r);++e<t;)r(e);return o},On={question:[],hint:""},wn={MC:function(){return Object.assign({type:"MC"},On,{answers:["","",""],correct:[]})},NR:function(){return Object.assign({type:"NR"},On,{prefixes:[""],suffixes:[""],correct:[""]})},SC:function(){return Object.assign({type:"SC"},On,{answers:["",""],correct:""})},TR:function(){return Object.assign({type:"TR"},On,{correct:""})},TF:function(){return Object.assign({type:"TF"},On,{correct:null})},FB:function(){return Object.assign({type:"FB"},On,{correct:[]})},MQ:function(){var t=Object.assign({type:"MQ"},On,{premises:[],responses:[],correct:{},headings:{premise:"Premise",response:"Response"}});return mn(2,(function(){var r=gn(),e=gn();t.premises.push({key:r,value:""}),t.responses.push({key:e,value:""}),t.correct[r]=e})),t},DD:function(){var t=Object.assign({type:"DD"},On,{groups:{},answers:{},correct:{}});return mn(2,(function(){var r=gn(),e=gn();t.groups[r]="",t.answers[e]="",t.correct[r]=[e]})),t}},An=Object.freeze({__proto__:null,typeInfo:{MC:{type:"MC",title:"Multiple choice",class:"multiple-choice"},SC:{type:"SC",title:"Single choice",class:"single-choice"},TR:{type:"TR",title:"Text response",class:"text-response"},NR:{type:"NR",title:"Numerical response",class:"numerical-response"},TF:{type:"TF",title:"True - false",class:"true-false"},FB:{type:"FB",title:"Fill in the blank",class:"fill-blank"},MQ:{type:"MQ",title:"Matching question",class:"matching-question"},DD:{type:"DD",title:"Drag & Drop",class:"drag-drop"}},defaults:wn,getErrorMessages:function(t,r){return t.filter((function(t){return t.path.includes(r)})).map((function(t){return t.message}))}}),En=Object.freeze({__proto__:null,Discussion:{SAVE:"comment:save",REMOVE:"comment:remove",SET_LAST_SEEN:"comment:setLastSeen",RESOLVE:"element:resolveComments"}}),Sn="ABCDEFGHIJKLMNOPQRSTUVWXYZ",Dn=Sn.length;function Tn(t){return["QUESTION","REFLECTION","ASSESSMENT"].includes(t)}function Mn(t){return Tn(t)?"QUESTION-CONTAINER":t}t.Events=En,t.InsertLocation=l,t.activity=on,t.assessment=An,t.calculatePosition=function(t){var r=t.newPosition,e=t.items,n=t.action,o=void 0===n?p:n,i=t.count,u=void 0===i?1:i;y.apply(void 0,arguments);var a=f(e);o===p&&a.splice(r,u);var c=e.length;void 0!==r&&(c=o===v?r+1:r);var s=d(a,c,u);return 1===u?s[0]:s},t.getComponentName=function(t){return"tce-".concat(u.default.slug(Mn(t)))},t.getContainerName=function(t){return"tcc-".concat(u.default.slug(t))},t.getElementId=function(t){return t&&(t.uid||t.id)},t.getMetaName=function(t){return"meta-".concat(u.default.slug(t))},t.getPositions=d,t.getToolbarName=function(t){return"".concat(u.default.slug(t),"-toolbar")},t.isQuestion=Tn,t.numberToLetter=function(t){var r=[];do{var e=t%Dn;r.push(e),t=Math.floor(t/Dn)}while(t-- >0);for(var n=[];r.length;)n.push(Sn[r.pop()]);return n.join("")},t.processAnswerType=function(t){return"answer-".concat(u.default.slug(t))},t.publishDiffChangeTypes={NEW:"new",CHANGED:"changed",REMOVED:"removed"},t.resolveElementType=Mn,t.uuid=function(){return o.v1()},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=tailor-utils.umd.min.js.map
