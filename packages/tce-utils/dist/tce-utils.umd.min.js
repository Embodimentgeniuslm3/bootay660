!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("os"),require("crypto")):"function"==typeof define&&define.amd?define(["exports","os","crypto"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).TceUtils={},t.os,t.crypto)}(this,(function(t,e,r){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=n(e),i=n(r);function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var u={ADD_BEFORE:"ADD_BEFORE",ADD_AFTER:"ADD_AFTER",ADD_INTO:"ADD_INTO",REORDER:"REORDER"},a=Object.freeze({__proto__:null,default:u}),f=u.ADD_AFTER,l=u.REORDER,p=function(t,e){var r=t.lower,n=void 0===r?0:r,o=t.upper,i=o?(o-n)/(e+1):1;return Array.from({length:e}).map((function(t,e){return i*(e+1)+n}))};function y(t){Object.prototype.hasOwnProperty.call(t,"isFirstChild")&&console.warn("Deprecation notice:\n    'isFirstChild' option is deprecated and no longer used!\n    Providing it does not affect this function.")}var d=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=t[e-1]||{},o=n.position,i=t[e]||{},s=i.position;return p({lower:o,upper:s},r)};var g=function(t,e){var r="000000000"+t;return r.substr(r.length-e)},v=g(process.pid.toString(36),2),b=o.default.hostname(),h=b.length,m=g(b.split("").reduce((function(t,e){return+t+e.charCodeAt(0)}),+h+36).toString(36),2),O=function(){return v+m},j=Math.pow(2,32)-1,D=0,T=Math.pow(36,4);function S(){return g((Math.abs(i.default.randomBytes(4).readInt32BE()/j)*T<<0).toString(36),4)}function R(){return D=D<T?D:0,++D-1}function w(){return"c"+(new Date).getTime().toString(36)+g(R().toString(36),4)+O()+(S()+S())}w.slug=function(){var t=(new Date).getTime().toString(36),e=R().toString(36).slice(-4),r=O().slice(0,1)+O().slice(-1),n=S().slice(-2);return t.slice(-2)+e+r+n},w.isCuid=function(t){return"string"==typeof t&&!!t.startsWith("c")},w.isSlug=function(t){if("string"!=typeof t)return!1;var e=t.length;return e>=7&&e<=10},w.fingerprint=O;var A=w;var F=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var M=function(t){return t};var _=function(t){return"function"==typeof t?t:M};var E=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},C="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},N="object"==typeof C&&C&&C.Object===Object&&C,I="object"==typeof self&&self&&self.Object===Object&&self,x=(N||I||Function("return this")()).Symbol,B=Object.prototype,P=B.hasOwnProperty,q=B.toString,$=x?x.toStringTag:void 0;var k=function(t){var e=P.call(t,$),r=t[$];try{t[$]=void 0;var n=!0}catch(t){}var o=q.call(t);return n&&(e?t[$]=r:delete t[$]),o},Q=Object.prototype.toString;var U=function(t){return Q.call(t)},z=x?x.toStringTag:void 0;var L=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":z&&z in Object(t)?k(t):U(t)};var W=function(t){return null!=t&&"object"==typeof t};var G=function(t){return"symbol"==typeof t||W(t)&&"[object Symbol]"==L(t)},H=/^\s+|\s+$/g,J=/^[-+]0x[0-9a-f]+$/i,K=/^0b[01]+$/i,V=/^0o[0-7]+$/i,X=parseInt;var Y=function(t){if("number"==typeof t)return t;if(G(t))return NaN;if(E(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=E(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(H,"");var r=K.test(t);return r||V.test(t)?X(t.slice(2),r?2:8):J.test(t)?NaN:+t};var Z=function(t){return t?(t=Y(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var tt=function(t){var e=Z(t),r=e%1;return e==e?r?e-r:e:0},et=Math.min;var rt=function(t,e){if((t=tt(t))<1||t>9007199254740991)return[];var r=4294967295,n=et(t,4294967295);e=_(e),t-=4294967295;for(var o=F(n,e);++r<t;)e(r);return o},nt={question:[],hint:""},ot={MC:function(){return Object.assign({type:"MC"},nt,{answers:["","",""],correct:[]})},NR:function(){return Object.assign({type:"NR"},nt,{prefixes:[""],suffixes:[""],correct:[""]})},SC:function(){return Object.assign({type:"SC"},nt,{answers:["",""],correct:""})},TR:function(){return Object.assign({type:"TR"},nt,{correct:""})},TF:function(){return Object.assign({type:"TF"},nt,{correct:null})},FB:function(){return Object.assign({type:"FB"},nt,{correct:[]})},MQ:function(){var t=Object.assign({type:"MQ"},nt,{premises:[],responses:[],correct:{},headings:{premise:"Premise",response:"Response"}});return rt(2,(function(){var e=A(),r=A();t.premises.push({key:e,value:""}),t.responses.push({key:r,value:""}),t.correct[e]=r})),t},DD:function(){var t=Object.assign({type:"DD"},nt,{groups:{},answers:{},correct:{}});return rt(2,(function(){var e=A(),r=A();t.groups[e]="",t.answers[r]="",t.correct[e]=[r]})),t}},it=Object.freeze({__proto__:null,typeInfo:{MC:{type:"MC",title:"Multiple choice",class:"multiple-choice"},SC:{type:"SC",title:"Single choice",class:"single-choice"},TR:{type:"TR",title:"Text response",class:"text-response"},NR:{type:"NR",title:"Numerical response",class:"numerical-response"},TF:{type:"TF",title:"True - false",class:"true-false"},FB:{type:"FB",title:"Fill in the blank",class:"fill-blank"},MQ:{type:"MQ",title:"Matching question",class:"matching-question"},DD:{type:"DD",title:"Drag & Drop",class:"drag-drop"}},defaults:ot,getErrorMessages:function(t,e){return t.filter((function(t){return t.path.includes(e)})).map((function(t){return t.message}))}});t.InsertLocation=a,t.assessment=it,t.calculatePosition=function(t){var e=t.newPosition,r=t.items,n=t.action,o=void 0===n?l:n,i=t.count,c=void 0===i?1:i;y.apply(void 0,arguments);var u=s(r);o===l&&u.splice(e,c);var a=r.length;void 0!==e&&(a=o===f?e+1:e);var p=d(u,a,c);return 1===c?p[0]:p},t.getPositions=d,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=tce-utils.umd.min.js.map
