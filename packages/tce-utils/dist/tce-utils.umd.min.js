!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("to-case"),require("os"),require("crypto"),require("uuid")):"function"==typeof define&&define.amd?define(["exports","to-case","os","crypto","uuid"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TceUtils={},e.toCase,e.os,e.crypto,e.uuid$1)}(this,(function(e,t,n,r,o){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=i(t),c=i(n),s=i(r);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={ADD_BEFORE:"ADD_BEFORE",ADD_AFTER:"ADD_AFTER",ADD_INTO:"ADD_INTO",REORDER:"REORDER"},p=Object.freeze({__proto__:null,default:f}),d=f.ADD_AFTER,g=f.REORDER,y=function(e,t){var n=e.lower,r=void 0===n?0:n,o=e.upper,i=o?(o-r)/(t+1):1;return Array.from({length:t}).map((function(e,t){return i*(t+1)+r}))};function v(e){Object.prototype.hasOwnProperty.call(e,"isFirstChild")&&console.warn("Deprecation notice:\n    'isFirstChild' option is deprecated and no longer used!\n    Providing it does not affect this function.")}var b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e[t-1]||{},o=r.position,i=e[t]||{},u=i.position;return y({lower:o,upper:u},n)};var m=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},h=m(process.pid.toString(36),2),O=c.default.hostname(),S=O.length,T=m(O.split("").reduce((function(e,t){return+e+t.charCodeAt(0)}),+S+36).toString(36),2),E=function(){return h+T},j=Math.pow(2,32)-1,D=0,R=Math.pow(36,4);function A(){return m((Math.abs(s.default.randomBytes(4).readInt32BE()/j)*R<<0).toString(36),4)}function w(){return D=D<R?D:0,++D-1}function N(){return"c"+(new Date).getTime().toString(36)+m(w().toString(36),4)+E()+(A()+A())}N.slug=function(){var e=(new Date).getTime().toString(36),t=w().toString(36).slice(-4),n=E().slice(0,1)+E().slice(-1),r=A().slice(-2);return e.slice(-2)+t+n+r},N.isCuid=function(e){return"string"==typeof e&&!!e.startsWith("c")},N.isSlug=function(e){if("string"!=typeof e)return!1;var t=e.length;return t>=7&&t<=10},N.fingerprint=E;var _=N;var M=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var C=function(e){return e};var F=function(e){return"function"==typeof e?e:C};var I=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},x="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},B="object"==typeof x&&x&&x.Object===Object&&x,P="object"==typeof self&&self&&self.Object===Object&&self,q=(B||P||Function("return this")()).Symbol,Q=Object.prototype,$=Q.hasOwnProperty,L=Q.toString,U=q?q.toStringTag:void 0;var k=function(e){var t=$.call(e,U),n=e[U];try{e[U]=void 0;var r=!0}catch(e){}var o=L.call(e);return r&&(t?e[U]=n:delete e[U]),o},z=Object.prototype.toString;var V=function(e){return z.call(e)},W=q?q.toStringTag:void 0;var G=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":W&&W in Object(e)?k(e):V(e)};var H=function(e){return null!=e&&"object"==typeof e};var J=function(e){return"symbol"==typeof e||H(e)&&"[object Symbol]"==G(e)},K=/^\s+|\s+$/g,X=/^[-+]0x[0-9a-f]+$/i,Y=/^0b[01]+$/i,Z=/^0o[0-7]+$/i,ee=parseInt;var te=function(e){if("number"==typeof e)return e;if(J(e))return NaN;if(I(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=I(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(K,"");var n=Y.test(e);return n||Z.test(e)?ee(e.slice(2),n?2:8):X.test(e)?NaN:+e};var ne=function(e){return e?(e=te(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var re=function(e){var t=ne(e),n=t%1;return t==t?n?t-n:t:0},oe=Math.min;var ie=function(e,t){if((e=re(e))<1||e>9007199254740991)return[];var n=4294967295,r=oe(e,4294967295);t=F(t),e-=4294967295;for(var o=M(r,t);++n<e;)t(n);return o},ue={question:[],hint:""},ce={MC:function(){return Object.assign({type:"MC"},ue,{answers:["","",""],correct:[]})},NR:function(){return Object.assign({type:"NR"},ue,{prefixes:[""],suffixes:[""],correct:[""]})},SC:function(){return Object.assign({type:"SC"},ue,{answers:["",""],correct:""})},TR:function(){return Object.assign({type:"TR"},ue,{correct:""})},TF:function(){return Object.assign({type:"TF"},ue,{correct:null})},FB:function(){return Object.assign({type:"FB"},ue,{correct:[]})},MQ:function(){var e=Object.assign({type:"MQ"},ue,{premises:[],responses:[],correct:{},headings:{premise:"Premise",response:"Response"}});return ie(2,(function(){var t=_(),n=_();e.premises.push({key:t,value:""}),e.responses.push({key:n,value:""}),e.correct[t]=n})),e},DD:function(){var e=Object.assign({type:"DD"},ue,{groups:{},answers:{},correct:{}});return ie(2,(function(){var t=_(),n=_();e.groups[t]="",e.answers[n]="",e.correct[t]=[n]})),e}},se=Object.freeze({__proto__:null,typeInfo:{MC:{type:"MC",title:"Multiple choice",class:"multiple-choice"},SC:{type:"SC",title:"Single choice",class:"single-choice"},TR:{type:"TR",title:"Text response",class:"text-response"},NR:{type:"NR",title:"Numerical response",class:"numerical-response"},TF:{type:"TF",title:"True - false",class:"true-false"},FB:{type:"FB",title:"Fill in the blank",class:"fill-blank"},MQ:{type:"MQ",title:"Matching question",class:"matching-question"},DD:{type:"DD",title:"Drag & Drop",class:"drag-drop"}},defaults:ce,getErrorMessages:function(e,t){return e.filter((function(e){return e.path.includes(t)})).map((function(e){return e.message}))}});var ae=Object.freeze({__proto__:null,Discussion:{SAVE:"comment:save",REMOVE:"comment:remove",SET_LAST_SEEN:"comment:setLastSeen",RESOLVE:"element:resolveComments"}});function le(e){return["QUESTION","REFLECTION","ASSESSMENT"].includes(e)}function fe(e){return le(e)?"QUESTION-CONTAINER":e}e.Events=ae,e.InsertLocation=p,e.assessment=se,e.calculatePosition=function(e){var t=e.newPosition,n=e.items,r=e.action,o=void 0===r?g:r,i=e.count,u=void 0===i?1:i;v.apply(void 0,arguments);var c=a(n);o===g&&c.splice(t,u);var s=n.length;void 0!==t&&(s=o===d?t+1:t);var l=b(c,s,u);return 1===u?l[0]:l},e.getComponentName=function(e){return"tce-".concat(u.default.slug(fe(e)))},e.getContainerName=function(e){return"tcc-".concat(u.default.slug(e))},e.getElementId=function(e){return e&&(e.uid||e.id)},e.getMetaName=function(e){return"meta-".concat(u.default.slug(e))},e.getPositions=b,e.getToolbarName=function(e){return"".concat(u.default.slug(e),"-toolbar")},e.isQuestion=le,e.processAnswerType=function(e){return"answer-".concat(u.default.slug(e))},e.resolveElementType=fe,e.uuid=function(){return o.v1()},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=tce-utils.umd.min.js.map
