!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("to-case"),require("os"),require("crypto"),require("uuid")):"function"==typeof define&&define.amd?define(["exports","to-case","os","crypto","uuid"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TceUtils={},e.toCase,e.os,e.crypto,e.uuid$1)}(this,(function(e,t,n,r,o){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=i(t),c=i(n),s=i(r);function a(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f={ADD_BEFORE:"ADD_BEFORE",ADD_AFTER:"ADD_AFTER",ADD_INTO:"ADD_INTO",REORDER:"REORDER"},p=f.ADD_AFTER,d=f.REORDER,g=function(e,t){var n=e.lower,r=void 0===n?0:n,o=e.upper,i=o?(o-r)/(t+1):1;return Array.from({length:t}).map((function(e,t){return i*(t+1)+r}))};function y(e){Object.prototype.hasOwnProperty.call(e,"isFirstChild")&&console.warn("Deprecation notice:\n    'isFirstChild' option is deprecated and no longer used!\n    Providing it does not affect this function.")}var v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=e[t-1]||{},o=r.position,i=e[t]||{},u=i.position;return g({lower:o,upper:u},n)};var b=function(e,t){var n="000000000"+e;return n.substr(n.length-t)},m=b(process.pid.toString(36),2),h=c.default.hostname(),O=h.length,E=b(h.split("").reduce((function(e,t){return+e+t.charCodeAt(0)}),+O+36).toString(36),2),S=function(){return m+E},T=Math.pow(2,32)-1,D=0,j=Math.pow(36,4);function R(){return b((Math.abs(s.default.randomBytes(4).readInt32BE()/T)*j<<0).toString(36),4)}function A(){return D=D<j?D:0,++D-1}function N(){return"c"+(new Date).getTime().toString(36)+b(A().toString(36),4)+S()+(R()+R())}N.slug=function(){var e=(new Date).getTime().toString(36),t=A().toString(36).slice(-4),n=S().slice(0,1)+S().slice(-1),r=R().slice(-2);return e.slice(-2)+t+n+r},N.isCuid=function(e){return"string"==typeof e&&!!e.startsWith("c")},N.isSlug=function(e){if("string"!=typeof e)return!1;var t=e.length;return t>=7&&t<=10},N.fingerprint=S;var w=N;var C=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var M=function(e){return e};var _=function(e){return"function"==typeof e?e:M};var F=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},x="object"==typeof I&&I&&I.Object===Object&&I,B="object"==typeof self&&self&&self.Object===Object&&self,P=(x||B||Function("return this")()).Symbol,q=Object.prototype,Q=q.hasOwnProperty,$=q.toString,L=P?P.toStringTag:void 0;var U=function(e){var t=Q.call(e,L),n=e[L];try{e[L]=void 0;var r=!0}catch(e){}var o=$.call(e);return r&&(t?e[L]=n:delete e[L]),o},k=Object.prototype.toString;var V=function(e){return k.call(e)},z=P?P.toStringTag:void 0;var W=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":z&&z in Object(e)?U(e):V(e)};var G=function(e){return null!=e&&"object"==typeof e};var H=function(e){return"symbol"==typeof e||G(e)&&"[object Symbol]"==W(e)},J=/^\s+|\s+$/g,K=/^[-+]0x[0-9a-f]+$/i,X=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,Z=parseInt;var ee=function(e){if("number"==typeof e)return e;if(H(e))return NaN;if(F(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=F(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(J,"");var n=X.test(e);return n||Y.test(e)?Z(e.slice(2),n?2:8):K.test(e)?NaN:+e};var te=function(e){return e?(e=ee(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var ne=function(e){var t=te(e),n=t%1;return t==t?n?t-n:t:0},re=Math.min;var oe=function(e,t){if((e=ne(e))<1||e>9007199254740991)return[];var n=4294967295,r=re(e,4294967295);t=_(t),e-=4294967295;for(var o=C(r,t);++n<e;)t(n);return o},ie={question:[],hint:""},ue={MC:function(){return Object.assign({type:"MC"},ie,{answers:["","",""],correct:[]})},NR:function(){return Object.assign({type:"NR"},ie,{prefixes:[""],suffixes:[""],correct:[""]})},SC:function(){return Object.assign({type:"SC"},ie,{answers:["",""],correct:""})},TR:function(){return Object.assign({type:"TR"},ie,{correct:""})},TF:function(){return Object.assign({type:"TF"},ie,{correct:null})},FB:function(){return Object.assign({type:"FB"},ie,{correct:[]})},MQ:function(){var e=Object.assign({type:"MQ"},ie,{premises:[],responses:[],correct:{},headings:{premise:"Premise",response:"Response"}});return oe(2,(function(){var t=w(),n=w();e.premises.push({key:t,value:""}),e.responses.push({key:n,value:""}),e.correct[t]=n})),e},DD:function(){var e=Object.assign({type:"DD"},ie,{groups:{},answers:{},correct:{}});return oe(2,(function(){var t=w(),n=w();e.groups[t]="",e.answers[n]="",e.correct[t]=[n]})),e}},ce=Object.freeze({__proto__:null,typeInfo:{MC:{type:"MC",title:"Multiple choice",class:"multiple-choice"},SC:{type:"SC",title:"Single choice",class:"single-choice"},TR:{type:"TR",title:"Text response",class:"text-response"},NR:{type:"NR",title:"Numerical response",class:"numerical-response"},TF:{type:"TF",title:"True - false",class:"true-false"},FB:{type:"FB",title:"Fill in the blank",class:"fill-blank"},MQ:{type:"MQ",title:"Matching question",class:"matching-question"},DD:{type:"DD",title:"Drag & Drop",class:"drag-drop"}},defaults:ue,getErrorMessages:function(e,t){return e.filter((function(e){return e.path.includes(t)})).map((function(e){return e.message}))}});var se=Object.freeze({__proto__:null,Discussion:{SAVE:"comment:save",REMOVE:"comment:remove",SET_LAST_SEEN:"comment:setLastSeen",RESOLVE:"element:resolveComments"}});function ae(e){return["QUESTION","REFLECTION","ASSESSMENT"].includes(e)}function le(e){return ae(e)?"QUESTION-CONTAINER":e}e.Events=se,e.InsertLocation=f,e.assessment=ce,e.calculatePosition=function(e){var t=e.newPosition,n=e.items,r=e.action,o=void 0===r?d:r,i=e.count,u=void 0===i?1:i;y.apply(void 0,arguments);var c=a(n);o===d&&c.splice(t,u);var s=n.length;void 0!==t&&(s=o===p?t+1:t);var l=v(c,s,u);return 1===u?l[0]:l},e.getComponentName=function(e){return"tce-".concat(u.default.slug(le(e)))},e.getContainerName=function(e){return"tcc-".concat(u.default.slug(e))},e.getElementId=function(e){return e&&(e.uid||e.id)},e.getMetaName=function(e){return"meta-".concat(u.default.slug(e))},e.getPositions=v,e.getToolbarName=function(e){return"".concat(u.default.slug(e),"-toolbar")},e.isQuestion=ae,e.processAnswerType=function(e){return"answer-".concat(u.default.slug(e))},e.publishDiffChangeTypes={NEW:"new",CHANGED:"changed",REMOVED:"removed"},e.resolveElementType=le,e.uuid=function(){return o.v1()},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=tce-utils.umd.min.js.map
