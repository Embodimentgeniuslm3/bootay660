!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("lodash/capitalize"),require("@tailor/utils"),require("lodash/filter"),require("lodash/flatMap"),require("lodash/intersection"),require("lodash/pick"),require("lodash/reduce"),require("lodash/reject"),require("lodash/partition"),require("lodash/takeRight"),require("lodash/find"),require("pluralize"),require("@extensionengine/vue-radio"),require("lodash/orderBy"),require("lodash/get"),require("lodash/keyBy"),require("lodash/map"),require("lodash/groupBy"),require("lodash/debounce"),require("lodash/sortBy"),require("lodash/cloneDeep"),require("lodash/isArray"),require("lodash/some"),require("lodash/isEmpty"),require("lodash/omit"),require("lodash/throttle"),require("vuedraggable"),require("lodash/findIndex"),require("lodash/head"),require("lodash/pullAt"),require("lodash/set"),require("lodash/last"),require("lodash/uniqueId"),require("lodash/mapKeys"),require("lodash/values")):"function"==typeof define&&define.amd?define(["exports","lodash/capitalize","@tailor/utils","lodash/filter","lodash/flatMap","lodash/intersection","lodash/pick","lodash/reduce","lodash/reject","lodash/partition","lodash/takeRight","lodash/find","pluralize","@extensionengine/vue-radio","lodash/orderBy","lodash/get","lodash/keyBy","lodash/map","lodash/groupBy","lodash/debounce","lodash/sortBy","lodash/cloneDeep","lodash/isArray","lodash/some","lodash/isEmpty","lodash/omit","lodash/throttle","vuedraggable","lodash/findIndex","lodash/head","lodash/pullAt","lodash/set","lodash/last","lodash/uniqueId","lodash/mapKeys","lodash/values"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TailorComponents={},e.capitalize$1,e.utils,e.filter,e.flatMap,e.intersection,e.pick,e.reduce,e.reject,e.partition,e.takeRgt,e.find,e.pluralize,e.vueRadio,e.orderBy,e.get$1,e.keyBy,e.map,e.groupBy,e.debounce,e.sortBy,e.cloneDeep,e.isArray$1,e.some,e.isEmpty,e.omit,e.throttle,e.Draggable,e.findIndex$1,e.head,e.pullAt,e.set,e.last,e.uniqueId,e.mapKeys$1,e.values$1)}(this,(function(e,t,n,i,r,o,a,s,l,u,c,d,f,p,h,m,v,y,b,g,_,x,w,E,C,O,A,k,S,j,T,N,q,R,F,L){"use strict";function P(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var I=P(t),B=P(i),D=P(r),$=P(o),M=P(a),U=P(s),z=P(l),H=P(u),V=P(c),K=P(d),W=P(f),J=P(h),Z=P(m),G=P(v),Y=P(y),Q=P(b),X=P(g),ee=P(_),te=P(x),ne=P(w),ie=P(E),re=P(C),oe=P(O),ae=P(A),se=P(k),le=P(S),ue=P(j),ce=P(T),de=P(N),fe=P(q),pe=P(R),he=P(F),me=P(L);var ve=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="ActiveUsers.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-center"},e._l(e.users,(function(t){var i=t.id,r=t.label,o=t.imgUrl;return n("v-avatar",{key:i,staticClass:"avatar",attrs:{size:e.size,color:"pink accent-2"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[o?n("img",e._g({attrs:{src:o,alt:r,"aria-describedby":"activeUser-"+i,tabindex:"0"}},a)):e._e()]}}],null,!0)},[e._v(" "),n("span",{attrs:{id:"activeUser-"+i}},[e._v(e._s(r))])])],1)})),1)},staticRenderFns:[]},(function(e){e&&e("data-v-33d463d4_0",{source:".avatar[data-v-33d463d4]{transition:all .2s}.avatar img[data-v-33d463d4]{padding:.125rem}.avatar[data-v-33d463d4]:focus-within,.avatar[data-v-33d463d4]:hover{transform:scale(1.1);z-index:1}.avatar:focus-within img[data-v-33d463d4]:focus,.avatar:hover img[data-v-33d463d4]:focus{outline:0}",map:void 0,media:void 0})}),{name:"tailor-active-users",props:{users:{type:Array,default:function(){return[]}},size:{type:Number,default:36}},filters:{capitalize:I.default}},"data-v-33d463d4",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var ye=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="AddNewElement.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-bottom-sheet",e._g(e._b({attrs:{"max-width":"1240",inset:""}},"v-bottom-sheet",e.$attrs,!1),e.$listeners),[n("div",{staticClass:"element-container grey lighten-5"},[n("div",{staticClass:"d-flex align-center py-4 px-10"},[e._t("header")],2),e._v(" "),e._l(e.library,(function(t){return n("div",{key:t.name},[n("div",{staticClass:"group-heading grey--text text--darken-4"},[e._v(e._s(t.name))]),e._v(" "),n("div",{staticClass:"group-elements"},e._l(t.elements,(function(t){return n("v-hover",{key:t.position,scopedSlots:e._u([{key:"default",fn:function(i){var r=i.hover;return[n("v-btn",{staticClass:"add-element",attrs:{disabled:!e.isAllowed(t.type),color:r?"secondary accent-2":"blue-grey darken-4",text:""},on:{click:function(n){return n.stopPropagation(),e.$emit("add",[t])}}},[t.ui.icon?n("v-icon",{attrs:{size:"26",color:"primary darken-3"}},[e._v("\n              "+e._s(t.ui.icon)+"\n            ")]):e._e(),e._v(" "),n("span",{staticClass:"button-text body-2"},[e._v(e._s(t.name))])],1)]}}],null,!0)})})),1)])}))],2)])},staticRenderFns:[]},(function(e){e&&e("data-v-5e4d908e_0",{source:".element-container[data-v-5e4d908e]{min-height:20rem;padding:0 0 1.875rem;border-top-left-radius:.5rem;border-top-right-radius:.5rem;overflow:hidden}.group-heading[data-v-5e4d908e]{margin:0 2.5rem .375rem;padding-top:.5rem;font-size:.875rem;font-weight:500;line-height:1rem;text-align:left}.group-elements[data-v-5e4d908e]{display:flex;flex-wrap:wrap;width:100%;padding:0 1.875rem}.add-element[data-v-5e4d908e]{width:8.125rem;min-width:8.125rem;height:auto!important;min-height:4.375rem;padding:0!important;white-space:normal}.add-element[data-v-5e4d908e]  .v-btn__content{flex:1 1 100%;flex-direction:column;padding:.375rem;text-transform:none}.add-element .v-icon[data-v-5e4d908e]{padding:.125rem 0;font-size:1.875rem}.add-element .button-text[data-v-5e4d908e]{margin:.625rem 0}",map:void 0,media:void 0})}),{name:"add-new-element",props:{library:{type:Array,required:!0},allowedTypes:{type:Array,required:!0}},methods:{isAllowed:function(e){return!this.allowedTypes.length||this.allowedTypes.includes(e)}}},"data-v-5e4d908e",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||we(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e){return function(e){if(Array.isArray(e))return Ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||we(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ce=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="EditorLink.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor-link"},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("router-link",{attrs:{to:e.editorRoute},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate,o=t.isExactActive;return[n("v-btn",e._g(e._b({attrs:{color:o?"teal accent-4":"primary",text:"","x-small":""},on:{click:r}},"v-btn",e.$attrs,!1),i),[e._v("\n          "+e._s(e.label)+"\n          "),e._t("icon",[n("v-icon",{staticClass:"ml-1",attrs:{"x-small":""}},[e._v("mdi-arrow-top-right-thick")])])],2)]}}],null,!0)})]}}])},[e._v(" "),e._t("tooltip",[n("span",[e._v("View element")])])],2)],1)},staticRenderFns:[]},0,{name:"tailor-editor-link",props:{activityId:{type:Number,required:!0},elementUid:{type:String,default:null},label:{type:String,required:!0}},computed:{editorRoute:function(e){var t=e.activityId,n=e.elementUid;return Object.assign({name:"editor",params:{activityId:t}},n&&{query:{elementId:n}})}}},void 0,!1);var Oe=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="Header.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("v-avatar",{staticClass:"comment-avatar",attrs:{size:"34"}},[n("img",{attrs:{src:e.author.imgUrl}})]),e._v(" "),n("div",{staticClass:"info-container"},[n("div",{staticClass:"d-flex align-center"},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("span",e._g({staticClass:"author text-truncate"},i),[e._v(e._s(e.author.label))])]}}])},[e._v("\n        "+e._s(e.author.label)+"\n      ")]),e._v(" "),e.showEditedLabel?n("span",{staticClass:"edited ml-1"},[e._v("(edited)")]):e._e()],1),e._v(" "),n("div",{staticClass:"d-flex align-center"},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("span",e._g({},i),[n("timeago",{staticClass:"time",attrs:{datetime:e.comment.createdAt,"auto-update":60}})],1)]}}])},[e._v(" "),n("span",[e._v(e._s(e._f("formatDate")(e.comment.createdAt,"DD. MMM h:mm A")))])]),e._v(" "),e.isActivityThread&&e.elementLabel?[n("v-divider",{attrs:{vertical:""}}),e._v(" "),n("editor-link",{attrs:{"activity-id":e.comment.activityId,"element-uid":e.elementUid,label:e.elementLabel}})]:e._e()],2)]),e._v(" "),e.showOptions?n("div",{staticClass:"actions"},e._l(e.options,(function(t,i){var r=t.action,o=t.icon,a=t.color;return n("v-btn",{key:i,staticClass:"ml-1",attrs:{"x-small":"",icon:""},on:{click:function(t){return e.$emit(r)}}},[n("v-icon",{attrs:{color:a,size:"14"}},[e._v(" mdi-"+e._s(o))])],1)})),1):e._e()],1)},staticRenderFns:[]},(function(e){e&&e("data-v-a1e0c4e8_0",{source:".header[data-v-a1e0c4e8]{display:flex;align-items:flex-start}.header .comment-avatar[data-v-a1e0c4e8]{margin:.375rem .375rem 0 0}.header .info-container[data-v-a1e0c4e8]{display:flex;flex-direction:column;flex:0 100%;max-width:calc(100% - 8rem);margin-left:.125rem}.header .info-container .author[data-v-a1e0c4e8]{display:inline-block;max-width:75%;color:#000;font-size:1rem}.header .info-container .edited[data-v-a1e0c4e8],.header .info-container .time[data-v-a1e0c4e8]{color:#888;font-size:.75rem}.header .info-container hr.v-divider--vertical[data-v-a1e0c4e8]{margin:.25rem .125rem .125rem .625rem}.header .info-container[data-v-a1e0c4e8]  .editor-link{display:inline-flex;align-self:flex-end}.header .actions[data-v-a1e0c4e8]{margin-left:auto}",map:void 0,media:void 0})}),{name:"comment-header",props:{comment:{type:Object,required:!0},isActivityThread:{type:Boolean,default:!1},isResolved:{type:Boolean,default:!1},elementLabel:{type:String,default:null},user:{type:Object,required:!0}},computed:{elementUid:function(e){return e.comment.contentElement.uid},author:function(e){return e.comment.author},isAuthor:function(e){return e.author.id===e.user.id},isDeleted:function(e){return!!e.comment.deletedAt},showEditedLabel:function(e){return!!e.comment.editedAt},showOptions:function(e){return e.isAuthor&&!e.isDeleted&&!e.isResolved},options:function(){var e={resolve:{action:"resolve",icon:"check-box-outline",color:"teal accent-4"},edit:{action:"toggleEdit",icon:"pencil-outline",color:"grey"},remove:{action:"remove",icon:"trash-can-outline",color:"grey"}};return this.isActivityThread&&delete e.resolve,e}},components:{EditorLink:Ce}},"data-v-a1e0c4e8",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Ae=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="Preview.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content",class:{resolved:e.isResolved}},[e.isResolved?n("div",{staticClass:"resolvement-options"},[n("span",{staticClass:"font-italic mr-1"},[e._v("Marked as resolved.")]),e._v(" "),n("v-tooltip",{attrs:{"open-delay":"800",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({attrs:{color:"secondary",text:"","x-small":""},on:{click:e.$listeners.unresolve}},i),[e._v("\n          Undo\n        ")])]}}],null,!1,3181083862)},[e._v(" "),n("span",[e._v("Unresolve comment")])])],1):e._e(),e._v(" "),n("pre",[n("span",[e._v(e._s(e.content))]),n("br")])])},staticRenderFns:[]},(function(e){e&&e("data-v-3d625308_0",{source:".content[data-v-3d625308]{margin-top:.375rem}.content pre[data-v-3d625308]{height:100%;margin:0;padding:0 .25rem .5rem 0;font:inherit;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;overflow-wrap:break-word;background:inherit;border:none;overflow:hidden}.content.resolved[data-v-3d625308]{opacity:.7}.content.resolved .resolvement-options[data-v-3d625308]{display:flex;align-items:center;margin-bottom:.25rem;font-size:.75rem}",map:void 0,media:void 0})}),{name:"comment-preview",props:{content:{type:String,default:""},isResolved:{type:Boolean,default:!1}}},"data-v-3d625308",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var ke=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="index.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment"},[n("comment-header",e._b({on:{toggleEdit:e.toggleEdit,remove:e.remove,resolve:function(t){return e.$emit("resolve",e.comment)}}},"comment-header",{comment:e.comment,isActivityThread:e.isActivityThread,isResolved:e.isResolved,elementLabel:e.elementLabel,user:e.user},!1)),e._v(" "),n("div",{staticClass:"comment-body"},[e.isEditing?[n("v-textarea",{staticClass:"comment-editor",attrs:{rows:"3",autofocus:"",outlined:"","auto-grow":"",clearable:"",counter:""},model:{value:e.content,callback:function(t){e.content="string"==typeof t?t.trim():t},expression:"content"}}),e._v(" "),n("span",{staticClass:"d-flex justify-end"},[n("v-btn",{attrs:{text:"",small:""},on:{click:e.reset}},[e._v("Cancel")]),e._v(" "),n("v-btn",{attrs:{color:"green",text:"",small:""},on:{click:e.save}},[n("v-icon",{staticClass:"pr-1"},[e._v("mdi-check")]),e._v(" Save\n        ")],1)],1)]:n("comment-preview",e._b({on:{unresolve:function(t){return e.$emit("unresolve",e.comment)}}},"comment-preview",{content:e.content,isResolved:e.isResolved},!1))],2)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-3d04e7dc_0",{source:".comment[data-v-3d04e7dc]{display:flex;flex-direction:column;font-family:Roboto,Arial,sans-serif}.comment-body[data-v-3d04e7dc]{flex:1;padding:0 .25rem 0 2.625rem}.comment-editor.v-textarea[data-v-3d04e7dc]{margin:.75rem 0 0 0}.comment-editor.v-textarea[data-v-3d04e7dc]  .v-input__slot{width:auto}",map:void 0,media:void 0})}),{name:"thread-comment",props:{comment:{type:Object,required:!0},isActivityThread:{type:Boolean,default:!1},elementLabel:{type:String,default:null},user:{type:Object,required:!0}},data:function(e){return{content:e.comment.content,isEditing:!1}},computed:{isResolved:function(e){return!!e.comment.resolvedAt}},methods:{toggleEdit:function(){this.isEditing=!this.isEditing},save:function(){var e=this.comment,t=this.content;if(!t)return this.remove();this.toggleEdit(),this.$emit("update",e,t)},remove:function(){this.$emit("remove",this.comment)},reset:function(){this.content=this.comment.content,this.isEditing=!1}},watch:{comment:{deep:!0,handler:"reset"}},components:{CommentHeader:Oe,CommentPreview:Ae}},"data-v-3d04e7dc",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Se=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="List.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"thread-list"},e._l(e.comments,(function(t){return n("li",{key:t.uid,staticClass:"thread-list-item"},[n("v-divider"),e._v(" "),n("thread-comment",e._g(e._b({staticClass:"mb-3",attrs:{"element-label":e.getElementLabel(t)}},"thread-comment",{comment:t,isActivityThread:e.isActivityThread,user:e.user},!1),e.$listeners))],1)})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-b5620cec_0",{source:".thread-list[data-v-b5620cec]{margin:0;padding:0;list-style:none}.thread-list .thread-list-item .v-divider[data-v-b5620cec]{margin:0 .25rem 1rem .25rem}.thread-list .thread-list-item:first-child .v-divider[data-v-b5620cec]{display:none}",map:void 0,media:void 0})}),{name:"thread-list",inject:["$teRegistry"],props:{comments:{type:Array,default:function(){return[]}},isActivityThread:{type:Boolean,default:!1},elementLabel:{type:String,default:null},user:{type:Object,required:!0}},methods:{getElementLabel:function(e){var t,n=e.contentElement;if(n)return null===(t=K.default(this.$teRegistry._registry,{type:n.type}))||void 0===t?void 0:t.name}},components:{ThreadComment:ke}},"data-v-b5620cec",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var je=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="UnseenDivider.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"unseen-divider"},[n("v-divider"),e._v(" "),n("v-chip",{attrs:{"close-icon":"mdi-close",color:"teal accent-4",outlined:"",small:"",close:""},on:{click:function(t){return e.$emit("seen")},"click:close":function(t){return e.$emit("seen")}}},[n("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("mdi-arrow-down")]),e._v(" "),n("span",{staticClass:"mr-2"},[e._v(e._s(e.unseenCommentsLabel))])],1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-221b9d72_0",{source:".unseen-divider[data-v-221b9d72]{text-align:center}.unseen-divider .v-divider[data-v-221b9d72]{margin:1rem 0 .25rem}.unseen-divider[data-v-221b9d72]  .v-chip.v-chip--outlined.v-chip{margin:-1.5rem 0 .5rem 0;border-radius:1rem!important;background-color:#fafafa!important}.unseen-divider[data-v-221b9d72]  .v-chip.v-chip--outlined.v-chip .v-chip__content .v-chip__close{margin-top:.125rem;font-size:.75rem!important}",map:void 0,media:void 0})}),{name:"unseen-divider",props:{count:{type:Number,required:!0}},computed:{unseenCommentsLabel:function(e){var t=e.count;return"".concat(t," new ").concat(W.default("message",t))}}},"data-v-221b9d72",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Te=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="index.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"intersect",rawName:"v-intersect",value:e.onIntersect,expression:"onIntersect"}],staticClass:"discussion-thread",class:{"scroll-container":!e.isActivityThread}},[n("thread-list",e._b({on:{update:e.onUpdate,remove:function(t){return e.$emit("remove",t)},resolve:function(t){return e.$emit("resolve",t)},unresolve:function(t){return e.$emit("unresolve",t)}}},"thread-list",{isActivityThread:e.isActivityThread,user:e.user,comments:e.visibleComments.seen},!1)),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.unseenCount?n("unseen-divider",{ref:"unseenDivider",attrs:{count:e.unseenCount},on:{seen:e.markSeen}}):e._e()],1),e._v(" "),n("thread-list",e._b({on:{update:e.onUpdate,remove:function(t){return e.$emit("remove",t)},resolve:function(t){return e.$emit("resolve",t)},unresolve:function(t){return e.$emit("unresolve",t)}}},"thread-list",{isActivityThread:e.isActivityThread,user:e.user,comments:e.visibleComments.unseen},!1))],1)},staticRenderFns:[]},(function(e){e&&e("data-v-c6af8436_0",{source:".discussion-thread[data-v-c6af8436]{width:100%}.discussion-thread.scroll-container[data-v-c6af8436]{max-height:31.25rem;overflow-y:scroll;overflow-x:hidden;padding-right:1.5rem;box-sizing:content-box}.discussion-thread .fade-enter-active[data-v-c6af8436],.discussion-thread .fade-leave-active[data-v-c6af8436]{transition:opacity .5s}.discussion-thread .fade-enter[data-v-c6af8436],.discussion-thread .fade-leave-to[data-v-c6af8436]{opacity:0}",map:void 0,media:void 0})}),{name:"discussion-thread",props:{items:{type:Array,required:!0},showAll:{type:Boolean,default:!1},minDisplayed:{type:Number,default:5},isActivityThread:{type:Boolean,default:!1},unseenCount:{type:Number,required:!0},user:{type:Object,required:!0}},data:function(){return{isVisible:!1}},computed:{visibleComments:function(){var e=this.items,t=this.minDisplayed,n=this.showAll?e:V.default(e,t),i=_e(H.default(n,"unseen"),2),r=i[0];return{seen:i[1],unseen:r}}},methods:{onUpdate:function(e,t){this.$emit("update",Object.assign({},e,{content:t}))},onIntersect:function(e,t,n){this.isVisible=n},revealUnseen:function(e){var t=this.$refs,n=this.minDisplayed;(e||this.unseenCount)<n||(this.$emit("showAll",!0),this.$nextTick((function(){var e=t.unseenDivider.$el;e&&e.scrollIntoView({behavior:"smooth"})})))},markSeen:function(){this.$emit("seen"),this.$emit("showAll",!1)}},watch:{isVisible:function(e){e&&this.unseenCount&&this.revealUnseen()},unseenCount:{immediate:!0,handler:"revealUnseen"}},components:{UnseenDivider:je,ThreadList:Se}},"data-v-c6af8436",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Ne=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="ResolveButton.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"resolve-btn-container"},[n("v-tooltip",{attrs:{"open-delay":"800",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({staticClass:"px-1",attrs:{color:"teal accent-4",small:"",text:""}},Object.assign({},e.$listeners,i)),[n("v-icon",{staticClass:"mr-2",attrs:{size:"24",color:"teal accent-4"}},[e._v("\n          mdi-check-box-outline\n        ")]),e._v("\n        Resolve All\n      ")],1)]}}])},[e._v(" "),n("span",[e._v("Mark all as resolved and hide discussion")])])],1)},staticRenderFns:[]},0,{name:"resolve-comments-btn"},void 0,!1);var qe=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="index.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"discussion",staticClass:"embedded-discussion"},[e.showResolveButton?n("resolve-button",{on:{click:e.resolveAll}}):e._e(),e._v(" "),n("div",{class:{"pb-7":!e.showHeading&&e.hasHiddenComments}},[e.hasHiddenComments?n("v-btn",{staticClass:"float-right mt-1",attrs:{text:"","x-small":""},on:{click:function(t){e.showAll=!e.showAll}}},[e._v("\n      Show "+e._s(e.showAll?"less":"more")+"\n    ")]):e._e()],1),e._v(" "),e.showHeading?n("div",{staticClass:"header d-flex grey--text text--darken-3"},[n("v-icon",{staticClass:"mr-2",attrs:{color:"grey darken-3"}},[e._v("\n      mdi-forum-outline\n    ")]),e._v("\n    Comments\n  ")],1):e._e(),e._v(" "),!e.commentsCount&&e.showNotifications?n("v-alert",{staticClass:"alert",attrs:{color:"primary lighten-5",icon:"mdi-keyboard-outline",prominent:""}},[n("span",{staticClass:"px-1 subtitle-2"},[e._v("\n      Be the First to Comment!\n    ")])]):e._e(),e._v(" "),e.thread.length?n("discussion-thread",{staticClass:"mt-2",attrs:{items:e.thread,"show-all":e.showAll,"min-displayed":e.commentsShownLimit,"is-activity-thread":e.isActivityThread,"unseen-count":e.unseenComments.length,user:e.user},on:{update:function(t){return e.$emit("update",t)},resolve:function(t){return e.$emit("resolve",t)},unresolve:function(t){return e.$emit("unresolve",t)},seen:function(t){return e.$emit("seen")},remove:e.remove,showAll:function(t){e.showAll=t}}}):e._e(),e._v(" "),n("div",{ref:"inputContainer",staticClass:"text-right"},[n("v-textarea",{ref:"commentInput",staticClass:"comment-input",attrs:{placeholder:e.commentsCount?"Add a comment...":"Start the discussion...",rows:"3",outlined:"","auto-grow":"",clearable:"",counter:""},on:{focus:function(t){return e.$emit("seen")}},model:{value:e.comment.content,callback:function(t){e.$set(e.comment,"content","string"==typeof t?t.trim():t)},expression:"comment.content"}}),e._v(" "),n("v-btn",{attrs:{disabled:e.isTextEditorEmpty,icon:""},on:{click:e.post}},[n("v-icon",[e._v("mdi-send")])],1)],1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-5744b719_0",{source:".embedded-discussion[data-v-5744b719]{font-family:Roboto,Arial,sans-serif}.embedded-discussion .resolve-btn-container[data-v-5744b719]{display:flex;justify-content:flex-end;margin:.5rem 0 0 0}.embedded-discussion .header[data-v-5744b719]{margin:.875rem 0 1.625rem 0;font-size:1.125rem;font-weight:400}.embedded-discussion .comment-input[data-v-5744b719]{margin:0 .25rem 0 .25rem}.embedded-discussion .alert[data-v-5744b719]  .v-icon{color:var(--v-primary-darken2)!important}",map:void 0,media:void 0})}),{name:"tailor-embedded-discussion",inheritAttrs:!0,props:{comments:{type:Array,default:function(){return[]}},unseenComments:{type:Array,default:function(){return[]}},commentsShownLimit:{type:Number,default:5},scrollTarget:{type:String,default:"discussion"},showHeading:{type:Boolean,default:!1},showNotifications:{type:Boolean,default:!1},isActivityThread:{type:Boolean,default:!1},hasUnresolvedComments:{type:Boolean,default:!1},isVisible:{type:Boolean,default:!1},user:{type:Object,required:!0}},data:function(){return{showAll:!1,comment:{content:""}}},computed:{thread:function(){var e=this.comments,t=this.unseenComments,n=e.map((function(e){var n=t.find((function(t){return t.id===e.id}));return Object.assign({},e,{unseen:!!n})}));return J.default(n,["unseen","createdAt"],"asc")},commentsCount:function(e){return e.thread.length},hasHiddenComments:function(e){return e.commentsShownLimit<e.commentsCount},isTextEditorEmpty:function(e){var t;return!(null!==(t=e.comment.content)&&void 0!==t&&t.trim())},showResolveButton:function(e){return e.hasUnresolvedComments&&!e.isActivityThread}},methods:Object.assign({},p.mapRequests("app",["showConfirmationModal"]),{post:function(){var e=this,t=this.scrollTarget,n=this.comment,i=this.user;if(n.content){var r={content:n.content,author:i,createdAt:Date.now(),updatedAt:Date.now()};this.comment={content:""},this.$emit("save",r);var o={block:"center",behavior:"smooth"};this.$nextTick((function(){return e.$refs[t].scrollIntoView(o)}))}},remove:function(e){var t=this;this.showConfirmationModal(Object.assign({title:"Remove comment",message:"Are you sure you want to remove this comment?",action:function(){return t.$emit("remove",e)}},this.onConfirmationActive()))},resolveAll:function(){var e=this;this.showConfirmationModal(Object.assign({title:"Resolve all comments",message:"Are you sure you want to resolve all comments?",action:function(){return e.$emit("resolve")}},this.onConfirmationActive()))},onConfirmationActive:function(){var e=this;return{onOpen:function(){return e.$emit("update:confirmationActive",!0)},onClose:function(){return e.$emit("update:confirmationActive",!1)}}}}),watch:{commentsCount:function(){this.$emit("change",this.thread)},isVisible:{immediate:!0,handler:function(e){var t=this;!e&&this.isActivityThread||setTimeout((function(){return t.$refs.commentInput.focus()}),500)}}},created:function(){this.comment={content:""}},components:{DiscussionThread:Te,ResolveButton:Ne}},"data-v-5744b719",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Re=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="ElementDiscussion.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"close-on-content-click":!1,"close-on-click":!e.isConfirmationActive,"min-width":"300",transition:"slide-y-transition",left:"","offset-y":"",attach:""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-tooltip",{attrs:{"open-delay":"800",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({class:e.activator.class,attrs:{"x-small":"",icon:""}},Object.assign({},i,r)),[e.activator.text?n("div",{staticClass:"unseen"},[e._v(e._s(e.activator.text))]):n("v-icon",{attrs:{color:e.activator.color,size:"18"}},[e._v("\n            "+e._s(e.activator.icon)+"\n          ")])],1)]}}],null,!0)},[e._v(" "),n("span",[e._v(e._s(e.activator.tooltip))])])]}}]),model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[e._v(" "),n("discussion",e._b({staticClass:"pa-2",attrs:{"confirmation-active":e.isConfirmationActive},on:{save:e.save,update:e.save,remove:function(t){return e.editorBus.emit(e.events.REMOVE,t)},seen:e.setLastSeen,resolve:e.resolve,"update:confirmationActive":function(t){e.isConfirmationActive=t},"update:confirmation-active":function(t){e.isConfirmationActive=t}}},"discussion",{comments:e.comments,unseenComments:e.unseenComments,hasUnresolvedComments:e.hasUnresolvedComments,user:e.user,isVisible:e.isVisible},!1))],1)},staticRenderFns:[]},(function(e){e&&e("data-v-382b8ce9_0",{source:"[data-v-382b8ce9] .v-menu__content{background:#fff}[data-v-382b8ce9] .v-menu__content .embedded-discussion{text-align:left}[data-v-382b8ce9] .v-menu__content .comment .author{font-size:.875rem}.unseen[data-v-382b8ce9]{font-size:.75rem}",map:void 0,media:void 0})}),{name:"tailor-element-discussion",props:{id:{type:Number,default:null},uid:{type:String,required:!0},comments:{type:Array,required:!0},hasUnresolvedComments:{type:Boolean,default:!1},lastSeen:{type:Number,required:!0},user:{type:Object,required:!0}},data:function(){return{isVisible:!1,isConfirmationActive:!1}},computed:Object.assign({},p.mapChannels({editorBus:"editor"}),{events:function(){return n.Events.Discussion},lastCommentAt:function(e){return new Date(Z.default(e.comments[0],"createdAt",0)).getTime()},unseenComments:function(){var e=this.comments,t=this.user,n=this.lastSeen;return e.filter((function(e){var i=new Date(e.createdAt).getTime();return e.author.id!==t.id&&i>n}))},activator:function(){var e=this.comments,t=this.unseenComments,n=t.length?"unseen":e.length?"preview":"post";return function(e){return{unseen:{class:"teal accent-4 white--text",tooltip:"View new comments",text:e.length},preview:{icon:"mdi-comment-text-multiple-outline",color:"primary darken-4",tooltip:"View comments"},post:{icon:"mdi-message-plus-outline",color:"primary darken-4",tooltip:"Post a comment"}}}(t)[n]}}),methods:{save:function(e){var t=this.user,i=this.id,r=this.hasUnresolvedComments;return this.editorBus.emit(n.Events.Discussion.SAVE,Object.assign({},e,{author:t,contentElementId:i,hasUnresolvedComments:r}))},setLastSeen:function(e){var t=this.uid,n=this.lastCommentAt,i=this.events,r={elementUid:t,lastCommentAt:n,timeout:e};this.editorBus.emit(i.SET_LAST_SEEN,r)},resolve:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.resolvedAt,i=this.id,r=this.events;this.editorBus.emit(r.RESOLVE,{id:t,contentElementId:i,resolvedAt:n})}},watch:{isVisible:function(e){e&&this.$emit("open")}},components:{Discussion:qe}},"data-v-382b8ce9",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Fe=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="PublishDiffChip.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this.$createElement,t=this._self._c||e;return this.changeType?t("v-chip",{staticClass:"readonly font-weight-medium text-capitalize",attrs:{"text-color":"new"===this.changeType?"success":"secondary",color:"primary lighten-5",small:"",round:""}},[this._v("\n  "+this._s(this.changeType)+"\n")]):this._e()},staticRenderFns:[]},0,{name:"tailor-publish-diff-chip",props:{changeType:{validator:function(e){return!e||Object.values(n.publishDiffChangeTypes).includes(e)},default:null}}},void 0,!1);var Le=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="ContentElement.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-element",class:[e.element.changeSincePublish,{selected:e.activeUsers.length,focused:e.isFocused,diff:e.$editorState.isPublishDiff,frame:e.frame}],on:{click:e.onSelect}},[n("div",{staticClass:"header d-flex",class:{visible:e.$editorState.isPublishDiff&&e.element.changeSincePublish}},[n("publish-diff-chip",{staticClass:"ml-auto ",attrs:{"change-type":e.element.changeSincePublish}})],1),e._v(" "),n("active-users",{staticClass:"active-users",attrs:{users:e.activeUsers,size:20}}),e._v(" "),n(e.componentName,e._b({tag:"component",attrs:{id:"element_"+e.id},on:{add:function(t){return e.$emit("add",t)},save:e.onSave,delete:function(t){return e.$emit("delete")},focus:e.onSelect}},"component",Object.assign({},e.$attrs,{element:e.element,isFocused:e.isFocused,isDragged:e.isDragged,isDisabled:e.isDisabled,dense:e.dense}),!1)),e._v(" "),e.isDisabled?e._e():n("div",{staticClass:"element-actions"},[e.showDiscussion?n("div",{class:{"is-visible":e.isHighlighted||e.hasComments}},[n("discussion",e._b({attrs:{user:e.currentUser},on:{open:e.focus}},"discussion",e.element,!1))],1):e._e(),e._v(" "),e.parent?e._e():n("div",{class:{"is-visible":e.isHighlighted}},[n("v-btn",{attrs:{color:"pink lighten-1",dark:"",icon:"","x-small":""},on:{click:function(t){return e.$emit("delete")}}},[n("v-icon",{attrs:{size:"20"}},[e._v("mdi-delete-outline")])],1)],1)]),e._v(" "),e.isSaving?n("v-progress-linear",{staticClass:"save-indicator",attrs:{height:"2",color:"teal accent-2",indeterminate:""}}):e._e()],1)},staticRenderFns:[]},(function(e){e&&e("data-v-74c5ccda_0",{source:".content-element[data-v-74c5ccda]{position:relative;border:1px solid transparent}.content-element[data-v-74c5ccda]::after{content:'';display:none;position:absolute;top:0;right:-.125rem;width:.125rem;height:100%}.content-element.focused[data-v-74c5ccda]{border:1px dashed #1de9b6}.content-element.focused[data-v-74c5ccda]::after{display:block;background:#1de9b6}.content-element.selected[data-v-74c5ccda]{border:1px dashed #ff4081}.content-element.selected[data-v-74c5ccda]::after{display:block;background:#ff4081}.frame[data-v-74c5ccda]{padding:10px 20px;border:1px solid #e1e1e1}.element-actions[data-v-74c5ccda]{display:flex;flex-direction:column;position:absolute;top:-.0625rem;right:-1.25rem;width:1.5rem;height:100%;padding-left:.75rem}.element-actions>*[data-v-74c5ccda]{min-height:1.75rem;opacity:0;transition:opacity .1s linear}.element-actions>.is-visible[data-v-74c5ccda]{opacity:1;transition:opacity .5s linear}.active-users[data-v-74c5ccda]{position:absolute;top:0;left:-1.625rem}.save-indicator[data-v-74c5ccda]{position:absolute;bottom:-.125rem;left:0}.header[data-v-74c5ccda]{width:100%;max-height:0}.header.visible[data-v-74c5ccda]{max-height:unset;padding:0 0 .5rem}.diff.new[data-v-74c5ccda]{border:none;box-shadow:0 0 0 2px var(--v-success-lighten2)!important}.diff.changed[data-v-74c5ccda],.diff.removed[data-v-74c5ccda]{border:none;box-shadow:0 0 0 2px var(--v-secondary-lighten4)!important}.diff .element-actions[data-v-74c5ccda]{display:none}",map:void 0,media:void 0})}),{name:"tailor-content-element",inject:{$getCurrentUser:{},$editorState:{default:{}}},inheritAttrs:!1,props:{element:{type:Object,required:!0},parent:{type:Object,default:null},isHovered:{type:Boolean,default:!1},isDragged:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},frame:{type:Boolean,default:!0},dense:{type:Boolean,default:!1},showDiscussion:{type:Boolean,default:!1}},data:function(){return{isFocused:!1,isSaving:!1,activeUsers:[]}},computed:Object.assign({},p.mapChannels({editorBus:"editor"}),{id:function(e){return n.getElementId(e.element)},componentName:function(e){return n.getComponentName(e.element.type)},isEmbed:function(e){return!!e.parent||!e.element.uid},isHighlighted:function(e){return e.isFocused||e.isHovered},hasComments:function(e){var t;return!(null===(t=e.element.comments)||void 0===t||!t.length)},elementBus:function(e){return e.$radio.channel("element:".concat(e.id))},currentUser:function(e){return e.$getCurrentUser()}}),methods:{onSelect:function(e){this.isDisabled||this.$editorState.isPublishDiff||e.component||(this.focus(),e.component={name:"content-element",data:this.element})},onSave:function(e){this.isEmbed||(this.isSaving=!0),this.$emit("save",e)},focus:function(){this.editorBus.emit("element:focus",this.element,this.parent)}},created:function(){var e=this;this.elementBus.on("delete",(function(){return e.$emit("delete")})),this.elementBus.on("save:meta",(function(t){return e.$emit("save:meta",t)})),this.elementBus.on("saved",(function(){return setTimeout((function(){return e.isSaving=!1}),1e3)})),this.editorBus.on("element:select",(function(t){var n=t.elementId,i=t.isSelected,r=void 0===i||i,o=t.user;if(e.id===n)return o&&o.id!==e.currentUser.id?void(r&&!e.activeUsers.find((function(e){return e.id===o.id}))?e.activeUsers.push(o):!r&&e.activeUsers.find((function(e){return e.id===o.id}))&&(e.activeUsers=e.activeUsers.filter((function(e){return e.id!==o.id})))):(e.isFocused=r,void(r&&e.focus()))})),this.editorBus.on("element:focus",(function(t){e.isFocused=!!t&&n.getElementId(t)===e.id}))},provide:function(){return{$elementBus:this.elementBus}},components:{ActiveUsers:ve,Discussion:Re,PublishDiffChip:Fe}},"data-v-74c5ccda",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Pe=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="Element.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-preview-container float-none",class:e.elementWidth},[e.selectable?n("v-checkbox",{attrs:{"input-value":e.isSelected,disabled:e.disabled,color:"primary darken-4"},on:{click:e.toggleSelection}}):e._e(),e._v(" "),n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var i=t.hover;return[n("div",{staticClass:"element-wrapper flex-grow-1"},[n("content-element",e._b({staticClass:"content-element",class:{selected:e.isSelected},attrs:{element:e.element,"set-width":!1}},"content-element",e.$attrs,!1)),e._v(" "),n("v-tooltip",{attrs:{"open-delay":"400",top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticClass:"open-element-button",class:{visible:i},attrs:{color:"blue-grey darken-4",fab:"",depressed:"","x-small":""},on:{click:function(t){return t.stopPropagation(),e.$emit("element:open",e.element.uid)}}},r),[n("v-icon",{attrs:{color:"secondary lighten-4",dense:""}},[e._v("mdi-open-in-new")])],1)]}}],null,!0)},[e._v(" "),n("span",[e._v("Open in editor")])])],1)]}}])})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-72d4e8ff_0",{source:".element-preview-container[data-v-72d4e8ff]{display:flex;position:relative;margin:.25rem 0}.element-preview-container .v-input[data-v-72d4e8ff]{margin:0}.content-element[data-v-72d4e8ff]{flex:1 0;margin:.4375rem 0 0 .25rem;box-shadow:none;border:1px solid #e1e1e1}.content-element.selected[data-v-72d4e8ff]{border-style:dashed;border-color:#444}.content-element.selected[data-v-72d4e8ff]::after{display:none}.element-preview-container[data-v-72d4e8ff]  .contained-content{margin:0}.element-preview-container[data-v-72d4e8ff]  .contained-content .message span:not(.heading){display:none}.element-preview-container[data-v-72d4e8ff]  .contained-content .ql-editor{word-break:break-all}.element-wrapper[data-v-72d4e8ff]{position:relative}.open-element-button[data-v-72d4e8ff]{position:absolute;top:0;right:-.75rem;transition:opacity .4s}.open-element-button[data-v-72d4e8ff]:not(.visible){opacity:0}",map:void 0,media:void 0})}),{name:"content-element-preview",props:{element:{type:Object,required:!0},selectable:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},selectionDisabled:{type:Boolean,default:!1}},computed:{disabled:function(e){return e.selectionDisabled&&!e.isSelected},elementWidth:function(e){return"col-xs-".concat(Z.default(e.element,"data.width",12))}},methods:{toggleSelection:function(){this.selectable&&!this.disabled&&this.$emit("toggle")}},components:{ContentElement:Le}},"data-v-72d4e8ff",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Ie=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="index.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-preview"},[e.elements.length?e._e():n("v-alert",{staticClass:"mx-4",attrs:{color:"grey darken-4",text:""}},[e._v("\n    No available elements.\n  ")]),e._v(" "),e._l(e.processedContainers,(function(t){return n("div",{key:t.id,staticClass:"content-container d-flex flex-wrap"},e._l(t.elements,(function(t){return n("content-element",{key:t.id,attrs:{element:t,selectable:e.selectable,"is-selected":!!e.selectionMap[t.id],"selection-disabled":e.isSelectionDisabled,"is-disabled":""},on:{toggle:function(n){return e.$emit("toggle",t)},"element:open":function(t){return e.$emit("element:open",t)}}})})),1)}))],2)},staticRenderFns:[]},(function(e){e&&e("data-v-2013b96d_0",{source:".content-preview .v-alert[data-v-2013b96d]{display:flex;align-items:center;justify-content:center;height:19rem}.content-preview .content-container[data-v-2013b96d]:last-child{margin-bottom:.625rem}",map:void 0,media:void 0})}),{name:"content-preview",props:{contentContainers:{type:Array,required:!0},selectable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},allowedTypes:{type:Array,default:function(){return[]}},selected:{type:Array,default:function(){return[]}}},computed:{isSelectionDisabled:function(){return this.selectable&&!this.multiple&&!!this.selected.length},selectionMap:function(e){return G.default(e.selected,"id")},processedContainers:function(){var e=this.contentContainers,t=this.allowedTypes;return t.length?e.map((function(e){return Object.assign({},e,{elements:e.elements.filter((function(e){return t.includes(e.type)}))})})):e},elements:function(){return this.processedContainers.reduce((function(e,t){return e.concat(t.elements)}),[])}},components:{ContentElement:Pe}},"data-v-2013b96d",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));function Be(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}function De(e){return e&&e.default||e}var $e=Be((function(e){var t=function(){var e=new Error("Delay aborted");return e.name="AbortError",e},n=function(e){var n=e.clearTimeout,i=e.setTimeout,r=e.willResolve;return function(e){var o,a,s,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=l.value,c=l.signal;if(c&&c.aborted)return Promise.reject(t());var d=n||clearTimeout,f=function(){d(o),s(t())},p=function(){c&&c.removeEventListener("abort",f)},h=new Promise((function(t,n){a=function(){p(),r?t(u):n(u)},s=n,o=(i||setTimeout)(a,e)}));return c&&c.addEventListener("abort",f,{once:!0}),h.clear=function(){d(o),o=null,a()},h}},i=n({willResolve:!0});i.reject=n({willResolve:!1}),i.range=function(e,t,n){return i(function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}(e,t),n)},i.createWithTimers=function(e){var t=e.clearTimeout,i=e.setTimeout,r=n({clearTimeout:t,setTimeout:i,willResolve:!0});return r.reject=n({clearTimeout:t,setTimeout:i,willResolve:!1}),r},e.exports=i,e.exports.default=i})),Me=Be((function(e){var t=async function(e,t,n){var i;(n=Object.assign({delayRejection:!0},n)).delayRejection&&(e=e.catch((function(e){i=e})));var r=await Promise.all([e,$e(t)]);return i?Promise.reject(i):r[0]};e.exports=t,e.exports.default=t}));function Ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(){var i=this;return this[t]=!0,Me(Promise.resolve(e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))),n).finally((function(){return i[t]=!1}))}}var ze=n.activity.toTreeFormat;var He=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="SelectActivity.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mx-3"},[n("v-text-field",{attrs:{disabled:!e.activities.length,placeholder:"Filter items...","prepend-inner-icon":"mdi-filter-outline","clear-icon":"mdi-close-circle-outline",clearable:"",outlined:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),n("v-treeview",{directives:[{name:"show",rawName:"v-show",value:!e.noResultsMessage,expression:"!noResultsMessage"}],ref:"treeview",staticClass:"py-3 px-1 treeview",attrs:{items:e.activityTree,search:e.search,open:e.expandedActivityIds,transition:"","open-on-click":""},scopedSlots:e._u([{key:"label",fn:function(t){var i=t.item,r=i.id,o=i.data;return[e._v("\n      "+e._s(o.name)+"\n      "),e.groupedSelection[r]?n("v-chip",{staticClass:"readonly custom-chip",attrs:{rounded:"",small:""}},[e._v("\n        "+e._s(e.getChipLabel(e.groupedSelection[r]))+"\n      ")]):e._e()]}},{key:"append",fn:function(t){var i=t.item;return[e.hasContentContainers(i.type)?n("v-btn",{attrs:{color:"primary darken-2",outlined:"",small:""},on:{click:function(t){return e.$emit("selected",i)}}},[e._v("\n        View elements\n      ")]):e._e()]}}])}),e._v(" "),n("v-alert",{attrs:{value:!!e.noResultsMessage,color:"primary darken-2",dark:""}},[e._v("\n    "+e._s(e.noResultsMessage)+"\n  ")])],1)},staticRenderFns:[]},(function(e){e&&e("data-v-ca448cba_0",{source:".treeview[data-v-ca448cba]{max-height:19rem;text-align:left;background-color:#fcfcfc;border:1px solid #eee;overflow-y:scroll}.treeview .v-chip.custom-chip[data-v-ca448cba]{border-radius:12px!important}.treeview[data-v-ca448cba]  .v-treeview-node--leaf>.treeview ::v-deep .v-treeview-node__content>*,.treeview[data-v-ca448cba]  .v-treeview-node--leaf>.treeview ::v-deep .v-treeview-node__root{cursor:auto}",map:void 0,media:void 0})}),{name:"select-activity",inject:["$schemaService"],props:{selectedElements:{type:Array,default:function(){return[]}},activities:{type:Array,default:function(){return[]}}},data:function(){return{search:""}},computed:{groupedSelection:function(e){return Q.default(e.selectedElements,"outlineId")},expandedActivityIds:function(e){return Y.default(e.activities,"id")},activityTree:function(e){return ze(e.activities,e.$schemaService,[])},noResultsMessage:function(){var e=this.activities,t=this.search,n=this.$refs;if(!e.length)return"Empty repository";if(!t||!n)return"";var i=n.treeview,r=i.excludedItems,o=i.nodes;return!(r.size!==Object.keys(o).length)&&"No matches found"}},methods:{hasContentContainers:function(e){return this.$schemaService.isEditable(e)},getChipLabel:function(e){var t=e.length;return"".concat(t," ").concat(W.default("element",t)," selected")}}},"data-v-ca448cba",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Ve=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="SelectRepository.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this.$createElement;return(this._self._c||e)("v-combobox",this._b({staticClass:"mx-3",attrs:{value:this.repository,items:this.repositories,loading:this.loading,"item-value":"id","item-text":"name",label:"Select repository",placeholder:"Type to search repositories...",outlined:"","return-object":""},on:{input:this.selectRepository,"update:search-input":this.fetchRepositories}},"v-combobox",this.$attrs,!1))},staticRenderFns:[]},0,{name:"select-repository",props:{repository:{type:Object,default:null}},inject:["$api"],data:function(){return{repositories:[],loading:!1}},methods:{selectRepository:function(e){K.default(this.repositories,{id:e.id})&&this.$emit("selected",e)},fetchRepositories:X.default(Ue((function(e){var t=this;return this.$api.fetchRepositories({search:e}).then((function(e){t.repositories=ee.default(e,"name")}))}),"loading"),500)},created:function(){this.fetchRepositories()}},void 0,!1);var Ke=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="TailorDialog.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",e._g(e._b({attrs:{width:e.width},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,n){return{key:n,fn:function(t){return[e._t(n,null,null,t)]}}}))],null,!0)},"v-dialog",e.$attrs,!1),e.$listeners),[e._v(" "),n("v-card",[n("v-card-title",{staticClass:"dialog-title primary darken-3",attrs:{"primary-title":""}},[e.headerIcon?n("v-avatar",{staticClass:"mr-3",attrs:{color:"secondary",size:"38"}},[n("v-icon",{attrs:{dark:""}},[e._v(e._s(e.headerIcon))])],1):e._e(),e._v(" "),n("div",{staticClass:"text-truncate"},[e._t("header")],2)],1),e._v(" "),n("v-card-text",{class:[e.paddingless?"pa-0":"pt-7 px-4 pb-2"]},[e._t("body")],2),e._v(" "),e.$slots.actions?n("v-card-actions",{staticClass:"px-4 pb-3"},[n("v-spacer"),e._v(" "),e._t("actions")],2):e._e()],1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-b6f646a2_0",{source:".dialog-title[data-v-b6f646a2]{display:flex;color:#f1f1f1}.dialog-title .text-truncate[data-v-b6f646a2]{flex:1;text-align:left}",map:void 0,media:void 0})}),{name:"tailor-dialog",props:{headerIcon:{type:String,default:null},width:{type:[Number,String],default:500},paddingless:{type:Boolean,default:!1}}},"data-v-b6f646a2",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}})),We=n.activity.getDescendants,Je={label:"Select all",icon:"checkbox-multiple-marked-outline"},Ze={label:"Deselect all",icon:"checkbox-multiple-blank-outline"};var Ge=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="index.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tailor-dialog",{attrs:{value:!0,"header-icon":e.headerIcon,width:"650",scrollable:""},on:{"click:outside":e.close},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(e._s(e.heading))]},proxy:!0},{key:"body",fn:function(){return[e.selection.activity?[e.toggleButton?n("div",{staticClass:"d-flex justify-end mb-2 px-4"},[n("v-btn",{attrs:{outlined:""},on:{click:e.toggleSelectAll}},[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-"+e._s(e.toggleButton.icon))]),e._v("\n          "+e._s(e.toggleButton.label)+"\n        ")],1)],1):e._e(),e._v(" "),e.loadingContent?n("v-progress-circular",{staticClass:"mt-5",attrs:{indeterminate:""}}):n("content-preview",{attrs:{"content-containers":e.items.contentContainers,selected:e.selection.elements,"allowed-types":e.allowedTypes,multiple:e.multiple,selectable:""},on:{toggle:e.toggleElementSelection,"element:open":e.openInEditor}})]:[n("select-repository",{attrs:{repository:e.selection.repository,disabled:e.onlyCurrentRepo},on:{selected:e.selectRepository}}),e._v(" "),e.loadingContent?n("v-progress-circular",{staticClass:"mt-5",attrs:{indeterminate:""}}):n("select-activity",{attrs:{activities:e.items.activities,"selected-elements":e.selection.elements},on:{selected:e.showActivityElements}})]]},proxy:!0},{key:"actions",fn:function(){return[e.selection.activity?n("v-btn",{staticClass:"mr-2",attrs:{text:"",outlined:""},on:{click:e.deselectActivity}},[n("v-icon",{staticClass:"mr-2",attrs:{dense:""}},[e._v("mdi-arrow-left")]),e._v("Back\n    ")],1):e._e(),e._v(" "),n("v-btn",{staticClass:"ml-1",attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),e._v(" "),n("v-btn",{staticClass:"mr-2",attrs:{text:""},on:{click:e.save}},[e._v(e._s(e.submitLabel))])]},proxy:!0}])})},staticRenderFns:[]},0,{name:"select-element",inject:["$schemaService","$repository","$api"],props:{selected:{type:Array,default:function(){return[]}},heading:{type:String,required:!0},allowedTypes:{type:Array,required:!0},multiple:{type:Boolean,default:!0},submitLabel:{type:String,default:"Save"},headerIcon:{type:String,default:"mdi-toy-brick-plus-outline"},onlyCurrentRepo:{type:Boolean,default:!1}},data:function(){return{items:{activities:[],contentContainers:[]},selection:{repository:null,activity:null,elements:[]},loadingContent:!1}},computed:{currentRepository:function(e){return e.$repository},allElementsSelected:function(e){return e.selection.elements.length===e.elements.length},rootContainerTypes:function(){var e,t=null===(e=this.selection.activity)||void 0===e?void 0:e.type;return t&&this.getContainerTypes(t)},processedContainers:function(){var e=this,t=this.selection.activity,n=this.items.activities;if(!t||!n.length)return[];var i=ee.default(n.filter(this.isRootContainer),[this.getTypePosition,"position","createdAt"]);return D.default(i,(function(t){return[t].concat(xe(e.getSubcontainers(t)))}))},elements:function(){var e=this,t=D.default(this.items.contentContainers,"elements");return this.allowedTypes.length?t.filter((function(t){return e.allowedTypes.includes(t.type)})):t},toggleButton:function(){var e=this.allElementsSelected,t=this.elements,n=this.multiple,i=this.selection;if(n&&i.activity&&t.length)return e?Ze:Je}},methods:{getContainerTypes:function(e){return Y.default(this.$schemaService.getSupportedContainers(e),"type")},getTypePosition:function(e){var t=e.type;return this.rootContainerTypes.indexOf(t)},isRootContainer:function(e){var t=e.parentId,n=e.type,i=this.selection.activity,r=this.rootContainerTypes;return t===i.id&&r.includes(n)},getSubcontainers:function(e){var t=this.items.activities;return ee.default(We(t,e),"position")},showActivityElements:async function(e){var t=this;this.selection.activity=e;var n=this.processedContainers,i=await this.fetchElements(n);this.items.contentContainers=n.map((function(n){return t.assignElements(n,e,i)}))},assignElements:function(e,t,n){var i=n.filter((function(t){return t.activityId===e.id})).map((function(e){return Object.assign({},e,{activity:t})}));return Object.assign({},e,{elements:ee.default(i,"position")})},toggleElementSelection:function(e){var t=this.selection.elements,n=t.find((function(t){return t.id===e.id}));this.selection.elements=n?t.filter((function(t){return t.id!==e.id})):t.concat(e)},toggleSelectAll:function(){this.selection.elements=this.allElementsSelected?[]:this.elements},deselectActivity:function(){this.selection.activity=null,this.items.contentContainers=[],this.selection.elements=xe(this.selected)},selectRepository:async function(e){var t=this.currentRepository;this.selection.repository=e,this.deselectActivity(),this.items.activities=t.id===e.id?t.activities:await this.fetchActivities(e)},fetchActivities:Ue((function(e){return this.$api.fetchActivities(e.id)}),"loadingContent"),fetchElements:Ue((function(e){var t={repositoryId:this.selection.repository.id,ids:e.map((function(e){return e.id}))};return this.$api.fetchContentElements(t)}),"loadingContent",500),save:function(){this.$emit("selected",xe(this.selection.elements)),this.close()},close:function(){this.$emit("close")},openInEditor:function(e){var t={name:"editor",params:{activityId:this.selection.activity.id,repositoryId:this.selection.repository.id},query:{elementId:e}},n=this.$router.resolve(t).href;window.open(n,"_blank")}},created:function(){this.selection.elements=xe(this.selected),this.selection.repository=this.currentRepository,this.items.activities=this.currentRepository.activities},components:{ContentPreview:Ie,SelectActivity:He,SelectRepository:Ve,TailorDialog:Ke}},void 0,!1),Ye=6,Qe=12,Xe=[{name:"Content Elements",icon:"mdi-set-center"},{name:"Assessments",icon:"mdi-help-rhombus"},{name:"Nongraded questions",icon:"mdi-comment-question-outline"}];var et=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="index.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-element-container"},[e._t("default",[e.large?n("v-btn",{staticClass:"mt-3 mb-4",attrs:{color:"primary darken-3",text:""},on:{click:function(t){return t.stopPropagation(),e.showElementPicker(t)}}},[n("v-icon",{staticClass:"pr-2"},[e._v(e._s(e.icon))]),e._v(e._s(e.label)+"\n    ")],1):n("v-btn",{attrs:{color:"primary darken-3",icon:"",text:""},on:{click:function(t){return t.stopPropagation(),e.showElementPicker(t)}}},[n("v-icon",[e._v(e._s(e.icon))])],1)],{addElement:e.showElementPicker}),e._v(" "),e.isVisible?[e.showElementBrowser?n("select-element",{attrs:{"allowed-types":e.allowedTypes,"submit-label":"Copy",heading:"Copy elements","header-icon":"mdi-content-duplicate",multiple:""},on:{selected:e.addElements,close:function(t){e.showElementBrowser=!1}}}):n("add-new-element",{attrs:{library:e.library,"allowed-types":e.allowedTypes},on:{add:e.addElements},scopedSlots:e._u([{key:"header",fn:function(){return[e.layout?n("div",{staticClass:"mr-6"},[n("div",{staticClass:"pb-1 caption text-left"},[e._v("Element width")]),e._v(" "),n("v-btn-toggle",{attrs:{color:"secondary accent-2",mandatory:""},model:{value:e.elementWidth,callback:function(t){e.elementWidth=t},expression:"elementWidth"}},[n("v-btn",{attrs:{value:100,height:"38",icon:""}},[n("v-icon",[e._v("mdi-square-outline")])],1),e._v(" "),n("v-btn",{attrs:{value:50,height:"38",icon:""}},[n("v-icon",[e._v("mdi-select-compare")])],1)],1)],1):e._e(),e._v(" "),n("v-btn",{staticClass:"mt-6",attrs:{color:"primary darken-3",depressed:""},on:{click:function(t){e.showElementBrowser=!e.showElementBrowser}}},[n("v-icon",{staticClass:"mr-2",attrs:{dense:""}},[e._v("mdi-content-copy")]),e._v("\n          Copy existing\n        ")],1)]},proxy:!0}],null,!1,2543524328),model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}})]:e._e()],2)},staticRenderFns:[]},0,{name:"tailor-add-element",inject:["$teRegistry"],props:{items:{type:Array,required:!0},activity:{type:Object,default:null},position:{type:Number,default:null},layout:{type:Boolean,default:!0},include:{type:Array,default:null},show:{type:Boolean,default:!1},large:{type:Boolean,default:!1},label:{type:String,default:"Add content"},icon:{type:String,default:"mdi-plus"}},data:function(){return{isVisible:!1,elementWidth:100,showElementBrowser:!1}},computed:{registry:function(){return this.$teRegistry.all},questions:function(){return B.default(this.registry,{type:"QUESTION"})},contentElements:function(){var e=this,t=B.default(this.registry,(function(e){return!n.isQuestion(e.type)}));return this.isSubset?B.default(t,(function(t){return e.include.includes(t.type)})):t},assessments:function(){var e=this.registry,t=this.isSubset,n=this.include,i=this.questions;return t&&!n.includes("ASSESSMENT")?[]:B.default(e,{type:"ASSESSMENT"}).concat(i.map((function(e){return Object.assign({},e,{type:"ASSESSMENT"})})))},reflections:function(){var e=this.registry,t=this.isSubset,n=this.include,i=this.questions;return t&&!n.includes("REFLECTION")?[]:B.default(e,{type:"REFLECTION"}).concat(i.map((function(e){return Object.assign({},e,{type:"REFLECTION"})})))},isSubset:function(){return!!this.include&&!!this.include.length},library:function(){var e=[this.contentElements,this.assessments,this.reflections];return U.default(e,(function(e,t,n){return t.length&&e.push(Object.assign({},Xe[n],{elements:t})),e}),[])},processedWidth:function(){return 50===this.elementWidth?Ye:Qe},allowedTypes:function(){var e=this.elementWidth,t=this.include,n=this.layout,i=this.library,r=D.default(i,"elements");if(!n)return t||[];var o=(100===e?r:z.default(r,"ui.forceFullWidth")).map((function(e){return e.type}));return t?$.default(t,o):o}},methods:{addElements:function(e){var t=this,i=n.getPositions(this.items,this.position,e.length),r=e.map((function(e,n){return t.buildElement(Object.assign({},e,{position:i[n]}))}));this.$emit("add",r),this.isVisible=!1},buildElement:function(e){var t=this.processedWidth,i=this.activity,r=e.position,o=e.subtype,a=e.data,s=void 0===a?{}:a,l=e.initState,u=void 0===l?function(){return{}}:l,c=Object.assign({position:r},M.default(e,["type","refs"]),{data:Object.assign({},u(),s,{width:t})}),d=i?{activityId:i.id}:{id:n.uuid(),embedded:!0};return Object.assign(c,d),n.isQuestion(c.type)&&(c.data=function(e,t){var i={width:Qe},r=[{id:n.uuid(),data:i,type:"JODIT_HTML",embedded:!0}];return Object.assign({question:r,type:t},e.data)}(c,o)),"REFLECTION"===c.type&&delete c.data.correct,c},onHidden:function(){this.elementWidth=100,this.$emit("hidden")},showElementPicker:function(){this.isVisible=!0}},watch:{isVisible:function(e,t){!e&&t&&this.onHidden()},show:function(e){return e?this.showElementPicker():this.onHidden()}},components:{AddNewElement:ye,SelectElement:Ge}},void 0,!1);function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var nt=Object.prototype.hasOwnProperty;function it(e,t){return null!=e&&nt.call(e,t)}var rt=Array.isArray,ot="object"==("undefined"==typeof global?"undefined":be(global))&&global&&global.Object===Object&&global,at="object"==("undefined"==typeof self?"undefined":be(self))&&self&&self.Object===Object&&self,st=ot||at||Function("return this")(),lt=st.Symbol,ut=Object.prototype,ct=ut.hasOwnProperty,dt=ut.toString,ft=lt?lt.toStringTag:void 0;var pt=Object.prototype.toString;var ht=lt?lt.toStringTag:void 0;function mt(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":ht&&ht in Object(e)?function(e){var t=ct.call(e,ft),n=e[ft];try{e[ft]=void 0;var i=!0}catch(e){}var r=dt.call(e);return i&&(t?e[ft]=n:delete e[ft]),r}(e):function(e){return pt.call(e)}(e)}function vt(e){return null!=e&&"object"==be(e)}function yt(e){return"symbol"==be(e)||vt(e)&&"[object Symbol]"==mt(e)}var bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gt=/^\w*$/;function _t(e,t){if(rt(e))return!1;var n=be(e);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!yt(e))||(gt.test(e)||!bt.test(e)||null!=t&&e in Object(t))}function xt(e){var t=be(e);return null!=e&&("object"==t||"function"==t)}function wt(e){if(!xt(e))return!1;var t=mt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Et,Ct=st["__core-js_shared__"],Ot=(Et=/[^.]+$/.exec(Ct&&Ct.keys&&Ct.keys.IE_PROTO||""))?"Symbol(src)_1."+Et:"";var At=Function.prototype.toString;function kt(e){if(null!=e){try{return At.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var St=/^\[object .+?Constructor\]$/,jt=Function.prototype,Tt=Object.prototype,Nt=jt.toString,qt=Tt.hasOwnProperty,Rt=RegExp("^"+Nt.call(qt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ft(e){return!(!xt(e)||(t=e,Ot&&Ot in t))&&(wt(e)?Rt:St).test(kt(e));var t}function Lt(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ft(n)?n:void 0}var Pt=Lt(Object,"create");var It=Object.prototype.hasOwnProperty;var Bt=Object.prototype.hasOwnProperty;function Dt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function $t(e,t){return e===t||e!=e&&t!=t}function Mt(e,t){for(var n=e.length;n--;)if($t(e[n][0],t))return n;return-1}Dt.prototype.clear=function(){this.__data__=Pt?Pt(null):{},this.size=0},Dt.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Dt.prototype.get=function(e){var t=this.__data__;if(Pt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return It.call(t,e)?t[e]:void 0},Dt.prototype.has=function(e){var t=this.__data__;return Pt?void 0!==t[e]:Bt.call(t,e)},Dt.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pt&&void 0===t?"__lodash_hash_undefined__":t,this};var Ut=Array.prototype.splice;function zt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}zt.prototype.clear=function(){this.__data__=[],this.size=0},zt.prototype.delete=function(e){var t=this.__data__,n=Mt(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ut.call(t,n,1),--this.size,!0)},zt.prototype.get=function(e){var t=this.__data__,n=Mt(t,e);return n<0?void 0:t[n][1]},zt.prototype.has=function(e){return Mt(this.__data__,e)>-1},zt.prototype.set=function(e,t){var n=this.__data__,i=Mt(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};var Ht=Lt(st,"Map");function Vt(e,t){var n,i,r=e.__data__;return("string"==(i=be(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Kt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Kt.prototype.clear=function(){this.size=0,this.__data__={hash:new Dt,map:new(Ht||zt),string:new Dt}},Kt.prototype.delete=function(e){var t=Vt(this,e).delete(e);return this.size-=t?1:0,t},Kt.prototype.get=function(e){return Vt(this,e).get(e)},Kt.prototype.has=function(e){return Vt(this,e).has(e)},Kt.prototype.set=function(e,t){var n=Vt(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};function Wt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=e.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(Wt.Cache||Kt),n}Wt.Cache=Kt;var Jt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zt=/\\(\\)?/g,Gt=function(e){var t=Wt(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Jt,(function(e,n,i,r){t.push(i?r.replace(Zt,"$1"):n||e)})),t}));function Yt(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}var Qt=lt?lt.prototype:void 0,Xt=Qt?Qt.toString:void 0;function en(e){if("string"==typeof e)return e;if(rt(e))return Yt(e,en)+"";if(yt(e))return Xt?Xt.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function tn(e){return null==e?"":en(e)}function nn(e,t){return rt(e)?e:_t(e,t)?[e]:Gt(tn(e))}function rn(e){return vt(e)&&"[object Arguments]"==mt(e)}var on=Object.prototype,an=on.hasOwnProperty,sn=on.propertyIsEnumerable,ln=rn(function(){return arguments}())?rn:function(e){return vt(e)&&an.call(e,"callee")&&!sn.call(e,"callee")},un=/^(?:0|[1-9]\d*)$/;function cn(e,t){var n=be(e);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&un.test(e))&&e>-1&&e%1==0&&e<t}function dn(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function fn(e){if("string"==typeof e||yt(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function pn(e,t,n){for(var i=-1,r=(t=nn(t,e)).length,o=!1;++i<r;){var a=fn(t[i]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++i!=r?o:!!(r=null==e?0:e.length)&&dn(r)&&cn(a,r)&&(rt(e)||ln(e))}function hn(e,t){return null!=e&&pn(e,t,it)}function mn(e){var t=this.__data__=new zt(e);this.size=t.size}mn.prototype.clear=function(){this.__data__=new zt,this.size=0},mn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},mn.prototype.get=function(e){return this.__data__.get(e)},mn.prototype.has=function(e){return this.__data__.has(e)},mn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof zt){var i=n.__data__;if(!Ht||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Kt(i)}return n.set(e,t),this.size=n.size,this};var vn=function(){try{var e=Lt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();function yn(e,t,n){"__proto__"==t&&vn?vn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var bn=Object.prototype.hasOwnProperty;function gn(e,t,n){var i=e[t];bn.call(e,t)&&$t(i,n)&&(void 0!==n||t in e)||yn(e,t,n)}function _n(e,t,n,i){var r=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=i?i(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),r?yn(n,s,l):gn(n,s,l)}return n}var xn="object"==(void 0===e?"undefined":be(e))&&e&&!e.nodeType&&e,wn=xn&&"object"==("undefined"==typeof module?"undefined":be(module))&&module&&!module.nodeType&&module,En=wn&&wn.exports===xn?st.Buffer:void 0,Cn=(En?En.isBuffer:void 0)||function(){return!1},On={};function An(e){return function(t){return e(t)}}On["[object Float32Array]"]=On["[object Float64Array]"]=On["[object Int8Array]"]=On["[object Int16Array]"]=On["[object Int32Array]"]=On["[object Uint8Array]"]=On["[object Uint8ClampedArray]"]=On["[object Uint16Array]"]=On["[object Uint32Array]"]=!0,On["[object Arguments]"]=On["[object Array]"]=On["[object ArrayBuffer]"]=On["[object Boolean]"]=On["[object DataView]"]=On["[object Date]"]=On["[object Error]"]=On["[object Function]"]=On["[object Map]"]=On["[object Number]"]=On["[object Object]"]=On["[object RegExp]"]=On["[object Set]"]=On["[object String]"]=On["[object WeakMap]"]=!1;var kn="object"==(void 0===e?"undefined":be(e))&&e&&!e.nodeType&&e,Sn=kn&&"object"==("undefined"==typeof module?"undefined":be(module))&&module&&!module.nodeType&&module,jn=Sn&&Sn.exports===kn&&ot.process,Tn=function(){try{var e=Sn&&Sn.require&&Sn.require("util").types;return e||jn&&jn.binding&&jn.binding("util")}catch(e){}}(),Nn=Tn&&Tn.isTypedArray,qn=Nn?An(Nn):function(e){return vt(e)&&dn(e.length)&&!!On[mt(e)]},Rn=Object.prototype.hasOwnProperty;function Fn(e,t){var n=rt(e),i=!n&&ln(e),r=!n&&!i&&Cn(e),o=!n&&!i&&!r&&qn(e),a=n||i||r||o,s=a?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=s.length;for(var u in e)!t&&!Rn.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||cn(u,l))||s.push(u);return s}var Ln=Object.prototype;function Pn(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ln)}function In(e,t){return function(n){return e(t(n))}}var Bn=In(Object.keys,Object),Dn=Object.prototype.hasOwnProperty;function $n(e){return null!=e&&dn(e.length)&&!wt(e)}function Mn(e){return $n(e)?Fn(e):function(e){if(!Pn(e))return Bn(e);var t=[];for(var n in Object(e))Dn.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var Un=Object.prototype.hasOwnProperty;function zn(e){if(!xt(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=Pn(e),n=[];for(var i in e)("constructor"!=i||!t&&Un.call(e,i))&&n.push(i);return n}function Hn(e){return $n(e)?Fn(e,!0):zn(e)}var Vn="object"==(void 0===e?"undefined":be(e))&&e&&!e.nodeType&&e,Kn=Vn&&"object"==("undefined"==typeof module?"undefined":be(module))&&module&&!module.nodeType&&module,Wn=Kn&&Kn.exports===Vn?st.Buffer:void 0,Jn=Wn?Wn.allocUnsafe:void 0;function Zn(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function Gn(){return[]}var Yn=Object.prototype.propertyIsEnumerable,Qn=Object.getOwnPropertySymbols,Xn=Qn?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[r++]=a)}return o}(Qn(e),(function(t){return Yn.call(e,t)})))}:Gn;function ei(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}var ti=In(Object.getPrototypeOf,Object),ni=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ei(t,Xn(e)),e=ti(e);return t}:Gn;function ii(e,t,n){var i=t(e);return rt(e)?i:ei(i,n(e))}function ri(e){return ii(e,Mn,Xn)}function oi(e){return ii(e,Hn,ni)}var ai=Lt(st,"DataView"),si=Lt(st,"Promise"),li=Lt(st,"Set"),ui=Lt(st,"WeakMap"),ci=kt(ai),di=kt(Ht),fi=kt(si),pi=kt(li),hi=kt(ui),mi=mt;(ai&&"[object DataView]"!=mi(new ai(new ArrayBuffer(1)))||Ht&&"[object Map]"!=mi(new Ht)||si&&"[object Promise]"!=mi(si.resolve())||li&&"[object Set]"!=mi(new li)||ui&&"[object WeakMap]"!=mi(new ui))&&(mi=function(e){var t=mt(e),n="[object Object]"==t?e.constructor:void 0,i=n?kt(n):"";if(i)switch(i){case ci:return"[object DataView]";case di:return"[object Map]";case fi:return"[object Promise]";case pi:return"[object Set]";case hi:return"[object WeakMap]"}return t});var vi=mi,yi=Object.prototype.hasOwnProperty;var bi=st.Uint8Array;function gi(e){var t=new e.constructor(e.byteLength);return new bi(t).set(new bi(e)),t}var _i=/\w*$/;var xi=lt?lt.prototype:void 0,wi=xi?xi.valueOf:void 0;function Ei(e,t,n){var i,r,o,a=e.constructor;switch(t){case"[object ArrayBuffer]":return gi(e);case"[object Boolean]":case"[object Date]":return new a(+e);case"[object DataView]":return function(e,t){var n=t?gi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(e,t){var n=t?gi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,n);case"[object Map]":return new a;case"[object Number]":case"[object String]":return new a(e);case"[object RegExp]":return(o=new(r=e).constructor(r.source,_i.exec(r))).lastIndex=r.lastIndex,o;case"[object Set]":return new a;case"[object Symbol]":return i=e,wi?Object(wi.call(i)):{}}}var Ci=Object.create,Oi=function(){function e(){}return function(t){if(!xt(t))return{};if(Ci)return Ci(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Ai=Tn&&Tn.isMap,ki=Ai?An(Ai):function(e){return vt(e)&&"[object Map]"==vi(e)};var Si=Tn&&Tn.isSet,ji=Si?An(Si):function(e){return vt(e)&&"[object Set]"==vi(e)},Ti={};function Ni(e,t,n,i,r,o){var a,s=1&t,l=2&t,u=4&t;if(n&&(a=r?n(e,i,r,o):n(e)),void 0!==a)return a;if(!xt(e))return e;var c=rt(e);if(c){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&yi.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!s)return Zn(e,a)}else{var d=vi(e),f="[object Function]"==d||"[object GeneratorFunction]"==d;if(Cn(e))return function(e,t){if(t)return e.slice();var n=e.length,i=Jn?Jn(n):new e.constructor(n);return e.copy(i),i}(e,s);if("[object Object]"==d||"[object Arguments]"==d||f&&!r){if(a=l||f?{}:function(e){return"function"!=typeof e.constructor||Pn(e)?{}:Oi(ti(e))}(e),!s)return l?function(e,t){return _n(e,ni(e),t)}(e,function(e,t){return e&&_n(t,Hn(t),e)}(a,e)):function(e,t){return _n(e,Xn(e),t)}(e,function(e,t){return e&&_n(t,Mn(t),e)}(a,e))}else{if(!Ti[d])return r?e:{};a=Ei(e,d,s)}}o||(o=new mn);var p=o.get(e);if(p)return p;o.set(e,a),ji(e)?e.forEach((function(i){a.add(Ni(i,t,n,i,e,o))})):ki(e)&&e.forEach((function(i,r){a.set(r,Ni(i,t,n,r,e,o))}));var h=u?l?oi:ri:l?keysIn:Mn,m=c?void 0:h(e);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););}(m||e,(function(i,r){m&&(i=e[r=i]),gn(a,r,Ni(i,t,n,r,e,o))})),a}Ti["[object Arguments]"]=Ti["[object Array]"]=Ti["[object ArrayBuffer]"]=Ti["[object DataView]"]=Ti["[object Boolean]"]=Ti["[object Date]"]=Ti["[object Float32Array]"]=Ti["[object Float64Array]"]=Ti["[object Int8Array]"]=Ti["[object Int16Array]"]=Ti["[object Int32Array]"]=Ti["[object Map]"]=Ti["[object Number]"]=Ti["[object Object]"]=Ti["[object RegExp]"]=Ti["[object Set]"]=Ti["[object String]"]=Ti["[object Symbol]"]=Ti["[object Uint8Array]"]=Ti["[object Uint8ClampedArray]"]=Ti["[object Uint16Array]"]=Ti["[object Uint32Array]"]=!0,Ti["[object Error]"]=Ti["[object Function]"]=Ti["[object WeakMap]"]=!1;function qi(e,t){return Ni(e,5,t="function"==typeof t?t:void 0)}function Ri(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function Fi(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Li=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Pi(e){return Li.test(e)}var Ii="[\\ud800-\\udfff]",Bi="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Di="\\ud83c[\\udffb-\\udfff]",$i="[^\\ud800-\\udfff]",Mi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ui="[\\ud800-\\udbff][\\udc00-\\udfff]",zi="(?:"+Bi+"|"+Di+")"+"?",Hi="[\\ufe0e\\ufe0f]?"+zi+("(?:\\u200d(?:"+[$i,Mi,Ui].join("|")+")[\\ufe0e\\ufe0f]?"+zi+")*"),Vi="(?:"+[$i+Bi+"?",Bi,Mi,Ui,Ii].join("|")+")",Ki=RegExp(Di+"(?="+Di+")|"+Vi+Hi,"g");function Wi(e){return Pi(e)?function(e){return e.match(Ki)||[]}(e):function(e){return e.split("")}(e)}function Ji(e){return null==e?[]:function(e,t){return Yt(t,(function(t){return e[t]}))}(e,Mn(e))}var Zi=lt?lt.iterator:void 0;function Gi(e){if(!e)return[];if($n(e))return function(e){return"string"==typeof e||!rt(e)&&vt(e)&&"[object String]"==mt(e)}(e)?Wi(e):Zn(e);if(Zi&&e[Zi])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Zi]());var t=vi(e);return("[object Map]"==t?Ri:"[object Set]"==t?Fi:Ji)(e)}var Yi=Object.prototype.toString,Qi=Error.prototype.toString,Xi=RegExp.prototype.toString,er="undefined"!=typeof Symbol?Symbol.prototype.toString:function(){return""},tr=/^Symbol\((.*)\)(.*)$/;function nr(e,t){if(void 0===t&&(t=!1),null==e||!0===e||!1===e)return""+e;var n=be(e);if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?'"'+e+'"':e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return er.call(e).replace(tr,"Symbol($1)");var i=Yi.call(e).slice(8,-1);return"Date"===i?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===i||e instanceof Error?"["+Qi.call(e)+"]":"RegExp"===i?Xi.call(e):null}function ir(e,t){var n=nr(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){var i=nr(this[e],t);return null!==i?i:n}),2)}var rr="${path} is invalid",or="${path} is a required field",ar="${path} must be one of the following values: ${values}",sr="${path} must not be one of the following values: ${values}",lr=function(e){var t=e.path,n=e.type,i=e.value,r=e.originalValue,o=null!=r&&r!==i,a=t+" must be a `"+n+"` type, but the final value was: `"+ir(i,!0)+"`"+(o?" (cast from the value `"+ir(r,!0)+"`).":".");return null===i&&(a+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),a},ur="${path} must be defined",cr="${path} must be exactly ${length} characters",dr="${path} must be at least ${min} characters",fr="${path} must be at most ${max} characters",pr='${path} must match the following: "${regex}"',hr="${path} must be a valid email",mr="${path} must be a valid URL",vr="${path} must be a trimmed string",yr="${path} must be a lowercase string",br="${path} must be a upper case string",gr="${path} must be greater than or equal to ${min}",_r="${path} must be less than or equal to ${max}",xr="${path} must be less than ${less}",wr="${path} must be greater than ${more}",Er="${path} must be a positive number",Cr="${path} must be a negative number",Or="${path} must be an integer",Ar="${path} field must be later than ${min}",kr="${path} field must be at earlier than ${max}",Sr="${path} field has unspecified keys: ${unknown}",jr="${path} field must have at least ${min} items",Tr="${path} field must have less than or equal to ${max} items",Nr=function(e){return e&&e.__isYupSchema__},qr=function(){function e(e,t){if(this.refs=e,"function"!=typeof t){if(!hn(t,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");var n=t.is,i=t.then,r=t.otherwise,o="function"==typeof n?n:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.every((function(e){return e===n}))};this.fn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=t.pop(),s=t.pop(),l=o.apply(void 0,t)?i:r;if(l)return"function"==typeof l?l(s):s.concat(l.resolve(a))}}else this.fn=t}return e.prototype.resolve=function(e,t){var n=this.refs.map((function(e){return e.getValue(t)})),i=this.fn.apply(e,n.concat(e,t));if(void 0===i||i===e)return e;if(!Nr(i))throw new TypeError("conditions must return a schema object");return i.resolve(t)},e}();function Rr(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}function Fr(e){return Array.prototype.slice.apply(e)}function Lr(e){this.status="pending",this._continuations=[],this._parent=null,this._paused=!1,e&&e.call(this,this._continueWith.bind(this),this._failWith.bind(this))}function Pr(e){return e&&"function"==typeof e.then}function Ir(e){return e}if(Lr.prototype={then:function(e,t){var n=Lr.unresolved()._setParent(this);if(this._isRejected()){if(this._paused)return this._continuations.push({promise:n,nextFn:e,catchFn:t}),n;if(t)try{var i=t(this._error);return Pr(i)?(this._chainPromiseData(i,n),n):Lr.resolve(i)._setParent(this)}catch(e){return Lr.reject(e)._setParent(this)}return Lr.reject(this._error)._setParent(this)}return this._continuations.push({promise:n,nextFn:e,catchFn:t}),this._runResolutions(),n},catch:function(e){if(this._isResolved())return Lr.resolve(this._data)._setParent(this);var t=Lr.unresolved()._setParent(this);return this._continuations.push({promise:t,catchFn:e}),this._runRejections(),t},finally:function(e){var t=!1;function n(n,i){if(!t){t=!0,e||(e=Ir);var r=e(n);return Pr(r)?r.then((function(){if(i)throw i;return n})):n}}return this.then((function(e){return n(e)})).catch((function(e){return n(null,e)}))},pause:function(){return this._paused=!0,this},resume:function(){var e=this._findFirstPaused();return e&&(e._paused=!1,e._runResolutions(),e._runRejections()),this},_findAncestry:function(){return this._continuations.reduce((function(e,t){if(t.promise){var n={promise:t.promise,children:t.promise._findAncestry()};e.push(n)}return e}),[])},_setParent:function(e){if(this._parent)throw new Error("parent already set");return this._parent=e,this},_continueWith:function(e){var t=this._findFirstPending();t&&(t._data=e,t._setResolved())},_findFirstPending:function(){return this._findFirstAncestor((function(e){return e._isPending&&e._isPending()}))},_findFirstPaused:function(){return this._findFirstAncestor((function(e){return e._paused}))},_findFirstAncestor:function(e){for(var t,n=this;n;)e(n)&&(t=n),n=n._parent;return t},_failWith:function(e){var t=this._findFirstPending();t&&(t._error=e,t._setRejected())},_takeContinuations:function(){return this._continuations.splice(0,this._continuations.length)},_runRejections:function(){if(!this._paused&&this._isRejected()){var e=this._error,t=this._takeContinuations(),n=this;t.forEach((function(t){if(t.catchFn)try{var i=t.catchFn(e);n._handleUserFunctionResult(i,t.promise)}catch(e){t.promise.reject(e)}else t.promise.reject(e)}))}},_runResolutions:function(){if(!this._paused&&this._isResolved()&&!this._isPending()){var e=this._takeContinuations();if(Pr(this._data))return this._handleWhenResolvedDataIsPromise(this._data);var t=this._data,n=this;e.forEach((function(e){if(e.nextFn)try{var i=e.nextFn(t);n._handleUserFunctionResult(i,e.promise)}catch(t){n._handleResolutionError(t,e)}else e.promise&&e.promise.resolve(t)}))}},_handleResolutionError:function(e,t){if(this._setRejected(),t.catchFn)try{return void t.catchFn(e)}catch(t){e=t}t.promise&&t.promise.reject(e)},_handleWhenResolvedDataIsPromise:function(e){var t=this;return e.then((function(e){t._data=e,t._runResolutions()})).catch((function(e){t._error=e,t._setRejected(),t._runRejections()}))},_handleUserFunctionResult:function(e,t){Pr(e)?this._chainPromiseData(e,t):t.resolve(e)},_chainPromiseData:function(e,t){e.then((function(e){t.resolve(e)})).catch((function(e){t.reject(e)}))},_setResolved:function(){this.status="resolved",this._paused||this._runResolutions()},_setRejected:function(){this.status="rejected",this._paused||this._runRejections()},_isPending:function(){return"pending"===this.status},_isResolved:function(){return"resolved"===this.status},_isRejected:function(){return"rejected"===this.status}},Lr.resolve=function(e){return new Lr((function(t,n){Pr(e)?e.then((function(e){t(e)})).catch((function(e){n(e)})):t(e)}))},Lr.reject=function(e){return new Lr((function(t,n){n(e)}))},Lr.unresolved=function(){return new Lr((function(e,t){this.resolve=e,this.reject=t}))},Lr.all=function(){var e=Fr(arguments);return Array.isArray(e[0])&&(e=e[0]),e.length?new Lr((function(t,n){var i=[],r=0,o=!1;e.forEach((function(a,s){Lr.resolve(a).then((function(n){i[s]=n,(r+=1)===e.length&&t(i)})).catch((function(e){!function(e){o||(o=!0,n(e))}(e)}))}))})):Lr.resolve([])},Lr.any=function(){var e=Fr(arguments);return Array.isArray(e[0])&&(e=e[0]),e.length?new Lr((function(t,n){var i=[],r=0,o=!1;e.forEach((function(a,s){Lr.resolve(a).then((function(e){var n;n=e,o||(o=!0,t(n))})).catch((function(t){i[s]=t,(r+=1)===e.length&&n({errors:i})}))}))})):Lr.reject({errors:[]})},Lr.allSettled=function(){var e=Fr(arguments);return Array.isArray(e[0])&&(e=e[0]),e.length?new Lr((function(t){var n=[],i=0,r=function(){(i+=1)===e.length&&t(n)};e.forEach((function(e,t){Lr.resolve(e).then((function(e){n[t]={status:"fulfilled",value:e},r()})).catch((function(e){n[t]={status:"rejected",reason:e},r()}))}))})):Lr.resolve([])},Promise===Lr)throw new Error("Please use SynchronousPromise.installGlobally() to install globally");var Br=Promise;Lr.installGlobally=function(e){if(Promise===Lr)return e;var t=function(e){if(void 0===e||e.__patched)return e;var t=e;return(e=function(){t.apply(this,Fr(arguments))}).__patched=!0,e}(e);return Promise=Lr,t},Lr.uninstallGlobally=function(){Promise===Lr&&(Promise=Br)};var Dr={SynchronousPromise:Lr},$r=/\$\{\s*(\w+)\s*\}/g,Mr=function(e){return function(t){return e.replace($r,(function(e,n){return ir(t[n])}))}};function Ur(e,t,n,i){var r=this;this.name="ValidationError",this.value=t,this.path=n,this.type=i,this.errors=[],this.inner=[],e&&[].concat(e).forEach((function(e){r.errors=r.errors.concat(e.errors||e),e.inner&&(r.inner=r.inner.concat(e.inner.length?e.inner:e))})),this.message=this.errors.length>1?this.errors.length+" errors occurred":this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,Ur)}Ur.prototype=Object.create(Error.prototype),Ur.prototype.constructor=Ur,Ur.isError=function(e){return e&&"ValidationError"===e.name},Ur.formatError=function(e,t){"string"==typeof e&&(e=Mr(e));var n=function(t){return t.path=t.label||t.path||"this","function"==typeof e?e(t):e};return 1===arguments.length?n:n(t)};var zr=function(e){return e?Dr.SynchronousPromise:Promise};function Hr(e,t){return e?null:function(e){return t.push(e),e.value}}function Vr(e){var t=e.validations,n=e.value,i=e.path,r=e.sync,o=e.errors,a=e.sort;return o=function(e){return void 0===e&&(e=[]),e.inner&&e.inner.length?e.inner:[].concat(e)}(o),function(e,t){var n=zr(t);return n.all(e.map((function(e){return n.resolve(e).then((function(e){return{fulfilled:!0,value:e}}),(function(e){return{fulfilled:!1,value:e}}))})))}(t,r).then((function(e){var t=e.filter((function(e){return!e.fulfilled})).reduce((function(e,t){var n=t.value;if(!Ur.isError(n))throw n;return e.concat(n)}),[]);if(a&&t.sort(a),(o=t.concat(o)).length)throw new Ur(o,n,i);return n}))}function Kr(e){var t,n,i,r=e.endEarly,o=Rr(e,["endEarly"]);return r?(t=o.validations,n=o.value,i=o.sync,zr(i).all(t).catch((function(e){throw"ValidationError"===e.name&&(e.value=n),e})).then((function(){return n}))):Vr(o)}var Wr=function(e){return"[object Object]"===Object.prototype.toString.call(e)};var Jr,Zr=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),a=o.length;a--;){var s=o[Jr?a:++i];if(!1===t(r[s],s,r))break}return e};function Gr(e,t){return e&&Zr(e,t,Mn)}function Yr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Kt;++t<n;)this.add(e[t])}function Qr(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}Yr.prototype.add=Yr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Yr.prototype.has=function(e){return this.__data__.has(e)};function Xr(e,t,n,i,r,o){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var c=-1,d=!0,f=2&n?new Yr:void 0;for(o.set(e,t),o.set(t,e);++c<s;){var p=e[c],h=t[c];if(i)var m=a?i(h,p,c,t,e,o):i(p,h,c,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(f){if(!Qr(t,(function(e,t){if(a=t,!f.has(a)&&(p===e||r(p,e,n,i,o)))return f.push(t);var a}))){d=!1;break}}else if(p!==h&&!r(p,h,n,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}var eo=lt?lt.prototype:void 0,to=eo?eo.valueOf:void 0;var no=Object.prototype.hasOwnProperty;var io="[object Object]",ro=Object.prototype.hasOwnProperty;function oo(e,t,n,i,r,o){var a=rt(e),s=rt(t),l=a?"[object Array]":vi(e),u=s?"[object Array]":vi(t),c=(l="[object Arguments]"==l?io:l)==io,d=(u="[object Arguments]"==u?io:u)==io,f=l==u;if(f&&Cn(e)){if(!Cn(t))return!1;a=!0,c=!1}if(f&&!c)return o||(o=new mn),a||qn(e)?Xr(e,t,n,i,r,o):function(e,t,n,i,r,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new bi(e),new bi(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return $t(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Ri;case"[object Set]":var l=1&i;if(s||(s=Fi),e.size!=t.size&&!l)return!1;var u=a.get(e);if(u)return u==t;i|=2,a.set(e,t);var c=Xr(s(e),s(t),i,r,o,a);return a.delete(e),c;case"[object Symbol]":if(to)return to.call(e)==to.call(t)}return!1}(e,t,l,n,i,r,o);if(!(1&n)){var p=c&&ro.call(e,"__wrapped__"),h=d&&ro.call(t,"__wrapped__");if(p||h){var m=p?e.value():e,v=h?t.value():t;return o||(o=new mn),r(m,v,n,i,o)}}return!!f&&(o||(o=new mn),function(e,t,n,i,r,o){var a=1&n,s=ri(e),l=s.length;if(l!=ri(t).length&&!a)return!1;for(var u=l;u--;){var c=s[u];if(!(a?c in t:no.call(t,c)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=a;++u<l;){var h=e[c=s[u]],m=t[c];if(i)var v=a?i(m,h,c,t,e,o):i(h,m,c,e,t,o);if(!(void 0===v?h===m||r(h,m,n,i,o):v)){f=!1;break}p||(p="constructor"==c)}if(f&&!p){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,i,r,o))}function ao(e,t,n,i,r){return e===t||(null==e||null==t||!vt(e)&&!vt(t)?e!=e&&t!=t:oo(e,t,n,i,ao,r))}function so(e){return e==e&&!xt(e)}function lo(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}function uo(e){var t=function(e){for(var t=Mn(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,so(r)]}return t}(e);return 1==t.length&&t[0][2]?lo(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,i){var r=n.length,o=r,a=!i;if(null==e)return!o;for(e=Object(e);r--;){var s=n[r];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++r<o;){var l=(s=n[r])[0],u=e[l],c=s[1];if(a&&s[2]){if(void 0===u&&!(l in e))return!1}else{var d=new mn;if(i)var f=i(u,c,l,e,t,d);if(!(void 0===f?ao(c,u,3,i,d):f))return!1}}return!0}(n,e,t)}}function co(e,t){for(var n=0,i=(t=nn(t,e)).length;null!=e&&n<i;)e=e[fn(t[n++])];return n&&n==i?e:void 0}function fo(e,t){return null!=e&&t in Object(e)}function po(e,t){return _t(e)&&so(t)?lo(fn(e),t):function(n){var i=function(e,t,n){var i=null==e?void 0:co(e,t);return void 0===i?n:i}(n,e);return void 0===i&&i===t?function(e,t){return null!=e&&pn(e,t,fo)}(n,e):ao(t,i,3)}}function ho(e){return e}function mo(e){return _t(e)?(t=fn(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return co(t,e)}}(e);var t}function vo(e){return"function"==typeof e?e:null==e?ho:"object"==be(e)?rt(e)?po(e[0],e[1]):uo(e):mo(e)}function yo(e,t){var n={};return t=vo(t),Gr(e,(function(e,i,r){yn(n,i,t(e,i,r))})),n}function bo(e){this._maxSize=e,this.clear()}bo.prototype.clear=function(){this._size=0,this._values=Object.create(null)},bo.prototype.get=function(e){return this._values[e]},bo.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var go=/[^.^\]^[]+|(?=\[\]|\.\.)/g,_o=/^\d+$/,xo=/^\d/,wo=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,Eo=/^\s*(['"]?)(.*?)(\1)\s*$/,Co=new bo(512),Oo=new bo(512),Ao=new bo(512),ko={Cache:bo,split:jo,normalizePath:So,setter:function(e){var t=So(e);return Oo.get(e)||Oo.set(e,(function(e,n){for(var i=0,r=t.length,o=e;i<r-1;){var a=t[i];if("__proto__"===a||"constructor"===a||"prototype"===a)return e;o=o[t[i++]]}o[t[i]]=n}))},getter:function(e,t){var n=So(e);return Ao.get(e)||Ao.set(e,(function(e){for(var i=0,r=n.length;i<r;){if(null==e&&t)return;e=e[n[i++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(To(t)||_o.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var i,r,o,a,s=e.length;for(r=0;r<s;r++)(i=e[r])&&(No(i)&&(i='"'+i+'"'),a=To(i),o=!a&&/^\d+$/.test(i),t.call(n,i,a,o,r,e))}(Array.isArray(e)?e:jo(e),t,n)}};function So(e){return Co.get(e)||Co.set(e,jo(e).map((function(e){return e.replace(Eo,"$2")})))}function jo(e){return e.match(go)}function To(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function No(e){return!To(e)&&(function(e){return e.match(xo)&&!e.match(_o)}(e)||function(e){return wo.test(e)}(e))}var qo="$",Ro=".",Fo=function(){function e(e,t){if(void 0===t&&(t={}),"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===qo,this.isValue=this.key[0]===Ro,this.isSibling=!this.isContext&&!this.isValue;var n=this.isContext?qo:this.isValue?Ro:"";this.path=this.key.slice(n.length),this.getter=this.path&&ko.getter(this.path,!0),this.map=t.map}var t=e.prototype;return t.getValue=function(e){var t=this.isContext?e.context:this.isValue?e.value:e.parent;return this.getter&&(t=this.getter(t||{})),this.map&&(t=this.map(t)),t},t.cast=function(e,t){return this.getValue(tt({},t,{value:e}))},t.resolve=function(){return this},t.describe=function(){return{type:"ref",key:this.key}},t.toString=function(){return"Ref("+this.key+")"},e.isRef=function(e){return e&&e.__isYupRef},e}();Fo.prototype.__isYupRef=!0;var Lo=Ur.formatError;function Po(e){var t=e.value,n=e.label,i=e.resolve,r=e.originalValue,o=Rr(e,["value","label","resolve","originalValue"]);return function(e){var a=void 0===e?{}:e,s=a.path,l=void 0===s?o.path:s,u=a.message,c=void 0===u?o.message:u,d=a.type,f=void 0===d?o.name:d,p=a.params;return p=tt({path:l,value:t,originalValue:r,label:n},function(e,t,n){return yo(tt({},e,{},t),n)}(o.params,p,i)),tt(new Ur(Lo(c,p),t,l,f),{params:p})}}function Io(e){var t=e.name,n=e.message,i=e.test,r=e.params;function o(e){var o=e.value,a=e.path,s=e.label,l=e.options,u=e.originalValue,c=e.sync,d=Rr(e,["value","path","label","options","originalValue","sync"]),f=l.parent,p=function(e){return Fo.isRef(e)?e.getValue({value:o,parent:f,context:l.context}):e},h=Po({message:n,path:a,value:o,originalValue:u,params:r,label:s,resolve:p,name:t}),m=tt({path:a,parent:f,type:t,createError:h,resolve:p,options:l},d);return function(e,t,n,i){var r,o=e.call(t,n);if(!i)return Promise.resolve(o);if((r=o)&&"function"==typeof r.then&&"function"==typeof r.catch)throw new Error('Validation test of type: "'+t.type+'" returned a Promise during a synchronous validate. This test will finish after the validate call has returned');return Dr.SynchronousPromise.resolve(o)}(i,m,o,c).then((function(e){if(Ur.isError(e))throw e;if(!e)throw h()}))}return o.OPTIONS=e,o}var Bo=function(){function e(){this.list=new Set,this.refs=new Map}var t=e.prototype;return t.toArray=function(){return Gi(this.list).concat(Gi(this.refs.values()))},t.add=function(e){Fo.isRef(e)?this.refs.set(e.key,e):this.list.add(e)},t.delete=function(e){Fo.isRef(e)?this.refs.delete(e.key):this.list.delete(e)},t.has=function(e,t){if(this.list.has(e))return!0;for(var n,i=this.refs.values();!(n=i.next()).done;)if(t(n.value)===e)return!0;return!1},t.clone=function(){var t=new e;return t.list=new Set(this.list),t.refs=new Map(this.refs),t},t.merge=function(e,t){var n=this.clone();return e.list.forEach((function(e){return n.add(e)})),e.refs.forEach((function(e){return n.add(e)})),t.list.forEach((function(e){return n.delete(e)})),t.refs.forEach((function(e){return n.delete(e)})),n},e}();function Do(e){var t=this;if(void 0===e&&(e={}),!(this instanceof Do))return new Do;this._deps=[],this._conditions=[],this._options={abortEarly:!0,recursive:!0},this._exclusive=Object.create(null),this._whitelist=new Bo,this._blacklist=new Bo,this.tests=[],this.transforms=[],this.withMutation((function(){t.typeError(lr)})),hn(e,"default")&&(this._defaultDefault=e.default),this.type=e.type||"mixed",this._type=e.type||"mixed"}for(var $o=Do.prototype={__isYupSchema__:!0,constructor:Do,clone:function(){var e=this;return this._mutate?this:qi(this,(function(t){if(Nr(t)&&t!==e)return t}))},label:function(e){var t=this.clone();return t._label=e,t},meta:function(e){if(0===arguments.length)return this._meta;var t=this.clone();return t._meta=tt(t._meta||{},e),t},withMutation:function(e){var t=this._mutate;this._mutate=!0;var n=e(this);return this._mutate=t,n},concat:function(e){if(!e||e===this)return this;if(e._type!==this._type&&"mixed"!==this._type)throw new TypeError("You cannot `concat()` schema's of different types: "+this._type+" and "+e._type);var t=function e(t,n){for(var i in n)if(hn(n,i)){var r=n[i],o=t[i];if(void 0===o)t[i]=r;else{if(o===r)continue;Nr(o)?Nr(r)&&(t[i]=r.concat(o)):Wr(o)?Wr(r)&&(t[i]=e(o,r)):Array.isArray(o)&&Array.isArray(r)&&(t[i]=r.concat(o))}}return t}(e.clone(),this);return hn(e,"_default")&&(t._default=e._default),t.tests=this.tests,t._exclusive=this._exclusive,t._whitelist=this._whitelist.merge(e._whitelist,e._blacklist),t._blacklist=this._blacklist.merge(e._blacklist,e._whitelist),t.withMutation((function(t){e.tests.forEach((function(e){t.test(e.OPTIONS)}))})),t},isType:function(e){return!(!this._nullable||null!==e)||(!this._typeCheck||this._typeCheck(e))},resolve:function(e){var t=this;if(t._conditions.length){var n=t._conditions;(t=t.clone())._conditions=[],t=(t=n.reduce((function(t,n){return n.resolve(t,e)}),t)).resolve(e)}return t},cast:function(e,t){void 0===t&&(t={});var n=this.resolve(tt({},t,{value:e})),i=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(i)){var r=ir(e),o=ir(i);throw new TypeError("The value of "+(t.path||"field")+' could not be cast to a value that satisfies the schema type: "'+n._type+'". \n\nattempted value: '+r+" \n"+(o!==r?"result of cast: "+o:""))}return i},_cast:function(e){var t=this,n=void 0===e?e:this.transforms.reduce((function(n,i){return i.call(t,n,e)}),e);return void 0===n&&hn(this,"_default")&&(n=this.default()),n},_validate:function(e,t){var n=this;void 0===t&&(t={});var i=e,r=null!=t.originalValue?t.originalValue:e,o=this._option("strict",t),a=this._option("abortEarly",t),s=t.sync,l=t.path,u=this._label;o||(i=this._cast(i,tt({assert:!1},t)));var c={value:i,path:l,schema:this,options:t,label:u,originalValue:r,sync:s},d=[];return this._typeError&&d.push(this._typeError(c)),this._whitelistError&&d.push(this._whitelistError(c)),this._blacklistError&&d.push(this._blacklistError(c)),Kr({validations:d,endEarly:a,value:i,path:l,sync:s}).then((function(e){return Kr({path:l,sync:s,value:e,endEarly:a,validations:n.tests.map((function(e){return e(c)}))})}))},validate:function(e,t){return void 0===t&&(t={}),this.resolve(tt({},t,{value:e}))._validate(e,t)},validateSync:function(e,t){var n,i;if(void 0===t&&(t={}),this.resolve(tt({},t,{value:e}))._validate(e,tt({},t,{sync:!0})).then((function(e){return n=e})).catch((function(e){return i=e})),i)throw i;return n},isValid:function(e,t){return this.validate(e,t).then((function(){return!0})).catch((function(e){if("ValidationError"===e.name)return!1;throw e}))},isValidSync:function(e,t){try{return this.validateSync(e,t),!0}catch(e){if("ValidationError"===e.name)return!1;throw e}},getDefault:function(e){return void 0===e&&(e={}),this.resolve(e).default()},default:function(e){if(0===arguments.length){var t=hn(this,"_default")?this._default:this._defaultDefault;return"function"==typeof t?t.call(this):qi(t)}var n=this.clone();return n._default=e,n},strict:function(e){void 0===e&&(e=!0);var t=this.clone();return t._options.strict=e,t},_isPresent:function(e){return null!=e},required:function(e){return void 0===e&&(e=or),this.test({message:e,name:"required",exclusive:!0,test:function(e){return this.schema._isPresent(e)}})},notRequired:function(){var e=this.clone();return e.tests=e.tests.filter((function(e){return"required"!==e.OPTIONS.name})),e},nullable:function(e){void 0===e&&(e=!0);var t=this.clone();return t._nullable=e,t},transform:function(e){var t=this.clone();return t.transforms.push(e),t},test:function(){var e;if(void 0===(e=1===arguments.length?"function"==typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]}).message&&(e.message=rr),"function"!=typeof e.test)throw new TypeError("`test` is a required parameters");var t=this.clone(),n=Io(e),i=e.exclusive||e.name&&!0===t._exclusive[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t._exclusive[e.name]=!!e.exclusive,t.tests=t.tests.filter((function(t){if(t.OPTIONS.name===e.name){if(i)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0})),t.tests.push(n),t},when:function(e,t){1===arguments.length&&(t=e,e=".");var n=this.clone(),i=[].concat(e).map((function(e){return new Fo(e)}));return i.forEach((function(e){e.isSibling&&n._deps.push(e.key)})),n._conditions.push(new qr(i,t)),n},typeError:function(e){var t=this.clone();return t._typeError=Io({message:e,name:"typeError",test:function(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t},oneOf:function(e,t){void 0===t&&(t=ar);var n=this.clone();return e.forEach((function(e){n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=Io({message:t,name:"oneOf",test:function(e){if(void 0===e)return!0;var t=this.schema._whitelist;return!!t.has(e,this.resolve)||this.createError({params:{values:t.toArray().join(", ")}})}}),n},notOneOf:function(e,t){void 0===t&&(t=sr);var n=this.clone();return e.forEach((function(e){n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=Io({message:t,name:"notOneOf",test:function(e){var t=this.schema._blacklist;return!t.has(e,this.resolve)||this.createError({params:{values:t.toArray().join(", ")}})}}),n},strip:function(e){void 0===e&&(e=!0);var t=this.clone();return t._strip=e,t},_option:function(e,t){return hn(t,e)?t[e]:this._options[e]},describe:function(){var e=this.clone();return{type:e._type,meta:e._meta,label:e._label,tests:e.tests.map((function(e){return{name:e.OPTIONS.name,params:e.OPTIONS.params}})).filter((function(e,t,n){return n.findIndex((function(t){return t.name===e.name}))===t}))}},defined:function(e){return void 0===e&&(e=ur),this.nullable().test({message:e,name:"defined",exclusive:!0,test:function(e){return void 0!==e}})}},Mo=function(){var e=zo[Uo];$o[e+"At"]=function(t,n,i){void 0===i&&(i={});var r=function(e,t,n,i){var r,o,a;return void 0===i&&(i=n),t?(ko.forEach(t,(function(s,l,u){var c=l?function(e){return e.substr(0,e.length-1).substr(1)}(s):s;if((e=e.resolve({context:i,parent:r,value:n})).innerType){var d=u?parseInt(c,10):0;if(n&&d>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: "+s+", in the path: "+t+". because there is no value at that index. ");r=n,n=n&&n[d],e=e.innerType}if(!u){if(!e.fields||!e.fields[c])throw new Error("The schema does not contain the path: "+t+". (failed at: "+a+' which is a type: "'+e._type+'")');r=n,n=n&&n[c],e=e.fields[c]}o=c,a=l?"["+s+"]":"."+s})),{schema:e,parent:r,parentPath:o}):{parent:r,parentPath:t,schema:e}}(this,t,n,i.context),o=r.parent,a=r.parentPath;return r.schema[e](o&&o[a],tt({},i,{parent:o,path:t}))}},Uo=0,zo=["validate","validateSync"];Uo<zo.length;Uo++)Mo();for(var Ho=0,Vo=["equals","is"];Ho<Vo.length;Ho++){$o[Vo[Ho]]=$o.oneOf}for(var Ko=0,Wo=["not","nope"];Ko<Wo.length;Ko++){$o[Wo[Ko]]=$o.notOneOf}function Jo(e,t,n){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),tt(e.prototype,n)}$o.optional=$o.notRequired,Jo((function e(){var t=this;if(!(this instanceof e))return new e;Do.call(this,{type:"boolean"}),this.withMutation((function(){t.transform((function(e){if(!this.isType(e)){if(/^(true|1)$/i.test(e))return!0;if(/^(false|0)$/i.test(e))return!1}return e}))}))}),Do,{_typeCheck:function(e){return e instanceof Boolean&&(e=e.valueOf()),"boolean"==typeof e}});var Zo=function(e){return null==e},Go=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,Yo=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Qo=function(e){return Zo(e)||e===e.trim()};function Xo(){var e=this;if(!(this instanceof Xo))return new Xo;Do.call(this,{type:"string"}),this.withMutation((function(){e.transform((function(e){return this.isType(e)?e:null!=e&&e.toString?e.toString():e}))}))}Jo(Xo,Do,{_typeCheck:function(e){return e instanceof String&&(e=e.valueOf()),"string"==typeof e},_isPresent:function(e){return Do.prototype._cast.call(this,e)&&e.length>0},length:function(e,t){return void 0===t&&(t=cr),this.test({message:t,name:"length",exclusive:!0,params:{length:e},test:function(t){return Zo(t)||t.length===this.resolve(e)}})},min:function(e,t){return void 0===t&&(t=dr),this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Zo(t)||t.length>=this.resolve(e)}})},max:function(e,t){return void 0===t&&(t=fr),this.test({name:"max",exclusive:!0,message:t,params:{max:e},test:function(t){return Zo(t)||t.length<=this.resolve(e)}})},matches:function(e,t){var n,i,r=!1;return t&&("object"===be(t)?(r=t.excludeEmptyString,n=t.message,i=t.name):n=t),this.test({name:i||"matches",message:n||pr,params:{regex:e},test:function(t){return Zo(t)||""===t&&r||-1!==t.search(e)}})},email:function(e){return void 0===e&&(e=hr),this.matches(Go,{name:"email",message:e,excludeEmptyString:!0})},url:function(e){return void 0===e&&(e=mr),this.matches(Yo,{name:"url",message:e,excludeEmptyString:!0})},ensure:function(){return this.default("").transform((function(e){return null===e?"":e}))},trim:function(e){return void 0===e&&(e=vr),this.transform((function(e){return null!=e?e.trim():e})).test({message:e,name:"trim",test:Qo})},lowercase:function(e){return void 0===e&&(e=yr),this.transform((function(e){return Zo(e)?e:e.toLowerCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return Zo(e)||e===e.toLowerCase()}})},uppercase:function(e){return void 0===e&&(e=br),this.transform((function(e){return Zo(e)?e:e.toUpperCase()})).test({message:e,name:"string_case",exclusive:!0,test:function(e){return Zo(e)||e===e.toUpperCase()}})}});function ea(){var e=this;if(!(this instanceof ea))return new ea;Do.call(this,{type:"number"}),this.withMutation((function(){e.transform((function(e){var t=e;if("string"==typeof t){if(""===(t=t.replace(/\s/g,"")))return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))}))}Jo(ea,Do,{_typeCheck:function(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!function(e){return e!=+e}(e)},min:function(e,t){return void 0===t&&(t=gr),this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Zo(t)||t>=this.resolve(e)}})},max:function(e,t){return void 0===t&&(t=_r),this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return Zo(t)||t<=this.resolve(e)}})},lessThan:function(e,t){return void 0===t&&(t=xr),this.test({message:t,name:"max",exclusive:!0,params:{less:e},test:function(t){return Zo(t)||t<this.resolve(e)}})},moreThan:function(e,t){return void 0===t&&(t=wr),this.test({message:t,name:"min",exclusive:!0,params:{more:e},test:function(t){return Zo(t)||t>this.resolve(e)}})},positive:function(e){return void 0===e&&(e=Er),this.moreThan(0,e)},negative:function(e){return void 0===e&&(e=Cr),this.lessThan(0,e)},integer:function(e){return void 0===e&&(e=Or),this.test({name:"integer",message:e,test:function(e){return Zo(e)||Number.isInteger(e)}})},truncate:function(){return this.transform((function(e){return Zo(e)?e:0|e}))},round:function(e){var t=["ceil","floor","round","trunc"];if("trunc"===(e=e&&e.toLowerCase()||"round"))return this.truncate();if(-1===t.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+t.join(", "));return this.transform((function(t){return Zo(t)?t:Math[e](t)}))}});var ta=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;var na=new Date("");function ia(e,t){return t||(t=e.slice(0)),e.raw=t,e}Jo((function e(){var t=this;if(!(this instanceof e))return new e;Do.call(this,{type:"date"}),this.withMutation((function(){t.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,i=[1,4,5,6,7,10,11],r=0;if(n=ta.exec(e)){for(var o,a=0;o=i[a];++a)n[o]=+n[o]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(r=60*n[10]+n[11],"+"===n[9]&&(r=0-r)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+r,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?na:new Date(e))}))}))}),Do,{_typeCheck:function(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t},min:function(e,t){void 0===t&&(t=Ar);var n=e;if(!Fo.isRef(n)&&(n=this.cast(e),!this._typeCheck(n)))throw new TypeError("`min` must be a Date or a value that can be `cast()` to a Date");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(e){return Zo(e)||e>=this.resolve(n)}})},max:function(e,t){void 0===t&&(t=kr);var n=e;if(!Fo.isRef(n)&&(n=this.cast(e),!this._typeCheck(n)))throw new TypeError("`max` must be a Date or a value that can be `cast()` to a Date");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(e){return Zo(e)||e<=this.resolve(n)}})}});var ra=function(e){return function(t){return null==e?void 0:e[t]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),oa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,aa=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var sa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var la=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var ua="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ca="["+ua+"]",da="\\d+",fa="[\\u2700-\\u27bf]",pa="[a-z\\xdf-\\xf6\\xf8-\\xff]",ha="[^\\ud800-\\udfff"+ua+da+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",ma="(?:\\ud83c[\\udde6-\\uddff]){2}",va="[\\ud800-\\udbff][\\udc00-\\udfff]",ya="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ba="(?:"+pa+"|"+ha+")",ga="(?:"+ya+"|"+ha+")",_a="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",xa="[\\ufe0e\\ufe0f]?"+_a+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",ma,va].join("|")+")[\\ufe0e\\ufe0f]?"+_a+")*"),wa="(?:"+[fa,ma,va].join("|")+")"+xa,Ea=RegExp([ya+"?"+pa+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ca,ya,"$"].join("|")+")",ga+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ca,ya+ba,"$"].join("|")+")",ya+"?"+ba+"+(?:['’](?:d|ll|m|re|s|t|ve))?",ya+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",da,wa].join("|"),"g");function Ca(e,t,n){return e=tn(e),void 0===(t=n?void 0:t)?function(e){return la.test(e)}(e)?function(e){return e.match(Ea)||[]}(e):function(e){return e.match(sa)||[]}(e):e.match(t)||[]}var Oa=RegExp("['’]","g");function Aa(e){return function(t){return function(e,t,n,i){var r=-1,o=null==e?0:e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}(Ca(function(e){return(e=tn(e))&&e.replace(oa,ra).replace(aa,"")}(t).replace(Oa,"")),e,"")}}var ka=Aa((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function Sa(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:function(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(r);++i<r;)o[i]=e[i+t];return o}(e,t,n)}var ja,Ta=(ja="toUpperCase",function(e){var t=Pi(e=tn(e))?Wi(e):void 0,n=t?t[0]:e.charAt(0),i=t?Sa(t,1).join(""):e.slice(1);return n[ja]()+i});var Na=Aa((function(e,t,n){return t=t.toLowerCase(),e+(n?function(e){return Ta(tn(e).toLowerCase())}(t):t)}));var qa=function(e){return Ra(function(e){for(var t=new Set,n=0,i=e.length;n<i;n++){var r=e[n];t.add(r[0]),t.add(r[1])}return Array.from(t)}(e),e)};function Ra(e,t){var n=e.length,i=new Array(n),r={},o=n,a=function(e){for(var t=new Map,n=0,i=e.length;n<i;n++){var r=e[n];t.has(r[0])||t.set(r[0],new Set),t.has(r[1])||t.set(r[1],new Set),t.get(r[0]).add(r[1])}return t}(t),s=function(e){for(var t=new Map,n=0,i=e.length;n<i;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!s.has(e[0])||!s.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));o--;)r[o]||l(e[o],o,new Set);return i;function l(e,t,o){if(o.has(e)){var u;try{u=", node was:"+JSON.stringify(e)}catch(e){u=""}throw new Error("Cyclic dependency"+u)}if(!s.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!r[t]){r[t]=!0;var c=a.get(e)||new Set;if(t=(c=Array.from(c)).length){o.add(e);do{var d=c[--t];l(d,s.get(d),o)}while(t);o.delete(e)}i[--n]=e}}}function Fa(e,t){void 0===t&&(t=[]);var n=[],i=[];function r(e,r){var o=ko.split(e)[0];~i.indexOf(o)||i.push(o),~t.indexOf(r+"-"+o)||n.push([r,o])}for(var o in e)if(hn(e,o)){var a=e[o];~i.indexOf(o)||i.push(o),Fo.isRef(a)&&a.isSibling?r(a.path,o):Nr(a)&&a._deps&&a._deps.forEach((function(e){return r(e,o)}))}return qa.array(i,n).reverse()}function La(e,t){var n=1/0;return e.some((function(e,i){if(-1!==t.path.indexOf(e))return n=i,!0})),n}function Pa(e){var t=Object.keys(e);return function(e,n){return La(t,e)-La(t,n)}}function Ia(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=e.reduce((function(e,t){var i=n.shift();return e+(null==i?"":i)+t}));return r.replace(/^\./,"")}function Ba(){var e=ia(["",'["','"]']);return Ba=function(){return e},e}function Da(){var e=ia(["",".",""]);return Da=function(){return e},e}function $a(){var e=ia(["",".",""]);return $a=function(){return e},e}qa.array=Ra;var Ma=function(e){return"[object Object]"===Object.prototype.toString.call(e)};function Ua(e){var t=this;if(!(this instanceof Ua))return new Ua(e);Do.call(this,{type:"object",default:function(){var e=this;if(this._nodes.length){var t={};return this._nodes.forEach((function(n){t[n]=e.fields[n].default?e.fields[n].default():void 0})),t}}}),this.fields=Object.create(null),this._nodes=[],this._excludedEdges=[],this.withMutation((function(){t.transform((function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&t.shape(e)}))}function za(){var e=ia(["","[","]"]);return za=function(){return e},e}function Ha(){var e=ia(["","[","]"]);return Ha=function(){return e},e}function Va(e){var t=this;if(!(this instanceof Va))return new Va(e);Do.call(this,{type:"array"}),this._subType=void 0,this.innerType=void 0,this.withMutation((function(){t.transform((function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&t.of(e)}))}Jo(Ua,Do,{_typeCheck:function(e){return Ma(e)||"function"==typeof e},_cast:function(e,t){var n=this;void 0===t&&(t={});var i=Do.prototype._cast.call(this,e,t);if(void 0===i)return this.default();if(!this._typeCheck(i))return i;var r=this.fields,o=!0===this._option("stripUnknown",t),a=this._nodes.concat(Object.keys(i).filter((function(e){return-1===n._nodes.indexOf(e)}))),s={},l=tt({},t,{parent:s,__validating:!1}),u=!1;return a.forEach((function(e){var n=r[e],a=hn(i,e);if(n){var c,d=n._options&&n._options.strict;if(l.path=Ia($a(),t.path,e),l.value=i[e],!0===(n=n.resolve(l))._strip)return void(u=u||e in i);void 0!==(c=t.__validating&&d?i[e]:n.cast(i[e],l))&&(s[e]=c)}else a&&!o&&(s[e]=i[e]);s[e]!==i[e]&&(u=!0)})),u?s:i},_validate:function(e,t){var n,i,r=this;void 0===t&&(t={});var o=t.sync,a=[],s=null!=t.originalValue?t.originalValue:e;return n=this._option("abortEarly",t),i=this._option("recursive",t),t=tt({},t,{__validating:!0,originalValue:s}),Do.prototype._validate.call(this,e,t).catch(Hr(n,a)).then((function(e){if(!i||!Ma(e)){if(a.length)throw a[0];return e}s=s||e;var l=r._nodes.map((function(n){var i=-1===n.indexOf(".")?Ia(Da(),t.path,n):Ia(Ba(),t.path,n),a=r.fields[n],l=tt({},t,{path:i,parent:e,originalValue:s[n]});return a&&a.validate?(l.strict=!0,a.validate(e[n],l)):function(e){return e?Dr.SynchronousPromise:Promise}(o).resolve(!0)}));return Kr({sync:o,validations:l,value:e,errors:a,endEarly:n,path:t.path,sort:Pa(r.fields)})}))},concat:function(e){var t=Do.prototype.concat.call(this,e);return t._nodes=Fa(t.fields,t._excludedEdges),t},shape:function(e,t){void 0===t&&(t=[]);var n=this.clone(),i=tt(n.fields,e);if(n.fields=i,t.length){Array.isArray(t[0])||(t=[t]);var r=t.map((function(e){return e[0]+"-"+e[1]}));n._excludedEdges=n._excludedEdges.concat(r)}return n._nodes=Fa(i,n._excludedEdges),n},from:function(e,t,n){var i=ko.getter(e,!0);return this.transform((function(r){if(null==r)return r;var o=r;return hn(r,e)&&(o=tt({},r),n||delete o[e],o[t]=i(r)),o}))},noUnknown:function(e,t){void 0===e&&(e=!0),void 0===t&&(t=Sr),"string"==typeof e&&(t=e,e=!0);var n=this.test({name:"noUnknown",exclusive:!0,message:t,test:function(t){if(null==t)return!0;var n=function(e,t){var n=Object.keys(e.fields);return Object.keys(t).filter((function(e){return-1===n.indexOf(e)}))}(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n._options.stripUnknown=e,n},unknown:function(e,t){return void 0===e&&(e=!0),void 0===t&&(t=Sr),this.noUnknown(!e,t)},transformKeys:function(e){return this.transform((function(t){return t&&function(e,t){var n={};return t=vo(t),Gr(e,(function(e,i,r){yn(n,t(e,i,r),e)})),n}(t,(function(t,n){return e(n)}))}))},camelCase:function(){return this.transformKeys(Na)},snakeCase:function(){return this.transformKeys(ka)},constantCase:function(){return this.transformKeys((function(e){return ka(e).toUpperCase()}))},describe:function(){var e=Do.prototype.describe.call(this);return e.fields=yo(this.fields,(function(e){return e.describe()})),e}}),Jo(Va,Do,{_typeCheck:function(e){return Array.isArray(e)},_cast:function(e,t){var n=this,i=Do.prototype._cast.call(this,e,t);if(!this._typeCheck(i)||!this.innerType)return i;var r=!1,o=i.map((function(e,i){var o=n.innerType.cast(e,tt({},t,{path:Ia(Ha(),t.path,i)}));return o!==e&&(r=!0),o}));return r?o:i},_validate:function(e,t){var n=this;void 0===t&&(t={});var i=[],r=t.sync,o=t.path,a=this.innerType,s=this._option("abortEarly",t),l=this._option("recursive",t),u=null!=t.originalValue?t.originalValue:e;return Do.prototype._validate.call(this,e,t).catch(Hr(s,i)).then((function(e){if(!l||!a||!n._typeCheck(e)){if(i.length)throw i[0];return e}u=u||e;var c=e.map((function(n,i){var r=Ia(za(),t.path,i),o=tt({},t,{path:r,strict:!0,parent:e,originalValue:u[i]});return!a.validate||a.validate(n,o)}));return Kr({sync:r,path:o,value:e,errors:i,endEarly:s,validations:c})}))},_isPresent:function(e){return Do.prototype._cast.call(this,e)&&e.length>0},of:function(e){var t=this.clone();if(!1!==e&&!Nr(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema, or `false` to negate a current sub-schema. not: "+ir(e));return t._subType=e,t.innerType=e,t},min:function(e,t){return t=t||jr,this.test({message:t,name:"min",exclusive:!0,params:{min:e},test:function(t){return Zo(t)||t.length>=this.resolve(e)}})},max:function(e,t){return t=t||Tr,this.test({message:t,name:"max",exclusive:!0,params:{max:e},test:function(t){return Zo(t)||t.length<=this.resolve(e)}})},ensure:function(){var e=this;return this.default((function(){return[]})).transform((function(t,n){return e._typeCheck(t)?t:null==n?[]:[].concat(n)}))},compact:function(e){var t=e?function(t,n,i){return!e(t,n,i)}:function(e){return!!e};return this.transform((function(e){return null!=e?e.filter(t):e}))},describe:function(){var e=Do.prototype.describe.call(this);return this.innerType&&(e.innerType=this.innerType.describe()),e}});var Ka=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="Controls.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex pb-4"},[n("v-spacer"),e._v(" "),e.isEditing?n("div",[n("v-btn",{attrs:{text:"",large:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v("Cancel")]),e._v(" "),n("v-btn",{attrs:{color:"green darken-3",text:"",large:""},on:{click:e.save}},[n("v-icon",{staticClass:"pr-1"},[e._v("mdi-check")]),e._v("\n      Save\n    ")],1)],1):n("v-btn",{attrs:{color:"primary darken-4",text:"",large:""},on:{click:function(t){return e.$emit("edit")}}},[e._v("\n    Edit\n  ")])],1)},staticRenderFns:[]},0,{name:"controls",props:{isEditing:{type:Boolean,default:!1}},methods:{save:function(){var e=this;setTimeout((function(){return e.$emit("save")}),0)}}},void 0,!1);!function(t,n){"object"===(void 0===e?"undefined":be(e))&&"object"===("undefined"==typeof module?"undefined":be(module))?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"===(void 0===e?"undefined":be(e))?e.Quill=n():t.Quill=n()}("undefined"!=typeof self?self:void 0,(function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=109)}([function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(17),r=n(18),o=n(19),a=n(45),s=n(46),l=n(47),u=n(48),c=n(49),d=n(12),f=n(32),p=n(33),h=n(31),m=n(1),v={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:r.default,Leaf:o.default,Embed:u.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:c.default,Attributor:{Attribute:d.default,Class:f.default,Style:p.default,Store:h.default}};t.default=v},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return r(t,e),t}(Error);t.ParchmentError=o;var a,s={},l={},u={},c={};function d(e,t){var n;if(void 0===t&&(t=a.ANY),"string"==typeof e)n=c[e]||s[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)n=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?n=c.block:e&a.LEVEL&a.INLINE&&(n=c.inline);else if(e instanceof HTMLElement){var i=(e.getAttribute("class")||"").split(/\s+/);for(var r in i)if(n=l[i[r]])break;n=n||u[e.tagName]}return null==n?null:t&a.LEVEL&n.scope&&t&a.TYPE&n.scope?n:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var n=d(e);if(null==n)throw new o("Unable to create "+e+" blot");var i=n,r=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(t);return new i(r,t)},t.find=function e(n,i){return void 0===i&&(i=!1),null==n?null:null!=n[t.DATA_KEY]?n[t.DATA_KEY].blot:i?e(n.parentNode,i):null},t.query=d,t.register=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map((function(t){return e(t)}));var i=t[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new o("Invalid definition");if("abstract"===i.blotName)throw new o("Cannot register abstract class");if(c[i.blotName||i.attrName]=i,"string"==typeof i.keyName)s[i.keyName]=i;else if(null!=i.className&&(l[i.className]=i),null!=i.tagName){Array.isArray(i.tagName)?i.tagName=i.tagName.map((function(e){return e.toUpperCase()})):i.tagName=i.tagName.toUpperCase();var r=Array.isArray(i.tagName)?i.tagName:[i.tagName];r.forEach((function(e){null!=u[e]&&null!=i.className||(u[e]=i)}))}return i}},function(e,t,n){var i=n(51),r=n(11),o=n(3),a=n(20),s=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var n={};return 0===e.length?this:(n.insert=e,null!=t&&"object"===be(t)&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var n={retain:e};return null!=t&&"object"===be(t)&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)},l.prototype.push=function(e){var t=this.ops.length,n=this.ops[t-1];if(e=o(!0,{},e),"object"===be(n)){if("number"==typeof e.delete&&"number"==typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"==typeof n.delete&&null!=e.insert&&(t-=1,"object"!==be(n=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,n.attributes)){if("string"==typeof e.insert&&"string"==typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===be(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===be(e.attributes)&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],n=[];return this.forEach((function(i){(e(i)?t:n).push(i)})),[t,n]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var n=[],i=a.iterator(this.ops),r=0;r<t&&i.hasNext();){var o;r<e?o=i.next(e-r):(o=i.next(t-r),n.push(o)),r+=a.length(o)}return new l(n)},l.prototype.compose=function(e){var t=a.iterator(this.ops),n=a.iterator(e.ops),i=[],o=n.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var s=o.retain;"insert"===t.peekType()&&t.peekLength()<=s;)s-=t.peekLength(),i.push(t.next());o.retain-s>0&&n.next(o.retain-s)}for(var u=new l(i);t.hasNext()||n.hasNext();)if("insert"===n.peekType())u.push(n.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),n.peekLength()),d=t.next(c),f=n.next(c);if("number"==typeof f.retain){var p={};"number"==typeof d.retain?p.retain=c:p.insert=d.insert;var h=a.attributes.compose(d.attributes,f.attributes,"number"==typeof d.retain);if(h&&(p.attributes=h),u.push(p),!n.hasNext()&&r(u.ops[u.ops.length-1],p)){var m=new l(t.rest());return u.concat(m).chop()}}else"number"==typeof f.delete&&"number"==typeof d.retain&&u.push(f)}return u.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var n=[this,e].map((function(t){return t.map((function(n){if(null!=n.insert)return"string"==typeof n.insert?n.insert:s;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),o=new l,u=i(n[0],n[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var n=0;switch(e[0]){case i.INSERT:n=Math.min(d.peekLength(),t),o.push(d.next(n));break;case i.DELETE:n=Math.min(t,c.peekLength()),c.next(n),o.delete(n);break;case i.EQUAL:n=Math.min(c.peekLength(),d.peekLength(),t);var s=c.next(n),l=d.next(n);r(s.insert,l.insert)?o.retain(n,a.attributes.diff(s.attributes,l.attributes)):o.push(l).delete(n)}t-=n}})),o.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var n=a.iterator(this.ops),i=new l,r=0;n.hasNext();){if("insert"!==n.peekType())return;var o=n.peek(),s=a.length(o)-n.peekLength(),u="string"==typeof o.insert?o.insert.indexOf(t,s)-s:-1;if(u<0)i.push(n.next());else if(u>0)i.push(n.next(u));else{if(!1===e(i,n.next(1).attributes||{},r))return;r+=1,i=new l}}i.length()>0&&e(i,{},r)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var n=a.iterator(this.ops),i=a.iterator(e.ops),r=new l;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var o=Math.min(n.peekLength(),i.peekLength()),s=n.next(o),u=i.next(o);if(s.delete)continue;u.delete?r.push(u):r.retain(o,a.attributes.transform(s.attributes,u.attributes,t))}else r.retain(a.length(n.next()));return r.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var n=a.iterator(this.ops),i=0;n.hasNext()&&i<=e;){var r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e},e.exports=l},function(e,t){var n=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,o=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)},s=function(e){if(!e||"[object Object]"!==i.call(e))return!1;var t,r=n.call(e,"constructor"),o=e.constructor&&e.constructor.prototype&&n.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!o)return!1;for(t in e);return void 0===t||n.call(e,t)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!n.call(e,t))return;if(o)return o(e,t).value}return e[t]};e.exports=function e(){var t,n,i,r,o,c,d=arguments[0],f=1,p=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},f=2),(null==d||"object"!==be(d)&&"function"!=typeof d)&&(d={});f<p;++f)if(null!=(t=arguments[f]))for(n in t)i=u(d,n),d!==(r=u(t,n))&&(h&&r&&(s(r)||(o=a(r)))?(o?(o=!1,c=i&&a(i)?i:[]):c=i&&s(i)?i:{},l(d,{name:n,newValue:e(h,c,r)})):void 0!==r&&l(d,{name:n,newValue:r}));return d}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=d(n(3)),a=d(n(2)),s=d(n(0)),l=d(n(16)),u=d(n(6)),c=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),i(t,[{key:"attach",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,o.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var n=s.default.query(e,s.default.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,i){this.format(n,i)}},{key:"insertAt",value:function(e,n,i){if("string"==typeof n&&n.endsWith("\n")){var o=s.default.create(v.blotName);this.parent.insertBefore(o,0===e?this:this.next),o.insertAt(0,n.slice(0,-1))}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i)}}]),t}(s.default.Embed);m.scope=s.default.Scope.BLOCK_BLOT;var v=function(e){function t(e){f(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.cache={},n}return h(t,e),i(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),y(t))}),new a.default).insert("\n",y(this))),this.cache.delta}},{key:"deleteAt",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),this.cache={}}},{key:"formatAt",value:function(e,n,i,o){n<=0||(s.default.query(i,s.default.Scope.BLOCK)?e+n===this.length()&&this.format(i,o):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(n,this.length()-e-1),i,o),this.cache={})}},{key:"insertAt",value:function(e,n,i){if(null!=i)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);if(0!==n.length){var o=n.split("\n"),a=o.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;o.reduce((function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,n){var i=this.children.head;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n),i instanceof l.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,n){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,n),this.cache={}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n&&(0===e||e>=this.length()-1)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var o=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,n);return this.cache={},o}}]),t}(s.default.Block);function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,o.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:y(e.parent,t))}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[u.default,s.default.Embed,c.default],t.bubbleFormats=y,t.BlockEmbed=m,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"===be(Symbol.iterator)?function(e){return be(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":be(e)},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(50);var a=v(n(2)),s=v(n(14)),l=v(n(8)),u=v(n(9)),c=v(n(0)),d=n(15),f=v(d),p=v(n(3)),h=v(n(10)),m=v(n(34));function v(e){return e&&e.__esModule?e:{default:e}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var g=(0,h.default)("quill"),_=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(this,e),this.options=x(t,i),this.container=this.options.container,null==this.container)return g.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new f.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&n.root.classList.toggle("ql-blank",n.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var i=n.selection.lastRange,r=i&&0===i.length?i.index:void 0;w.call(n,(function(){return n.editor.update(null,t,r)}),e)}));var o=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(o),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&g.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach((function(i){n.register(i,e[i],t)}))}else null==this.imports[e]||i||g.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),o(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var i=this,o=E(e,t,n),a=r(o,4);return e=a[0],t=a[1],n=a[3],w.call(this,(function(){return i.editor.deleteText(e,t)}),n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,(function(){var i=n.getSelection(!0),r=new a.default;if(null==i)return r;if(c.default.query(e,c.default.Scope.BLOCK))r=n.editor.formatLine(i.index,i.length,y({},e,t));else{if(0===i.length)return n.selection.format(e,t),r;r=n.editor.formatText(i.index,i.length,y({},e,t))}return n.setSelection(i,l.default.sources.SILENT),r}),i)}},{key:"formatLine",value:function(e,t,n,i,o){var a,s=this,l=E(e,t,n,i,o),u=r(l,4);return e=u[0],t=u[1],a=u[2],o=u[3],w.call(this,(function(){return s.editor.formatLine(e,t,a)}),o,e,0)}},{key:"formatText",value:function(e,t,n,i,o){var a,s=this,l=E(e,t,n,i,o),u=r(l,4);return e=u[0],t=u[1],a=u[2],o=u[3],w.call(this,(function(){return s.editor.formatText(e,t,a)}),o,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=void 0;n="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var i=this.container.getBoundingClientRect();return{bottom:n.bottom-i.top,height:n.height,left:n.left-i.left,right:n.right-i.left,top:n.top-i.top,width:n.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=E(e,t),i=r(n,2);return e=i[0],t=i[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=E(e,t),i=r(n,2);return e=i[0],t=i[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,(function(){return r.editor.insertEmbed(t,n,i)}),o,t)}},{key:"insertText",value:function(e,t,n,i,o){var a,s=this,l=E(e,0,n,i,o),u=r(l,4);return e=u[0],a=u[2],o=u[3],w.call(this,(function(){return s.editor.insertText(e,t,a)}),o,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,n){this.clipboard.dangerouslyPasteHTML(e,t,n)}},{key:"removeFormat",value:function(e,t,n){var i=this,o=E(e,t,n),a=r(o,4);return e=a[0],t=a[1],n=a[3],w.call(this,(function(){return i.editor.removeFormat(e,t)}),n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){e=new a.default(e);var n=t.getLength(),i=t.editor.deleteText(0,n),r=t.editor.applyDelta(e),o=r.ops[r.ops.length-1];return null!=o&&"string"==typeof o.insert&&"\n"===o.insert[o.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),i.compose(r)}),n)}},{key:"setSelection",value:function(t,n,i){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var o=E(t,n,i),a=r(o,4);t=a[0],n=a[1],i=a[3],this.selection.setRange(new d.Range(t,n),i),i!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,n=(new a.default).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,n)}),n,!0)}}]),e}();function x(e,t){if((t=(0,p.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==_.DEFAULTS.theme){if(t.theme=_.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=m.default;var n=(0,p.default)(!0,{},t.theme.DEFAULTS);[n,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var i=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var n=_.import("modules/"+t);return null==n?g.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=n.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,p.default)(!0,{},_.DEFAULTS,{modules:i},n,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e}),{}),t}function w(e,t,n,i){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new a.default;var r=null==n?null:this.getSelection(),o=this.editor.delta,s=e();if(null!=r&&(!0===n&&(n=r.index),null==i?r=C(r,s,t):0!==i&&(r=C(r,n,i,t)),this.setSelection(r,l.default.sources.SILENT)),s.length()>0){var u,c,d=[l.default.events.TEXT_CHANGE,s,o,t];if((u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(d)),t!==l.default.sources.SILENT)(c=this.emitter).emit.apply(c,d)}return s}function E(e,t,n,r,o){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(o=r,r=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(o=r,r=n,n=t,t=0),"object"===(void 0===n?"undefined":i(n))?(a=n,o=r):"string"==typeof n&&(null!=r?a[n]=r:o=n),[e,t,a,o=o||l.default.sources.API]}function C(e,t,n,i){if(null==e)return null;var o=void 0,s=void 0;if(t instanceof a.default){var u=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,i!==l.default.sources.USER)})),c=r(u,2);o=c[0],s=c[1]}else{var f=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&i===l.default.sources.USER?e:n>=0?e+n:Math.max(t,e+n)})),p=r(f,2);o=p[0],s=p[1]}return new d.Range(o,s-o)}_.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},_.events=l.default.events,_.sources=l.default.sources,_.version="1.3.7",_.imports={delta:a.default,parchment:c.default,"core/module":u.default,"core/theme":m.default},t.expandConfig=x,t.overload=E,t.default=_},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=s(n(7)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var c=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"formatAt",value:function(e,n,i,o){if(t.compare(this.statics.blotName,i)<0&&a.default.query(i,a.default.Scope.BLOT)){var s=this.isolate(e,n);o&&s.wrap(i,o)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,o)}},{key:"optimize",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(e,n){var i=t.order.indexOf(e),r=t.order.indexOf(n);return i>=0||r>=0?i-r:e===n?0:e<n?-1:1}}]),t}(a.default.Inline);c.allowedChildren=[c,a.default.Embed,o.default],c.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(0);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default.Text);t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=a(n(54));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,a(n(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var n;e.__quill&&e.__quill.emitter&&(n=e.__quill.emitter).handleDOM.apply(n,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",s.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"emit",value:function(){s.log.apply(s,arguments),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.listeners[e.type]||[]).forEach((function(t){var i=t.node,r=t.handler;(e.target===i||i.contains(e.target))&&r.apply(void 0,[e].concat(n))}))}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}]),t}(o.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,n){function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.quill=t,this.options=n};r.DEFAULTS={},t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=["error","warn","log","info"],r="warn";function o(e){if(i.indexOf(e)<=i.indexOf(r)){for(var t,n=arguments.length,o=Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];(t=console)[e].apply(t,o)}}function a(e){return i.reduce((function(t,n){return t[n]=o.bind(console,n,e),t}),{})}o.level=a.level=function(e){r=e},t.default=a},function(e,t,n){var i=Array.prototype.slice,r=n(52),o=n(53),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=be(e)&&"object"!=be(t)?n.strict?e===t:e==t:function(e,t,n){var u,c;if(s(e)||s(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=i.call(e),t=i.call(t),a(e,t,n));if(l(e)){if(!l(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=r(e),f=r(t)}catch(e){return!1}if(d.length!=f.length)return!1;for(d.sort(),f.sort(),u=d.length-1;u>=0;u--)if(d[u]!=f[u])return!1;for(u=d.length-1;u>=0;u--)if(c=d[u],!a(e[c],t[c],n))return!1;return be(e)===be(t)}(e,t,n))};function s(e){return null==e}function l(e){return!(!e||"object"!==be(e)||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=n.scope?this.scope=n.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=i.query(e,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=d(n(2)),s=d(n(0)),l=d(n(4)),u=d(n(6)),c=d(n(7));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(u.default);m.blotName="code",m.tagName="CODE";var v=function(e){function t(){return f(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),r(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,n){return t.insert(n).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n){var r=this.descendant(c.default,this.length()-1),a=i(r,1)[0];null!=a&&a.deleteAt(a.length()-1,1),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}},{key:"formatAt",value:function(e,n,i,r){if(0!==n&&null!=s.default.query(i,s.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var o=this.newlineIndex(e);if(!(o<0||o>=e+n)){var a=this.newlineIndex(e,!0)+1,l=o-a+1,u=this.isolate(a,l),c=u.next;u.format(i,r),c instanceof t&&c.formatAt(0,e-a+n-l,i,r)}}}},{key:"insertAt",value:function(e,t,n){if(null==n){var r=this.descendant(c.default,e),o=i(r,2),a=o[0],s=o[1];a.insertAt(s,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var n=this.domNode.textContent.slice(e).indexOf("\n");return n>-1?e+n:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===n.statics.formats(n.domNode)&&(n.optimize(e),n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=s.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof s.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("spellcheck",!1),n}},{key:"formats",value:function(){return!0}}]),t}(l.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",t.Code=m,t.default=v},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===be(Symbol.iterator)?function(e){return be(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":be(e)},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=y(n(2)),s=y(n(20)),l=y(n(0)),u=y(n(13)),c=y(n(24)),d=n(4),f=y(d),p=y(n(16)),h=y(n(21)),m=y(n(11)),v=y(n(3));function y(e){return e&&e.__esModule?e:{default:e}}var b=/^[ -~]*$/,g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return o(e,[{key:"applyDelta",value:function(e){var t=this,n=!1;this.scroll.update();var o=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var n=(0,h.default)(t.attributes);return delete n.image,e.insert({image:t.attributes.image},n)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var i=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(i,t.attributes)}return e.push(t)}),new a.default)}(e)).reduce((function(e,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var p=a.insert;p.endsWith("\n")&&n&&(n=!1,p=p.slice(0,-1)),e>=o&&!p.endsWith("\n")&&(n=!0),t.scroll.insertAt(e,p);var h=t.scroll.line(e),m=r(h,2),y=m[0],b=m[1],g=(0,v.default)({},(0,d.bubbleFormats)(y));if(y instanceof f.default){var _=y.descendant(l.default.Leaf,b),x=r(_,1)[0];g=(0,v.default)(g,(0,d.bubbleFormats)(x))}c=s.default.attributes.diff(g,c)||{}}else if("object"===i(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,a.insert[w])}o+=u}return Object.keys(c).forEach((function(n){t.scroll.formatAt(e,u,n,c[n])})),e+u}),0),e.reduce((function(e,n){return"number"==typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+(n.retain||n.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(r){if(null==n.scroll.whitelist||n.scroll.whitelist[r]){var o=n.scroll.lines(e,Math.max(t,1)),a=t;o.forEach((function(t){var o=t.length();if(t instanceof u.default){var s=e-t.offset(n.scroll),l=t.newlineIndex(s+a)-s+1;t.formatAt(s,l,r,i[r])}else t.format(r,i[r]);a-=o}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,h.default)(i)))}},{key:"formatText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(r){n.scroll.formatAt(e,t,r,i[r])})),this.update((new a.default).retain(e).retain(t,(0,h.default)(i)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach((function(e){var t=r(e,1)[0];t instanceof f.default?n.push(t):t instanceof l.default.Leaf&&i.push(t)})):(n=this.scroll.lines(e,t),i=this.scroll.descendants(l.default.Leaf,e,t));var o=[n,i].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=_((0,d.bubbleFormats)(n),t)}return t}));return v.default.apply(v.default,o)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new a.default).retain(e).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach((function(r){n.scroll.formatAt(e,t.length,r,i[r])})),this.update((new a.default).retain(e).insert(t,(0,h.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===f.default.blotName&&(!(e.children.length>1)&&e.children.head instanceof p.default)}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),i=this.scroll.line(e+t),o=r(i,2),s=o[0],l=o[1],c=0,d=new a.default;null!=s&&(c=s instanceof u.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+c-1).insert("\n"));var f=this.getContents(e,t+c).diff((new a.default).insert(n).concat(d)),p=(new a.default).retain(e).concat(f);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(b)&&l.default.find(t[0].target)){var r=l.default.find(t[0].target),o=(0,d.bubbleFormats)(r),s=r.offset(this.scroll),u=t[0].oldValue.replace(c.default.CONTENTS,""),f=(new a.default).insert(u),p=(new a.default).insert(r.value()),h=(new a.default).retain(s).concat(f.diff(p,n));e=h.reduce((function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)}),new a.default),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&(0,m.default)(i.compose(e),this.delta)||(e=i.diff(this.delta,n));return e}}]),e}();function _(e,t){return Object.keys(t).reduce((function(n,i){return null==e[i]||(t[i]===e[i]?n[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(n[i]=t[i].concat([e[i]])):n[i]=[t[i],e[i]]),n}),{})}t.default=g},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=u(n(0)),a=u(n(21)),s=u(n(11)),l=u(n(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=(0,u(n(10)).default)("quill:selection"),p=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=n},h=function(){function e(t,n){var i=this;d(this,e),this.emitter=n,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=o.default.create("cursor",this),this.lastRange=this.savedRange=new p(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&i.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var e=i.getNativeRange();null!=e&&e.start.node!==i.cursor.textNode&&i.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var n=t.range,r=n.startNode,o=n.startOffset,a=n.endNode,s=n.endOffset;i.setNativeRange(r,o,a,s)}})),this.update(l.default.sources.SILENT)}return r(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!o.default.query(e,o.default.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var i=o.default.find(n.start.node,!1);if(null==i)return;if(i instanceof o.default.Leaf){var r=i.split(n.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.scroll.length();e=Math.min(e,n-1),t=Math.min(e+t,n-1)-e;var r=void 0,o=this.scroll.leaf(e),a=i(o,2),s=a[0],l=a[1];if(null==s)return null;var u=s.position(l,!0),c=i(u,2);r=c[0],l=c[1];var d=document.createRange();if(t>0){d.setStart(r,l);var f=this.scroll.leaf(e+t),p=i(f,2);if(s=p[0],l=p[1],null==s)return null;var h=s.position(l,!0),m=i(h,2);return r=m[0],l=m[1],d.setEnd(r,l),d.getBoundingClientRect()}var v="left",y=void 0;return r instanceof Text?(l<r.data.length?(d.setStart(r,l),d.setEnd(r,l+1)):(d.setStart(r,l-1),d.setEnd(r,l),v="right"),y=d.getBoundingClientRect()):(y=s.domNode.getBoundingClientRect(),l>0&&(v="right")),{bottom:y.top+y.height,height:y.height,left:y[v],right:y[v],top:y.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var n=this.normalizeNative(t);return f.info("getNativeRange",n),n}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map((function(e){var n=i(e,2),r=n[0],a=n[1],s=o.default.find(r,!0),l=s.offset(t.scroll);return 0===a?l:s instanceof o.default.Container?l+s.length():l+s.index(r,a)})),a=Math.min(Math.max.apply(Math,c(r)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(c(r)));return new p(s,a-s)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=n})),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],o=this.scroll.length();return n.forEach((function(e,n){e=Math.min(o-1,e);var a,s=t.scroll.leaf(e),l=i(s,2),u=l[0],c=l[1],d=u.position(c,0!==n),f=i(d,2);a=f[0],c=f[1],r.push(a,c)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var r=this.scroll.length()-1,o=this.scroll.line(Math.min(t.index,r)),a=i(o,1)[0],s=a;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,r));s=i(l,1)[0]}if(null!=a&&null!=s){var u=e.getBoundingClientRect();n.top<u.top?e.scrollTop-=u.top-n.top:n.bottom>u.bottom&&(e.scrollTop+=n.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f.info("setNativeRange",e,t,n,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||r||e!==a.startContainer||t!==a.startOffset||n!==a.endContainer||i!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==n.tagName&&(i=[].indexOf.call(n.parentNode.childNodes,n),n=n.parentNode);var s=document.createRange();s.setStart(e,t),s.setEnd(n,i),o.removeAllRanges(),o.addRange(s)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(n=t,t=!1),f.info("setRange",e),null!=e){var i=this.rangeToNative(e);this.setNativeRange.apply(this,c(i).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,n=this.getRange(),r=i(n,2),o=r[0],u=r[1];if(this.lastRange=o,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(t,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var d,f=[l.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];if((c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(f)),e!==l.default.sources.SILENT)(d=this.emitter).emit.apply(d,f)}}}]),e}();function m(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=p,t.default=h},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"insertInto",value:function(e,n){0===e.children.length?function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,n):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default.Embed);l.blotName="break",l.tagName="BR",t.default=l},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(44),a=n(30),s=n(1),l=function(e){function t(t){var n=e.call(this,t)||this;return n.build(),n}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var n=u(t);e.insertBefore(n,e.children.head||void 0)}catch(e){if(e instanceof s.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,n){e.deleteAt(t,n)}))},t.prototype.descendant=function(e,n){var i=this.children.find(n),r=i[0],o=i[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,o]:r instanceof t?r.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],o=i;return this.children.forEachAt(n,i,(function(n,i,a){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&r.push(n),n instanceof t&&(r=r.concat(n.descendants(e,i,o))),o-=a})),r},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,n,i){this.children.forEachAt(e,t,(function(e,t,r){e.formatAt(t,r,n,i)}))},t.prototype.insertAt=function(e,t,n){var i=this.children.find(e),r=i[0],o=i[1];if(r)r.insertAt(o,t,n);else{var a=null==n?s.create("text",t):s.create(t,n);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new s.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(n){e.insertBefore(n,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var n=s.create(this.statics.defaultChild);this.appendChild(n),n.optimize(t)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var i=this.children.find(e,n),r=i[0],o=i[1],a=[[this,e]];return r instanceof t?a.concat(r.path(o,n)):(null!=r&&a.push([r,o]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(n){n instanceof t&&n.moveChildren(this),e.prototype.replace.call(this,n)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(e,this.length(),(function(e,i,r){e=e.split(i,t),n.appendChild(e)})),n},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var n=this,i=[],r=[];e.forEach((function(e){e.target===n.domNode&&"childList"===e.type&&(i.push.apply(i,e.addedNodes),r.push.apply(r,e.removedNodes))})),r.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=s.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}})),i.filter((function(e){return e.parentNode==n.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=s.find(e.nextSibling));var i=u(e);i.next==t&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,t||void 0))}))},t}(a.default);function u(e){var t=s.find(e);if(null==t)try{t=s.create(e)}catch(n){t=s.create(s.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(12),a=n(31),s=n(17),l=n(1),u=function(e){function t(t){var n=e.call(this,t)||this;return n.attributes=new a.default(n.domNode),n}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var n=l.query(e);n instanceof o.default?this.attributes.attribute(n,t):t&&(null==n||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t,n){var i=this;e.prototype.update.call(this,t,n),t.some((function(e){return e.target===i.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(n,i){var r=e.prototype.wrap.call(this,n,i);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(s.default);t.default=u},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(30),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(o.default);t.default=s},function(e,t,n){var i=n(11),r=n(3),o={attributes:{compose:function(e,t,n){"object"!==be(e)&&(e={}),"object"!==be(t)&&(t={});var i=r(!0,{},t);for(var o in n||(i=Object.keys(i).reduce((function(e,t){return null!=i[t]&&(e[t]=i[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(i[o]=e[o]);return Object.keys(i).length>0?i:void 0},diff:function(e,t){"object"!==be(e)&&(e={}),"object"!==be(t)&&(t={});var n=Object.keys(e).concat(Object.keys(t)).reduce((function(n,r){return i(e[r],t[r])||(n[r]=void 0===t[r]?null:t[r]),n}),{});return Object.keys(n).length>0?n:void 0},transform:function(e,t,n){if("object"!==be(e))return t;if("object"===be(t)){if(!n)return t;var i=Object.keys(t).reduce((function(n,i){return void 0===e[i]&&(n[i]=t[i]),n}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var n=this.offset,i=o.length(t);if(e>=i-n?(e=i-n,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(n,e):r.insert=t.insert,r}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}return[]},e.exports=o},function(e,t){var n=function(){function e(e,t){return null!=t&&e instanceof t}var t,n,i;try{t=Map}catch(e){t=function(){}}try{n=Set}catch(e){n=function(){}}try{i=Promise}catch(e){i=function(){}}function r(o,s,l,u,c){"object"===be(s)&&(l=s.depth,u=s.prototype,c=s.includeNonEnumerable,s=s.circular);var d=[],f=[],p="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===l&&(l=1/0),function o(l,h){if(null===l)return null;if(0===h)return l;var m,v;if("object"!=be(l))return l;if(e(l,t))m=new t;else if(e(l,n))m=new n;else if(e(l,i))m=new i((function(e,t){l.then((function(t){e(o(t,h-1))}),(function(e){t(o(e,h-1))}))}));else if(r.__isArray(l))m=[];else if(r.__isRegExp(l))m=new RegExp(l.source,a(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(r.__isDate(l))m=new Date(l.getTime());else{if(p&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;e(l,Error)?m=Object.create(l):void 0===u?(v=Object.getPrototypeOf(l),m=Object.create(v)):(m=Object.create(u),v=u)}if(s){var y=d.indexOf(l);if(-1!=y)return f[y];d.push(l),f.push(m)}for(var b in e(l,t)&&l.forEach((function(e,t){var n=o(t,h-1),i=o(e,h-1);m.set(n,i)})),e(l,n)&&l.forEach((function(e){var t=o(e,h-1);m.add(t)})),l){var g;v&&(g=Object.getOwnPropertyDescriptor(v,b)),g&&null==g.set||(m[b]=o(l[b],h-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(l);for(b=0;b<_.length;b++){var x=_[b];(!(E=Object.getOwnPropertyDescriptor(l,x))||E.enumerable||c)&&(m[x]=o(l[x],h-1),E.enumerable||Object.defineProperty(m,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(l);for(b=0;b<w.length;b++){var E,C=w[b];(E=Object.getOwnPropertyDescriptor(l,C))&&E.enumerable||(m[C]=o(l[C],h-1),Object.defineProperty(m,C,{enumerable:!1}))}}return m}(o,l)}function o(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=o,r.__isDate=function(e){return"object"===be(e)&&"[object Date]"===o(e)},r.__isArray=function(e){return"object"===be(e)&&"[object Array]"===o(e)},r.__isRegExp=function(e){return"object"===be(e)&&"[object RegExp]"===o(e)},r.__getRegExpFlags=a,r}();"object"===be(e)&&e.exports&&(e.exports=n)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=p(n(0)),s=p(n(8)),l=n(4),u=p(l),c=p(n(16)),d=p(n(13)),f=p(n(25));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof u.default||e instanceof l.BlockEmbed}var m=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.emitter=n.emitter,Array.isArray(n.whitelist)&&(i.whitelist=n.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),i.domNode.addEventListener("DOMNodeInserted",(function(){})),i.optimize(),i.enable(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,n){var r=this.line(e),a=i(r,2),s=a[0],u=a[1],f=this.line(e+n),p=i(f,1)[0];if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,n),null!=p&&s!==p&&u>0){if(s instanceof l.BlockEmbed||p instanceof l.BlockEmbed)return void this.optimize();if(s instanceof d.default){var h=s.newlineIndex(s.length(),!0);if(h>-1&&(s=s.split(h+1))===p)return void this.optimize()}else if(p instanceof d.default){var m=p.newlineIndex(0);m>-1&&p.split(m+1)}var v=p.children.head instanceof c.default?null:p.children.head;s.moveChildren(p,v),s.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,n,i,r){(null==this.whitelist||this.whitelist[i])&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,n,i,r),this.optimize())}},{key:"insertAt",value:function(e,n,i){if(null==i||null==this.whitelist||this.whitelist[n]){if(e>=this.length())if(null==i||null==a.default.query(n,a.default.Scope.BLOCK)){var r=a.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&n.endsWith("\n")&&(n=n.slice(0,-1)),r.insertAt(0,n,i)}else{var s=a.default.create(n,i);this.appendChild(s)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,n,i);this.optimize()}}},{key:"insertBefore",value:function(e,n){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var i=a.default.create(this.statics.defaultChild);i.appendChild(e),e=i}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,n=function e(t,n,i){var r=[],o=i;return t.children.forEachAt(n,i,(function(t,n,i){h(t)?r.push(t):t instanceof a.default.Container&&(r=r.concat(e(t,n,o))),o-=i})),r};return n(this,e,t)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,n),e.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,e,n))}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var n=s.default.sources.USER;"string"==typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,n,e),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,n,e)}}}]),t}(a.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[u.default,l.BlockEmbed,f.default],t.default=m},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var i="function"==typeof Symbol&&"symbol"===be(Symbol.iterator)?function(e){return be(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":be(e)},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=m(n(21)),s=m(n(11)),l=m(n(3)),u=m(n(2)),c=m(n(20)),d=m(n(0)),f=m(n(5)),p=m(n(10)),h=m(n(9));function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=(0,p.default)("quill:keyboard"),b=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",g=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.bindings={},Object.keys(i.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&i.options.bindings[t]&&i.addBinding(i.options.bindings[t])})),i.addBinding({key:t.keys.ENTER,shiftKey:null},C),i.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},x),i.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(i.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},x),i.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),i.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},E),i.addBinding({key:t.keys.DELETE},{collapsed:!1},E),i.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},x),i.listen(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"match",value:function(e,t){return t=k(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(n){return!!t[n]!==e[n]&&null!==t[n]}))&&t.key===(e.which||e.keyCode)}}]),o(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=k(e);if(null==i||null==i.key)return y.warn("Attempted to add invalid keyboard binding",i);"function"==typeof t&&(t={handler:t}),"function"==typeof n&&(n={handler:n}),i=(0,l.default)(i,t,n),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(n){if(!n.defaultPrevented){var o=n.which||n.keyCode,a=(e.bindings[o]||[]).filter((function(e){return t.match(n,e)}));if(0!==a.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var u=e.quill.getLine(l.index),c=r(u,2),f=c[0],p=c[1],h=e.quill.getLeaf(l.index),m=r(h,2),v=m[0],y=m[1],b=0===l.length?[v,y]:e.quill.getLeaf(l.index+l.length),g=r(b,2),_=g[0],x=g[1],w=v instanceof d.default.Text?v.value().slice(0,y):"",E=_ instanceof d.default.Text?_.value().slice(x):"",C={collapsed:0===l.length,empty:0===l.length&&f.length()<=1,format:e.quill.getFormat(l),offset:p,prefix:w,suffix:E};a.some((function(t){if(null!=t.collapsed&&t.collapsed!==C.collapsed)return!1;if(null!=t.empty&&t.empty!==C.empty)return!1;if(null!=t.offset&&t.offset!==C.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==C.format[e]})))return!1}else if("object"===i(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=C.format[e]:!1===t.format[e]?null==C.format[e]:(0,s.default)(t.format[e],C.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(C.prefix))&&(!(null!=t.suffix&&!t.suffix.test(C.suffix))&&!0!==t.handler.call(e,l,C))}))&&n.preventDefault()}}}}))}}]),t}(h.default);function _(e,t){var n,i=e===g.keys.LEFT?"prefix":"suffix";return v(n={key:e,shiftKey:t,altKey:null},i,/^$/),v(n,"handler",(function(n){var i=n.index;e===g.keys.RIGHT&&(i+=n.length+1);var o=this.quill.getLeaf(i);return!(r(o,1)[0]instanceof d.default.Embed)||(e===g.keys.LEFT?t?this.quill.setSelection(n.index-1,n.length+1,f.default.sources.USER):this.quill.setSelection(n.index-1,f.default.sources.USER):t?this.quill.setSelection(n.index,n.length+1,f.default.sources.USER):this.quill.setSelection(n.index+n.length+1,f.default.sources.USER),!1)})),n}function x(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var n=this.quill.getLine(e.index),i=r(n,1)[0],o={};if(0===t.offset){var a=this.quill.getLine(e.index-1),s=r(a,1)[0];if(null!=s&&s.length()>1){var l=i.formats(),u=this.quill.getFormat(e.index-1,1);o=c.default.attributes.diff(l,u)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,f.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index-d,d,o,f.default.sources.USER),this.quill.focus()}}function w(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var i={},o=0,a=this.quill.getLine(e.index),s=r(a,1)[0];if(t.offset>=s.length()-1){var l=this.quill.getLine(e.index+1),u=r(l,1)[0];if(u){var d=s.formats(),p=this.quill.getFormat(e.index,1);i=c.default.attributes.diff(d,p)||{},o=u.length()}}this.quill.deleteText(e.index,n,f.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index+o-1,n,i,f.default.sources.USER)}}function E(e){var t=this.quill.getLines(e),n={};if(t.length>1){var i=t[0].formats(),r=t[t.length-1].formats();n=c.default.attributes.diff(r,i)||{}}this.quill.deleteText(e,f.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index,1,n,f.default.sources.USER),this.quill.setSelection(e.index,f.default.sources.SILENT),this.quill.focus()}function C(e,t){var n=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var i=Object.keys(t.format).reduce((function(e,n){return d.default.query(n,d.default.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e}),{});this.quill.insertText(e.index,"\n",i,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==i[e]&&(Array.isArray(t.format[e])||"link"!==e&&n.quill.format(e,t.format[e],f.default.sources.USER))}))}function O(e){return{key:g.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=d.default.query("code-block"),i=t.index,o=t.length,a=this.quill.scroll.descendant(n,i),s=r(a,2),l=s[0],u=s[1];if(null!=l){var c=this.quill.getIndex(l),p=l.newlineIndex(u,!0)+1,h=l.newlineIndex(c+u+o),m=l.domNode.textContent.slice(p,h).split("\n");u=0,m.forEach((function(t,r){e?(l.insertAt(p+u,n.TAB),u+=n.TAB.length,0===r?i+=n.TAB.length:o+=n.TAB.length):t.startsWith(n.TAB)&&(l.deleteAt(p+u,n.TAB.length),u-=n.TAB.length,0===r?i-=n.TAB.length:o-=n.TAB.length),u+=t.length+1})),this.quill.update(f.default.sources.USER),this.quill.setSelection(i,o,f.default.sources.SILENT)}}}}function A(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,n){this.quill.format(e,!n.format[e],f.default.sources.USER)}}}function k(e){if("string"==typeof e||"number"==typeof e)return k({key:e});if("object"===(void 0===e?"undefined":i(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=g.keys[e.key.toUpperCase()])e.key=g.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[b]=e.shortKey,delete e.shortKey),e}g.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},g.DEFAULTS={bindings:{bold:A("bold"),italic:A("italic"),underline:A("underline"),indent:{key:g.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",f.default.sources.USER)}},outdent:{key:g.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",f.default.sources.USER)}},"outdent backspace":{key:g.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",f.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,f.default.sources.USER)}},"indent code-block":O(!0),"outdent code-block":O(!1),"remove tab":{key:g.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,f.default.sources.USER)}},tab:{key:g.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new u.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,f.default.sources.SILENT)}},"list empty enter":{key:g.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,f.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,f.default.sources.USER)}},"checklist enter":{key:g.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),i=n[0],o=n[1],a=(0,l.default)({},i.formats(),{list:"checked"}),s=(new u.default).retain(e.index).insert("\n",a).retain(i.length()-o-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:g.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=this.quill.getLine(e.index),i=r(n,2),o=i[0],a=i[1],s=(new u.default).retain(e.index).insert("\n",t.format).retain(o.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,f.default.sources.USER),this.quill.setSelection(e.index+1,f.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var n=t.prefix.length,i=this.quill.getLine(e.index),o=r(i,2),a=o[0],s=o[1];if(s>n)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",f.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(e.index-s).delete(n+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(c,f.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-n,f.default.sources.SILENT)}},"code exit":{key:g.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),n=r(t,2),i=n[0],o=n[1],a=(new u.default).retain(e.index+i.length()-o-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,f.default.sources.USER)}},"embed left":_(g.keys.LEFT,!1),"embed left shift":_(g.keys.LEFT,!0),"embed right":_(g.keys.RIGHT,!1),"embed right shift":_(g.keys.RIGHT,!0)}},t.default=g,t.SHORTKEY=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=l(n(0)),s=l(n(7));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.selection=n,i.textNode=document.createTextNode(t.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"value",value:function(){}}]),o(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,n){if(0!==this._length)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);for(var i=this,o=0;null!=i&&i.statics.scope!==a.default.Scope.BLOCK_BLOT;)o+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=t.CONTENTS.length,i.optimize(),i.formatAt(o,t.CONTENTS.length,e,n),this._length=0)}},{key:"index",value:function(e,n){return e===this.textNode?0:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,n=this.selection.getNativeRange(),r=void 0,o=void 0,l=void 0;if(null!=n&&n.start.node===e&&n.end.node===e){var u=[e,n.start.offset,n.end.offset];r=u[0],o=u[1],l=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof s.default?(r=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=o){var d=[o,l].map((function(e){return Math.max(0,Math.min(r.data.length,e-1))})),f=i(d,2);return o=f[0],l=f[1],{startNode:r,startOffset:o,endNode:r,endOffset:l}}}}},{key:"update",value:function(e,t){var n=this;if(e.some((function(e){return"characterData"===e.type&&e.target===n.textNode}))){var i=this.restore();i&&(t.range=i)}}},{key:"value",value:function(){return""}}]),t}(a.default.Embed);u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=a(n(0)),r=n(4),o=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(i.default.Container);u.allowedChildren=[o.default,r.BlockEmbed,u],t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=(i=o)&&i.__esModule?i:{default:i};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){var n=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return n.startsWith("rgb(")?(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+n.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):n}}]),t}(a.default.Attributor.Style),c=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),d=new u("color","color",{scope:a.default.Scope.INLINE});t.ColorAttributor=u,t.ColorClass=c,t.ColorStyle=d},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){if(e!==this.statics.blotName||!n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n);n=this.constructor.sanitize(n),this.domNode.setAttribute("href",n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),n.setAttribute("href",e),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank"),n}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return c(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);function c(e,t){var n=document.createElement("a");n.href=e;var i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=u,t.sanitize=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===be(Symbol.iterator)?function(e){return be(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":be(e)},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=s(n(23)),a=s(n(107));function s(e){return e&&e.__esModule?e:{default:e}}var l=0;function u(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){n.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:n.togglePicker();break;case o.default.keys.ESCAPE:n.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),e.hasAttribute("value")&&n.setAttribute("data-value",e.getAttribute("value")),e.textContent&&n.setAttribute("data-label",e.textContent),n.addEventListener("click",(function(){t.selectItem(n,!0)})),n.addEventListener("keydown",(function(e){switch(e.keyCode){case o.default.keys.ENTER:t.selectItem(n,!0),e.preventDefault();break;case o.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),n}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(n){var i=e.buildItem(n);t.appendChild(i),!0===n.selected&&e.selectItem(i)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(e!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var n=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),e}();t.default=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=y(n(0)),r=y(n(5)),o=n(4),a=y(o),s=y(n(16)),l=y(n(25)),u=y(n(24)),c=y(n(35)),d=y(n(6)),f=y(n(22)),p=y(n(7)),h=y(n(55)),m=y(n(42)),v=y(n(23));function y(e){return e&&e.__esModule?e:{default:e}}r.default.register({"blots/block":a.default,"blots/block/embed":o.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":f.default,"blots/text":p.default,"modules/clipboard":h.default,"modules/history":m.default,"modules/keyboard":v.default}),i.default.register(a.default,s.default,u.default,d.default,f.default,p.default),t.default=r.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=function(){function e(e){this.domNode=e,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return i.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,r){var o=this.isolate(e,t);if(null!=i.query(n,i.Scope.BLOT)&&r)o.wrap(n,r);else if(null!=i.query(n,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);o.wrap(a),a.format(n,r)}},e.prototype.insertAt=function(e,t,n){var r=null==n?i.create("text",t):i.create(t,n),o=this.split(e);this.parent.insertBefore(r,o)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var n=null;e.children.insertBefore(this,t),null!=t&&(n=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==n||e.domNode.insertBefore(this.domNode,n),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var n=this.split(e);return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var n="string"==typeof e?i.create(e,t):e;return n.replace(this),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"==typeof e?i.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},e.blotName="abstract",e}();t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=n(12),r=n(32),o=n(33),a=n(1),s=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=i.default.keys(this.domNode),n=r.default.keys(this.domNode),s=o.default.keys(this.domNode);t.concat(n).concat(s).forEach((function(t){var n=a.query(t,a.Scope.ATTRIBUTE);n instanceof i.default&&(e.attributes[n.attrName]=n)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(n){var i=t.attributes[n].value(t.domNode);e.format(n,i)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,n){return t[n]=e.attributes[n].value(e.domNode),t}),{})},e}();t.default=s},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){o(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(o(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});function o(e){var t=e.split("-"),n=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+n}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[o(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[o(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[o(this.keyName)];return this.canAdd(e,t)?t:""},t}(n(12).default);t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}return i(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(0)),o=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach((function(e){n.contentNode.appendChild(e)})),n.leftGuard=document.createTextNode("\ufeff"),n.rightGuard=document.createTextNode("\ufeff"),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"index",value:function(e,n){return e===this.leftGuard?0:e===this.rightGuard?1:function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,n)}},{key:"restore",value:function(e){var t=void 0,n=void 0,i=e.data.split("\ufeff").join("");if(e===this.leftGuard)if(this.prev instanceof o.default){var a=this.prev.length();this.prev.insertAt(a,i),t={startNode:this.prev.domNode,startOffset:a+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(r.default.create(n),this),t={startNode:n,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(r.default.create(n),this.next),t={startNode:n,startOffset:i.length}));return e.data="\ufeff",t}},{key:"update",value:function(e,t){var n=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var i=n.restore(e.target);i&&(t.range=i)}}))}}]),t}(r.default.Embed);t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};var a={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new o.default.Attributor.Attribute("align","align",a),l=new o.default.Attributor.Class("align","ql-align",a),u=new o.default.Attributor.Style("align","text-align",a);t.AlignAttribute=s,t.AlignClass=l,t.AlignStyle=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i},a=n(26);var s=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),l=new a.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});t.BackgroundClass=s,t.BackgroundStyle=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};var a={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},s=new o.default.Attributor.Attribute("direction","dir",a),l=new o.default.Attributor.Class("direction","ql-direction",a),u=new o.default.Attributor.Style("direction","direction",a);t.DirectionAttribute=s,t.DirectionClass=l,t.DirectionStyle=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=(i=o)&&i.__esModule?i:{default:i};function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var u={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},c=new a.default.Attributor.Class("font","ql-font",u),d=new(function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){return function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(a.default.Attributor.Style))("font","font-family",u);t.FontStyle=d,t.FontClass=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var i,r=n(0),o=(i=r)&&i.__esModule?i:{default:i};var a=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=a,t.SizeStyle=s},function(e,t,n){e.exports={align:{"":n(76),center:n(77),right:n(78),justify:n(79)},background:n(80),blockquote:n(81),bold:n(82),clean:n(83),code:n(58),"code-block":n(58),color:n(84),direction:{"":n(85),rtl:n(86)},float:{center:n(87),full:n(88),left:n(89),right:n(90)},formula:n(91),header:{1:n(92),2:n(93)},italic:n(94),image:n(95),indent:{"+1":n(96),"-1":n(97)},link:n(98),list:{ordered:n(99),bullet:n(100),check:n(101)},script:{sub:n(102),super:n(103)},strike:n(104),underline:n(105),video:n(106)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(0)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(o.default.events.EDITOR_CHANGE,(function(e,t,n,r){e!==o.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==o.default.sources.USER?i.transform(t):i.record(t,n))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop();this.stack[t].push(n),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n[e],o.default.sources.USER),this.ignoreChange=!1;var i=l(n[e]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=this.quill.getContents().diff(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=i;this.stack.undo.push({redo:e,undo:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(n(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),n=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=r.default.query(e,r.default.Scope.BLOCK)})))}(e)&&(n-=1),n}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=s,t.getLastChangeIndex=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=p(n(3)),o=p(n(2)),a=p(n(8)),s=p(n(23)),l=p(n(34)),u=p(n(59)),c=p(n(60)),d=p(n(28)),f=p(n(61));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],g=[!1,"serif","monospace"],_=["1","2","3",!1],x=["small",!1,"large","huge"],w=function(e){function t(e,n){h(this,t);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.emitter.listenDOM("click",document.body,(function t(n){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==i.tooltip||i.tooltip.root.contains(n.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach((function(e){e.container.contains(n.target)||e.close()}))})),i}return v(t,e),i(t,[{key:"addModule",value:function(e){var n=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(n),n}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(n){if(n.startsWith("ql-")&&(n=n.slice("ql-".length),null!=t[n]))if("direction"===n)e.innerHTML=t[n][""]+t[n].rtl;else if("string"==typeof t[n])e.innerHTML=t[n];else{var i=e.value||"";null!=i&&t[n][i]&&(e.innerHTML=t[n][i])}}))}))}},{key:"buildPickers",value:function(e,t){var n=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&C(e,y),new c.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var n=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&C(e,b,"background"===n?"#ffffff":"#000000"),new u.default(e,t[n])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?C(e,g):e.classList.contains("ql-header")?C(e,_):e.classList.contains("ql-size")&&C(e,x)),new d.default(e)}));this.quill.on(a.default.events.EDITOR_CHANGE,(function(){n.pickers.forEach((function(e){e.update()}))}))}}]),t}(l.default);w.DEFAULTS=(0,r.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var n=new FileReader;n.onload=function(n){var i=e.quill.getSelection(!0);e.quill.updateContents((new o.default).retain(i.index).delete(i.length).insert({image:n.target.result}),a.default.sources.USER),e.quill.setSelection(i.index+1,a.default.sources.SILENT),t.value=""},n.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var E=function(e){function t(e,n){h(this,t);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return v(t,e),i(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,a.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);if(t)return(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0";if(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))return(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/";return e}(e);case"formula":if(!e)break;var n=this.quill.getSelection(!0);if(null!=n){var i=n.index+n.length;this.quill.insertEmbed(i,this.root.getAttribute("data-mode"),e,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(i+1," ",a.default.sources.USER),this.quill.setSelection(i+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(f.default);function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var i=document.createElement("option");t===n?i.setAttribute("selected","selected"):i.setAttribute("value",t),e.appendChild(i)}))}t.BaseTooltip=E,t.default=w},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,n=this.iterator();t=n();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n,i=this.iterator();n=i();){var r=n.length();if(e<r||t&&e===r&&(null==n.next||0!==n.next.length()))return[n,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,n=this.iterator();t=n();)e(t)},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var i,r=this.find(e),o=r[0],a=e-r[1],s=this.iterator(o);(i=s())&&a<e+t;){var l=i.length();e>a?n(i,e-a,Math.min(t,a+l-e)):n(i,0,Math.min(l,e+t-a)),a+=l}},e.prototype.map=function(e){return this.reduce((function(t,n){return t.push(e(n)),t}),[])},e.prototype.reduce=function(e,t){for(var n,i=this.iterator();n=i();)t=e(t,n);return t},e}();t.default=i},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(17),a=n(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var n=e.call(this,t)||this;return n.scroll=n,n.observer=new MutationObserver((function(e){n.update(e)})),n.observer.observe(n.domNode,s),n.attach(),n}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,i,r){this.update(),e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){this.update(),e.prototype.insertAt.call(this,t,n,i)},t.prototype.optimize=function(t,n){var i=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var s=function e(t,n){void 0===n&&(n=!0),null!=t&&t!==i&&null!=t.domNode.parentNode&&(null==t.domNode[a.DATA_KEY].mutations&&(t.domNode[a.DATA_KEY].mutations=[]),n&&e(t.parent))},l=function e(t){null!=t.domNode[a.DATA_KEY]&&null!=t.domNode[a.DATA_KEY].mutations&&(t instanceof o.default&&t.children.forEach(e),t.optimize(n))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);s(t,!1),t instanceof o.default&&t.children.forEach((function(e){s(e,!1)}))}))):"attributes"===e.type&&s(t.prev)),s(t))})),this.children.forEach(l),r=(u=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t,n){var i=this;void 0===n&&(n={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==i&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],n)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(o.default);t.default=l},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1);var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){if(n.tagName!==t.tagName)return e.formats.call(this,n)},t.prototype.format=function(n,i){var r=this;n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):(this.children.forEach((function(e){e instanceof o.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,n,i,r){null!=this.formats()[i]||a.query(i,a.Scope.ATTRIBUTE)?this.isolate(t,n).format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(i,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(o.default);t.default=s},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(18),a=n(1),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(n){var i=a.query(t.blotName).tagName;if(n.tagName!==i)return e.formats.call(this,n)},t.prototype.format=function(n,i){null!=a.query(n,a.Scope.BLOCK)&&(n!==this.statics.blotName||i?e.prototype.format.call(this,n,i):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,n,i,r){null!=a.query(i,a.Scope.BLOCK)?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){if(null==i||null!=a.query(n,a.Scope.INLINE))e.prototype.insertAt.call(this,t,n,i);else{var r=this.split(t),o=a.create(n,i);r.parent.insertBefore(o,r)}},t.prototype.update=function(t,n){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,n)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(o.default);t.default=s},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,i,r){0===t&&n===this.length()?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(n(19).default);t.default=o},function(e,t,n){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(19),a=n(1),s=function(e){function t(t){var n=e.call(this,t)||this;return n.text=n.statics.value(n.domNode),n}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,i){null==i?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=a.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some((function(e){return"characterData"===e.type&&e.target===n.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(o.default);t.default=s},function(e,t,n){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,n=Object(this),i=n.length>>>0,r=arguments[1],o=0;o<i;o++)if(t=n[o],e.call(r,t,o,n))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){function n(e,t,a){if(e==t)return e?[[0,e]]:[];(a<0||e.length<a)&&(a=null);var l=r(e,t),u=e.substring(0,l);l=o(e=e.substring(l),t=t.substring(l));var c=e.substring(e.length-l),d=function(e,t){var a;if(!e)return[[1,t]];if(!t)return[[-1,e]];var s=e.length>t.length?e:t,l=e.length>t.length?t:e,u=s.indexOf(l);if(-1!=u)return a=[[1,s.substring(0,u)],[0,l],[1,s.substring(u+l.length)]],e.length>t.length&&(a[0][0]=a[2][0]=-1),a;if(1==l.length)return[[-1,e],[1,t]];var c=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function a(e,t,n){for(var i,a,s,l,u=e.substring(n,n+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var f=r(e.substring(n),t.substring(c)),p=o(e.substring(0,n),t.substring(0,c));d.length<p+f&&(d=t.substring(c-p,c)+t.substring(c,c+f),i=e.substring(0,n-p),a=e.substring(n+f),s=t.substring(0,c-p),l=t.substring(c+f))}return 2*d.length>=e.length?[i,a,s,l,d]:null}var s,l,u,c,d,f=a(n,i,Math.ceil(n.length/4)),p=a(n,i,Math.ceil(n.length/2));if(!f&&!p)return null;s=p?f&&f[4].length>p[4].length?f:p:f;e.length>t.length?(l=s[0],u=s[1],c=s[2],d=s[3]):(c=s[0],d=s[1],l=s[2],u=s[3]);var h=s[4];return[l,u,c,d,h]}(e,t);if(c){var d=c[0],f=c[1],p=c[2],h=c[3],m=c[4],v=n(d,p),y=n(f,h);return v.concat([[0,m]],y)}return function(e,t){for(var n=e.length,r=t.length,o=Math.ceil((n+r)/2),a=o,s=2*o,l=new Array(s),u=new Array(s),c=0;c<s;c++)l[c]=-1,u[c]=-1;l[a+1]=0,u[a+1]=0;for(var d=n-r,f=d%2!=0,p=0,h=0,m=0,v=0,y=0;y<o;y++){for(var b=-y+p;b<=y-h;b+=2){for(var g=a+b,_=(O=b==-y||b!=y&&l[g-1]<l[g+1]?l[g+1]:l[g-1]+1)-b;O<n&&_<r&&e.charAt(O)==t.charAt(_);)O++,_++;if(l[g]=O,O>n)h+=2;else if(_>r)p+=2;else if(f){if((E=a+d-b)>=0&&E<s&&-1!=u[E]){var x=n-u[E];if(O>=x)return i(e,t,O,_)}}}for(var w=-y+m;w<=y-v;w+=2){for(var E=a+w,C=(x=w==-y||w!=y&&u[E-1]<u[E+1]?u[E+1]:u[E-1]+1)-w;x<n&&C<r&&e.charAt(n-x-1)==t.charAt(r-C-1);)x++,C++;if(u[E]=x,x>n)v+=2;else if(C>r)m+=2;else if(!f){if((g=a+d-w)>=0&&g<s&&-1!=l[g]){var O=l[g];_=a+O-g;if(O>=(x=n-x))return i(e,t,O,_)}}}}return[[-1,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-l),t=t.substring(0,t.length-l));return u&&d.unshift([0,u]),c&&d.push([0,c]),function e(t){t.push([0,""]);var n,i=0,a=0,s=0,l="",u="";for(;i<t.length;)switch(t[i][0]){case 1:s++,u+=t[i][1],i++;break;case-1:a++,l+=t[i][1],i++;break;case 0:a+s>1?(0!==a&&0!==s&&(0!==(n=r(u,l))&&(i-a-s>0&&0==t[i-a-s-1][0]?t[i-a-s-1][1]+=u.substring(0,n):(t.splice(0,0,[0,u.substring(0,n)]),i++),u=u.substring(n),l=l.substring(n)),0!==(n=o(u,l))&&(t[i][1]=u.substring(u.length-n)+t[i][1],u=u.substring(0,u.length-n),l=l.substring(0,l.length-n))),0===a?t.splice(i-s,a+s,[1,u]):0===s?t.splice(i-a,a+s,[-1,l]):t.splice(i-a-s,a+s,[-1,l],[1,u]),i=i-a-s+(a?1:0)+(s?1:0)+1):0!==i&&0==t[i-1][0]?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,s=0,a=0,l="",u=""}""===t[t.length-1][1]&&t.pop();var c=!1;i=1;for(;i<t.length-1;)0==t[i-1][0]&&0==t[i+1][0]&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),c=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),c=!0)),i++;c&&e(t)}(d),null!=a&&(d=function(e,t){var n=function(e,t){if(0===t)return[0,e];for(var n=0,i=0;i<e.length;i++){var r=e[i];if(-1===r[0]||0===r[0]){var o=n+r[1].length;if(t===o)return[i+1,e];if(t<o){e=e.slice();var a=t-n,s=[r[0],r[1].slice(0,a)],l=[r[0],r[1].slice(a)];return e.splice(i,1,s,l),[i+1,e]}n=o}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=n[1],r=n[0],o=i[r],a=i[r+1];if(null==o)return e;if(0!==o[0])return e;if(null!=a&&o[1]+a[1]===a[1]+o[1])return i.splice(r,2,a,o),s(i,r,2);if(null!=a&&0===a[1].indexOf(o[1])){i.splice(r,2,[a[0],o[1]],[0,o[1]]);var l=a[1].slice(o[1].length);return l.length>0&&i.splice(r+2,0,[a[0],l]),s(i,r,3)}return e}(d,a)),d=function(e){for(var t=!1,n=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},i=2;i<e.length;i+=1)0===e[i-2][0]&&((r=e[i-2][1]).charCodeAt(r.length-1)>=55296&&r.charCodeAt(r.length-1)<=56319)&&-1===e[i-1][0]&&n(e[i-1][1])&&1===e[i][0]&&n(e[i][1])&&(t=!0,e[i-1][1]=e[i-2][1].slice(-1)+e[i-1][1],e[i][1]=e[i-2][1].slice(-1)+e[i][1],e[i-2][1]=e[i-2][1].slice(0,-1));var r;if(!t)return e;var o=[];for(i=0;i<e.length;i+=1)e[i][1].length>0&&o.push(e[i]);return o}(d)}function i(e,t,i,r){var o=e.substring(0,i),a=t.substring(0,r),s=e.substring(i),l=t.substring(r),u=n(o,a),c=n(s,l);return u.concat(c)}function r(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r}function o(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return r}var a=n;function s(e,t,n){for(var i=t+n-1;i>=0&&i>=t-1;i--)if(i+1<e.length){var r=e[i],o=e[i+1];r[0]===o[1]&&e.splice(i,2,[r[0],r[1]+o[1]])}return e}a.INSERT=1,a.DELETE=-1,a.EQUAL=0,e.exports=a},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==be(e)&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?i:r).supported=i,t.unsupported=r},function(e,t){var n=Object.prototype.hasOwnProperty,i="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},a.prototype.listeners=function(e,t){var n=i?i+e:e,r=this._events[n];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,a=r.length,s=new Array(a);o<a;o++)s[o]=r[o].fn;return s},a.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var l,u,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var f,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,r);break;default:if(!l)for(f=1,l=new Array(d-1);f<d;f++)l[f-1]=arguments[f];c[u].fn.apply(c[u].context,l)}}return!0},a.prototype.on=function(e,t,n){var r=new o(t,n||this),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.once=function(e,t,n){var r=new o(t,n||this,!0),a=i?i+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.removeListener=function(e,t,n,o){var a=i?i+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==t||o&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var l=0,u=[],c=s.length;l<c;l++)(s[l].fn!==t||o&&!s[l].once||n&&s[l].context!==n)&&u.push(s[l]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new r:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var i="function"==typeof Symbol&&"symbol"===be(Symbol.iterator)?function(e){return be(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":be(e)},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=g(n(3)),s=g(n(2)),l=g(n(0)),u=g(n(5)),c=g(n(10)),d=g(n(9)),f=n(36),p=n(37),h=g(n(13)),m=n(26),v=n(38),y=n(39),b=n(40);function g(e){return e&&e.__esModule?e:{default:e}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=(0,c.default)("quill:clipboard"),w="__ql-matcher",E=[[Node.TEXT_NODE,P],[Node.TEXT_NODE,F],["br",function(e,t){j(t,"\n")||t.insert("\n");return t}],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,q],[Node.ELEMENT_NODE,function(e,t){var n={},i=e.style||{};i.fontStyle&&"italic"===S(e).fontStyle&&(n.italic=!0);i.fontWeight&&(S(e).fontWeight.startsWith("bold")||parseInt(S(e).fontWeight)>=700)&&(n.bold=!0);Object.keys(n).length>0&&(t=k(t,n));parseFloat(i.textIndent||0)>0&&(t=(new s.default).insert("\t").concat(t));return t}],["li",function(e,t){var n=l.default.query(e);if(null==n||"list-item"!==n.blotName||!j(t,"\n"))return t;var i=-1,r=e.parentNode;for(;!r.classList.contains("ql-clipboard");)"list"===(l.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?t:t.compose((new s.default).retain(t.length()-1).retain(1,{indent:i}))}],["b",N.bind(N,"bold")],["i",N.bind(N,"italic")],["style",function(){return new s.default}]],C=[f.AlignAttribute,v.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),O=[f.AlignStyle,p.BackgroundStyle,m.ColorStyle,v.DirectionStyle,y.FontStyle,b.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),A=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],E.concat(i.options.matchers).forEach((function(e){var t=r(e,2),o=t[0],a=t[1];(n.matchVisual||a!==L)&&i.addMatcher(o,a)})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var n=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(n,_({},h.default.blotName,t[h.default.blotName]))}var i=this.prepareMatching(),o=r(i,2),a=o[0],l=o[1],u=function e(t,n,i){return t.nodeType===t.TEXT_NODE?i.reduce((function(e,n){return n(t,e)}),new s.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(r,o){var a=e(o,n,i);return o.nodeType===t.ELEMENT_NODE&&(a=n.reduce((function(e,t){return t(o,e)}),a),a=(o[w]||[]).reduce((function(e,t){return t(o,e)}),a)),r.concat(a)}),new s.default):new s.default}(this.container,a,l);return j(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new s.default).retain(u.length()-1).delete(1))),x.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var i=this.convert(t);this.quill.updateContents((new s.default).retain(e).concat(i),n),this.quill.setSelection(e+i.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var n=this.quill.getSelection(),i=(new s.default).retain(n.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){i=i.concat(t.convert()).delete(n.length),t.quill.updateContents(i,u.default.sources.USER),t.quill.setSelection(i.length()-n.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],n=[];return this.matchers.forEach((function(i){var o=r(i,2),a=o[0],s=o[1];switch(a){case Node.TEXT_NODE:n.push(s);break;case Node.ELEMENT_NODE:t.push(s);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[w]=e[w]||[],e[w].push(s)}))}})),[t,n]}}]),t}(d.default);function k(e,t,n){return"object"===(void 0===t?"undefined":i(t))?Object.keys(t).reduce((function(e,n){return k(e,n,t[n])}),e):e.reduce((function(e,i){return i.attributes&&i.attributes[t]?e.push(i):e.insert(i.insert,(0,a.default)({},_({},t,n),i.attributes))}),new s.default)}function S(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};return e["__ql-computed-style"]||(e["__ql-computed-style"]=window.getComputedStyle(e))}function j(e,t){for(var n="",i=e.ops.length-1;i>=0&&n.length<t.length;--i){var r=e.ops[i];if("string"!=typeof r.insert)break;n=r.insert+n}return n.slice(-1*t.length)===t}function T(e){if(0===e.childNodes.length)return!1;var t=S(e);return["block","list-item"].indexOf(t.display)>-1}function N(e,t,n){return k(n,e,!0)}function q(e,t){var n=l.default.Attributor.Attribute.keys(e),i=l.default.Attributor.Class.keys(e),r=l.default.Attributor.Style.keys(e),o={};return n.concat(i).concat(r).forEach((function(t){var n=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(e),o[n.attrName])||(null==(n=C[t])||n.attrName!==t&&n.keyName!==t||(o[n.attrName]=n.value(e)||void 0),null==(n=O[t])||n.attrName!==t&&n.keyName!==t||(n=O[t],o[n.attrName]=n.value(e)||void 0))})),Object.keys(o).length>0&&(t=k(t,o)),t}function R(e,t){var n=l.default.query(e);if(null==n)return t;if(n.prototype instanceof l.default.Embed){var i={},r=n.value(e);null!=r&&(i[n.blotName]=r,t=(new s.default).insert(i,n.formats(e)))}else"function"==typeof n.formats&&(t=k(t,n.blotName,n.formats(e)));return t}function F(e,t){return j(t,"\n")||(T(e)||t.length()>0&&e.nextSibling&&T(e.nextSibling))&&t.insert("\n"),t}function L(e,t){if(T(e)&&null!=e.nextElementSibling&&!j(t,"\n\n")){var n=e.offsetHeight+parseFloat(S(e).marginTop)+parseFloat(S(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*n&&t.insert("\n")}return t}function P(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!S(e.parentNode).whiteSpace.startsWith("pre")){var i=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&T(e.parentNode)||null!=e.previousSibling&&T(e.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&T(e.parentNode)||null!=e.nextSibling&&T(e.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}A.DEFAULTS={matchers:[],matchVisual:!0},t.default=A,t.matchAttributor=q,t.matchBlot=R,t.matchNewline=F,t.matchSpacing=L,t.matchText=P},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(6);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var u=function(e){function t(){return s(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);u.blotName="bold",u.tagName=["STRONG","B"],t.default=u},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=c(n(2)),a=c(n(0)),s=c(n(5)),l=c(n(10)),u=c(n(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var f=(0,l.default)("quill:toolbar"),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,o=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if(Array.isArray(o.options.container)){var a=document.createElement("div");m(a,o.options.container),e.container.parentNode.insertBefore(a,e.container),o.container=a}else"string"==typeof o.options.container?o.container=document.querySelector(o.options.container):o.container=o.options.container;return o.container instanceof HTMLElement?(o.container.classList.add("ql-toolbar"),o.controls=[],o.handlers={},Object.keys(o.options.handlers).forEach((function(e){o.addHandler(e,o.options.handlers[e])})),[].forEach.call(o.container.querySelectorAll("button, select"),(function(e){o.attach(e)})),o.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.SELECTION_CHANGE&&o.update(t)})),o.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var e=o.quill.selection.getRange(),t=i(e,1)[0];o.update(t)})),o):(r=f.error("Container required for toolbar",o.options),d(o,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,n=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(n){if(n=n.slice("ql-".length),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[n]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[n])return void f.warn("ignoring attaching to disabled format",n,e);if(null==a.default.query(n))return void f.warn("ignoring attaching to nonexistent format",n,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,(function(r){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var u=e.options[e.selectedIndex];l=!u.hasAttribute("selected")&&(u.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),d=i(c,1)[0];if(null!=t.handlers[n])t.handlers[n].call(t,l);else if(a.default.query(n).prototype instanceof a.default.Embed){if(!(l=prompt("Enter "+n)))return;t.quill.updateContents((new o.default).retain(d.index).delete(d.length).insert(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,l)),s.default.sources.USER)}else t.quill.format(n,l,s.default.sources.USER);t.update(d)})),this.controls.push([n,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(n){var r=i(n,2),o=r[0],a=r[1];if("SELECT"===a.tagName){var s=void 0;if(null==e)s=null;else if(null==t[o])s=a.querySelector("option[selected]");else if(!Array.isArray(t[o])){var l=t[o];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=t[o]===a.getAttribute("value")||null!=t[o]&&t[o].toString()===a.getAttribute("value")||null==t[o]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=t[o])}))}}]),t}(u.default);function h(e,t,n){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+t),null!=n&&(i.value=n),e.appendChild(i)}function m(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var n=document.createElement("span");n.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)h(n,e);else{var t=Object.keys(e)[0],i=e[t];Array.isArray(i)?function(e,t,n){var i=document.createElement("select");i.classList.add("ql-"+t),n.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),i.appendChild(t)})),e.appendChild(i)}(n,t,i):h(n,t,i)}})),e.appendChild(n)}))}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var n=this.quill.getFormat();Object.keys(n).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,s.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",s.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",e,s.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t),i=parseInt(n.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===n.direction&&(r*=-1),this.quill.format("indent",i+r,s.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,s.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),n=this.quill.getFormat(t);"check"===e?"checked"===n.list||"unchecked"===n.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",e,s.default.sources.USER)}}},t.default=p,t.addControls=m},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(28);var s=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.label.innerHTML=n,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildItem",value:function(e){var n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return n.style.backgroundColor=e.getAttribute("value")||"",n}},{key:"selectItem",value:function(e,n){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n);var i=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}]),t}(((i=a)&&i.__esModule?i:{default:i}).default);t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(28);var a=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=n[e.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectItem",value:function(e,n){(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,n),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);t.default=a},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=n||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})),this.hide()}return i(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,n=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),o=0;if(r.right>i.right&&(o=i.right-r.right,this.root.style.left=t+o+"px"),r.left<i.left&&(o=i.left-r.left,this.root.style.left=t+o+"px"),r.bottom>i.bottom){var a=r.bottom-r.top,s=e.bottom-e.top+a;this.root.style.top=n-s+"px",this.root.classList.add("ql-flip")}return o}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=p(n(3)),s=p(n(8)),l=n(43),u=p(l),c=p(n(27)),d=n(15),f=p(n(41));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(e){function t(e,n){h(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=y);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-snow"),i}return v(t,e),o(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),f.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),f.default),this.tooltip=new g(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,n){e.handlers.link.call(e,!n.format.link)}))}}]),t}(u.default);b.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var n=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(n)&&0!==n.indexOf("mailto:")&&(n="mailto:"+n),this.quill.theme.tooltip.edit("link",n)}else this.quill.format("link",!1)}}}}});var g=function(e){function t(e,n){h(this,t);var i=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.preview=i.root.querySelector("a.ql-preview"),i}return v(t,e),o(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var n=e.linkRange;e.restoreFocus(),e.quill.formatText(n,"link",!1,s.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(t,n,r){if(null!=t){if(0===t.length&&r===s.default.sources.USER){var o=e.quill.scroll.descendant(c.default,t.index),a=i(o,2),l=a[0],u=a[1];if(null!=l){e.linkRange=new d.Range(t.index-u,l.length());var f=c.default.formats(l.domNode);return e.preview.textContent=f,e.preview.setAttribute("href",f),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);g.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=b},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=L(n(29)),r=n(36),o=n(38),a=n(64),s=L(n(65)),l=L(n(66)),u=n(67),c=L(u),d=n(37),f=n(26),p=n(39),h=n(40),m=L(n(56)),v=L(n(68)),y=L(n(27)),b=L(n(69)),g=L(n(70)),_=L(n(71)),x=L(n(72)),w=L(n(73)),E=n(13),C=L(E),O=L(n(74)),A=L(n(75)),k=L(n(57)),S=L(n(41)),j=L(n(28)),T=L(n(59)),N=L(n(60)),q=L(n(61)),R=L(n(108)),F=L(n(62));function L(e){return e&&e.__esModule?e:{default:e}}i.default.register({"attributors/attribute/direction":o.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":f.ColorClass,"attributors/class/direction":o.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":f.ColorStyle,"attributors/style/direction":o.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":h.SizeStyle},!0),i.default.register({"formats/align":r.AlignClass,"formats/direction":o.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":f.ColorStyle,"formats/font":p.FontClass,"formats/size":h.SizeClass,"formats/blockquote":s.default,"formats/code-block":C.default,"formats/header":l.default,"formats/list":c.default,"formats/bold":m.default,"formats/code":E.Code,"formats/italic":v.default,"formats/link":y.default,"formats/script":b.default,"formats/strike":g.default,"formats/underline":_.default,"formats/image":x.default,"formats/video":w.default,"formats/list/item":u.ListItem,"modules/formula":O.default,"modules/syntax":A.default,"modules/toolbar":k.default,"themes/bubble":R.default,"themes/snow":F.default,"ui/icons":S.default,"ui/picker":j.default,"ui/icon-picker":N.default,"ui/color-picker":T.default,"ui/tooltip":q.default},!0),t.default=i.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(0),s=(i=a)&&i.__esModule?i:{default:i};function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var c=new(function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"add",value:function(e,n){if("+1"===n||"-1"===n){var i=this.value(e)||0;n="+1"===n?i+1:i-1}return 0===n?(this.remove(e),!0):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,n)}},{key:"canAdd",value:function(e,n){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,n)||o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(n))}},{key:"value",value:function(e){return parseInt(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(s.default.Attributor.Class))("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=c},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(4);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="blockquote",s.tagName="blockquote",t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},o=l(n(0)),a=l(n(4)),s=l(n(25));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var f=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),i(t,[{key:"format",value:function(e,n){e!==p.blotName||n?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n):this.replaceWith(o.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,n){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,n),this):(this.parent.unwrap(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,n))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:r(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);f.blotName="list-item",f.tagName="LI";var p=function(e){function t(e){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),i=function(t){if(t.target.parentNode===e){var i=n.statics.formats(e),r=o.default.find(t.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return e.addEventListener("touchstart",i),e.addEventListener("mousedown",i),n}return d(t,e),i(t,null,[{key:"create",value:function(e){var n="ordered"===e?"OL":"UL",i=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,n);return"checked"!==e&&"unchecked"!==e||i.setAttribute("data-checked","checked"===e),i}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,n=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;var e,t,n}},{key:"insertBefore",value:function(e,n){if(e instanceof f)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,n);else{var i=null==n?this.length():n.offset(this),o=this.split(i);o.parent.insertBefore(e,o)}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var n=this.next;null!=n&&n.prev===this&&n.statics.blotName===this.statics.blotName&&n.domNode.tagName===this.domNode.tagName&&n.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(n.moveChildren(this),n.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var n=o.default.create(this.statics.defaultChild);e.moveChildren(n),this.appendChild(n)}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(s.default);p.blotName="list",p.scope=o.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[f],t.ListItem=f,t.default=p},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(56);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="italic",s.tagName=["EM","I"],t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(6);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((i=o)&&i.__esModule?i:{default:i}).default);l.blotName="script",l.tagName=["SUB","SUP"],t.default=l},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="strike",s.tagName="S",t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(6);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var s=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="underline",s.tagName="U",t.default=s},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(0),s=(i=a)&&i.__esModule?i:{default:i},l=n(27);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var d=["alt","height","width"],f=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.default.Embed);f.blotName="image",f.tagName="IMG",t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=n(4),s=n(27),l=(i=s)&&i.__esModule?i:{default:i};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}var d=["height","width"],f=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,n){d.indexOf(e)>-1?n?this.domNode.setAttribute(e,n):this.domNode.removeAttribute(e):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,n)}}],[{key:"create",value:function(e){var n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(e)),n}},{key:"formats",value:function(e){return d.reduce((function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);f.blotName="video",f.className="ql-video",f.tagName="IFRAME",t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(35)),o=s(n(5)),a=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),i(t,null,[{key:"create",value:function(e){var n=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(r.default);d.blotName="formula",d.className="ql-formula",d.tagName="SPAN";var f=function(e){function t(){l(this,t);var e=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return c(t,e),i(t,null,[{key:"register",value:function(){o.default.register(d,!0)}}]),t}(a.default);t.FormulaBlot=d,t.default=f},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=s(n(0)),o=s(n(5)),a=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return c(t,e),i(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(s(n(13)).default);d.className="ql-syntax";var f=new r.default.Attributor.Class("token","hljs",{scope:r.default.Scope.INLINE}),p=function(e){function t(e,n){l(this,t);var i=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return i.quill.on(o.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){i.highlight(),r=null}),i.options.interval)})),i.highlight(),i}return c(t,e),i(t,null,[{key:"register",value:function(){o.default.register(f,!0),o.default.register(d,!0)}}]),i(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(d).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(o.default.sources.SILENT),null!=t&&this.quill.setSelection(t,o.default.sources.SILENT)}}}]),t}(a.default);p.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=d,t.CodeToken=f,t.default=p},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var i=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=d(n(3)),a=d(n(8)),s=n(43),l=d(s),u=n(15),c=d(n(41));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==be(t)&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+be(t));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(e){function t(e,n){f(this,t),null!=n.modules.toolbar&&null==n.modules.toolbar.container&&(n.modules.toolbar.container=m);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.container.classList.add("ql-bubble"),i}return h(t,e),r(t,[{key:"extendToolbar",value:function(e){this.tooltip=new y(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(l.default);v.DEFAULTS=(0,o.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var y=function(e){function t(e,n){f(this,t);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return i.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,n,r){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===a.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var o=i.quill.getLines(t.index,t.length);if(1===o.length)i.position(i.quill.getBounds(t));else{var s=o[o.length-1],l=i.quill.getIndex(s),c=Math.min(s.length()-1,t.index+t.length-l),d=i.quill.getBounds(new u.Range(l,c));i.position(d)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return h(t,e),r(t,[{key:"listen",value:function(){var e=this;i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var n=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===n)return n;r.style.marginLeft=-1*n-r.offsetWidth/2+"px"}}]),t}(s.BaseTooltip);y.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=y,t.default=v},function(e,t,n){e.exports=n(63)}]).default}));var Wa=Object.freeze({__proto__:null});require("quill/dist/quill.snow.css"),require("quill/dist/quill.bubble.css"),require("quill/dist/quill.core.css"),window.Quill||(window.Quill=require("quill/dist/quill.js"));var Ja=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="editor.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"quill-editor"},[this._t("toolbar"),this._v(" "),t("div",{ref:"editor"})],2)},staticRenderFns:[]},(function(e){e&&e("data-v-dfc14f92_0",{source:".quill-editor img{max-width:100%}",map:void 0,media:void 0})}),{name:"quill-editor",data:function(){return{_content:"",defaultModules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]}}},props:{content:String,value:String,disabled:Boolean,options:{type:Object,required:!1,default:function(){return{}}}},mounted:function(){this.initialize()},beforeDestroy:function(){this.quill=null},methods:{initialize:function(){if(this.$el){var e=this;e.options.theme=e.options.theme||"snow",e.options.boundary=e.options.boundary||document.body,e.options.modules=e.options.modules||e.defaultModules,e.options.modules.toolbar=void 0!==e.options.modules.toolbar?e.options.modules.toolbar:e.defaultModules.toolbar,e.options.placeholder=e.options.placeholder||"Insert text here ...",e.options.readOnly=void 0!==e.options.readOnly&&e.options.readOnly,e.quill=new Quill(e.$refs.editor,e.options),(e.value||e.content)&&e.quill.pasteHTML(e.value||e.content),e.quill.on("selection-change",(function(t){t?e.$emit("focus",e.quill):e.$emit("blur",e.quill)})),e.quill.on("text-change",(function(t,n,i){var r=e.$refs.editor.children[0].innerHTML,o=e.quill.getText();"<p><br></p>"===r&&(r=""),e._content=r,e.$emit("input",e._content),e.$emit("change",{editor:e.quill,html:r,text:o})})),this.disabled&&this.quill.enable(!1),e.$emit("ready",e.quill)}}},watch:{content:function(e,t){this.quill&&(e&&e!==this._content?(this._content=e,this.quill.pasteHTML(e)):e||this.quill.setText(""))},value:function(e,t){this.quill&&(e&&e!==this._content?(this._content=e,this.quill.pasteHTML(e)):e||this.quill.setText(""))},disabled:function(e,t){this.quill&&this.quill.enable(!e)}}},void 0,!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}})),Za=Object.freeze({__proto__:null,default:Ja}),Ga=De(Wa),Ya=De(Za),Qa={Quill:Ga,quillEditor:Ya=Ya.default||Ya,install:function(e){e.component(Ya.name,Ya)}},Xa={modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["link"]]}};var es=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="Feedback.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-1"},[n("div",[n("span",{staticClass:"subtitle-2"},[e._v("Feedback")]),e._v(" "),n("v-btn",{staticClass:"ml-1",attrs:{text:"",small:""},on:{click:e.toggleExpand}},[e._v("\n      "+e._s(e.buttonLabel)+"\n    ")])],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.isExpanded?n("div",{staticClass:"feedback-content"},e._l(e.processedAnswers,(function(t,i){return n("v-row",{key:i},[n("v-col",[n("div",{staticClass:"feedback-info mb-4"},[n("span",{staticClass:"answer-type subtitle-2"},[e._v(e._s(e.answerType)+" "+e._s(i+1)+":")]),e._v(" "),n("span",[e._v(e._s(t||"Answer not added."))])]),e._v(" "),e.isEditing?n("quill-editor",{staticClass:"grey lighten-3",attrs:{options:e.quillOptions,content:e.feedback[i]},on:{change:function(t){return e.updateFeedback(t,i)}}}):n("div",{staticClass:"feedback-preview"},[e.feedback[i]?n("div",{domProps:{innerHTML:e._s(e.feedback[i])}}):n("i",[e._v("Feedback not added.")])])],1)],1)})),1):e._e()])],1)},staticRenderFns:[]},0,{name:"feedback",props:{answers:{type:[Array,Boolean],default:null},feedback:{type:Object,default:function(){return{}}},isEditing:{type:Boolean,default:!1},isGraded:{type:Boolean,default:!1}},data:function(e){return{isExpanded:ie.default(e.feedback)}},computed:{quillOptions:function(){return Xa},answerType:function(e){return e.isGraded?"Answer":"Option"},buttonLabel:function(e){return e.isExpanded?"hide":"show"},processedAnswers:function(e){return ne.default(e.answers)?e.answers:["True","False"]}},methods:{updateFeedback:function(e,t){var n=e.html;this.$emit("update",ge({},t,n))},toggleExpand:function(){this.isExpanded=!this.isExpanded}},watch:{isEditing:function(e){ie.default(this.feedback)&&e&&(this.isExpanded=!0)}},components:{QuillEditor:Qa.quillEditor}},void 0,!1);var ts=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="ContainedContent.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"contained-content",class:[e.widthClass,{disabled:e.isDisabled,hovered:e.isHovered}],on:{mouseover:function(t){e.isHovered=!0},mouseleave:function(t){e.isHovered=!1},dragstart:function(t){return e.$emit("dragstart")},dragend:function(t){return e.$emit("dragend")},dragover:e.scrollContainer}},[e.isDisabled?e._e():n("span",{staticClass:"drag-handle"},[n("span",{staticClass:"mdi mdi-drag-vertical"})]),e._v(" "),n("content-element",e._b({on:{add:function(t){return e.$emit("add",t)},save:function(t){return e.$emit("save",t)},"save:meta":function(t){return e.$emit("save:meta",t)},delete:function(t){return e.$emit("delete")}}},"content-element",e.bindings,!1))],1)},staticRenderFns:[]},(function(e){e&&e("data-v-cb586726_0",{source:".drag-handle[data-v-cb586726]{position:absolute;left:-3px;z-index:2;width:26px;opacity:0}.drag-handle .mdi[data-v-cb586726]{color:#888;font-size:28px}.hovered .drag-handle[data-v-cb586726]{opacity:1;transition:opacity .6s ease-in-out;cursor:pointer}.disabled .drag-handle[data-v-cb586726]{display:none}.contained-content[data-v-cb586726]{position:relative;margin:7px 0;padding:0}",map:void 0,media:void 0})}),{name:"tailor-contained-content",inheritAttrs:!1,props:{element:{type:Object,required:!0},isDisabled:{type:Boolean,default:!1},isDragged:{type:Boolean,default:!1},setWidth:{type:Boolean,default:!0},dense:{type:Boolean,default:!1}},data:function(){return{isHovered:!1}},computed:{bindings:function(){var e=this.element,t=this.isDisabled,n=this.isDragged,i=this.isHovered,r=this.dense,o=this.$attrs;return Object.assign({element:e,isDisabled:t,isDragged:n,isHovered:i,dense:r},o)},widthClass:function(){var e=this.element;return this.setWidth?"col-xs-".concat(Z.default(e,"data.width",12)):""}},methods:{scrollContainer:ae.default((function(e){var t=e.y<200,n=e.y>window.innerHeight-200;(t||n)&&window.scrollBy(0,t?-30:30)}),20)},components:{ContentElement:Le}},"data-v-cb586726",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var ns=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="InputError.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"message-transition"}},[this.error?t("div",{staticClass:"input-error"},[this._v("\n    "+this._s(this.error)+"\n  ")]):this._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-ff8d03d8_0",{source:".input-error[data-v-ff8d03d8]{color:var(--v-error-base);font-size:.75rem}",map:void 0,media:void 0})}),{name:"tailor-input-error",props:{error:{type:String,default:""}}},"data-v-ff8d03d8",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}})),is={handle:".drag-handle",scrollSensitivity:125,scrollSpeed:15};var rs=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="Question.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"subtitle-2 mb-2"},[e._v("Question")]),e._v(" "),n("div",{class:["question-container",{focused:e.isFocused,disabled:!e.isEditing,incorrect:!!e.questionError}]},[n("draggable",e._b({staticClass:"row",model:{value:e.question,callback:function(t){e.question=t},expression:"question"}},"draggable",e.dragOptions,!1),e._l(e.question,(function(t){return n("contained-content",{key:t.id,staticClass:"mb-4",attrs:{element:t,"is-disabled":!e.isEditing,dense:""},on:{save:function(n){return e.updateElement(t,n)},delete:function(n){return e.deleteElement(t)}}})})),1)],1),e._v(" "),n("add-element",{class:{invisible:!e.isEditing},attrs:{items:e.question,layout:!1,position:e.question.length,disabled:!e.isEditing,include:["JODIT_HTML","IMAGE","EMBED","HTML"]},on:{add:e.addQuestionElements},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.addElement;return[n("div",{staticClass:"d-flex justify-space-between mt-2 pl-3"},[n("input-error",{attrs:{error:e.questionError}}),e._v(" "),n("v-btn",{staticClass:"mt-2 ml-auto px-2",attrs:{text:""},on:{click:i}},[n("v-icon",{staticClass:"mr-1",attrs:{dense:""}},[e._v("mdi-plus")]),e._v("\n        Add question element\n      ")],1)],1)]}}])})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-28708166_0",{source:".question-container[data-v-28708166]{position:relative;min-height:8.75rem;padding:1rem 3rem 0 2.5rem;text-align:center;background:#ebebeb;border-radius:.125rem;transition:.3s cubic-bezier(.25,.8,.5,1)}.question-container[data-v-28708166]::after,.question-container[data-v-28708166]::before{content:'';position:absolute;bottom:-1px;left:0;width:100%;transition:.3s cubic-bezier(.25,.8,.5,1)}.question-container[data-v-28708166]::before{border-style:solid;border-width:thin 0 0 0}.question-container[data-v-28708166]::after{border-style:solid;border-width:thin 0 thin 0;transform:scaleX(0)}.question-container[data-v-28708166]:not(.focused):not(.disabled):not(.incorrect):hover{background:#dcdcdc}.question-container[data-v-28708166]:not(.focused):not(.disabled):not(.incorrect):hover  .content-element{border-color:#bbb}.focused[data-v-28708166]::after{transform:scaleX(1)}.disabled[data-v-28708166]{color:rgba(0,0,0,.38)}.disabled[data-v-28708166]::before{border-image:repeating-linear-gradient(to right,rgba(0,0,0,.38) 0,rgba(0,0,0,.38) .125rem,transparent .125rem,transparent .25rem) 1 repeat}.incorrect[data-v-28708166]::after,.incorrect[data-v-28708166]::before{border-color:var(--v-error-base)}.invisible[data-v-28708166]{visibility:none}",map:void 0,media:void 0})}),{name:"question",props:{assessment:{type:Object,required:!0},errors:{type:Array,default:function(){return[]}},isEditing:{type:Boolean,default:!1}},data:function(){return{isFocused:!1}},computed:Object.assign({},p.mapChannels({editorChannel:"editor"}),{question:{get:function(){return te.default(this.assessment.data.question)},set:function(e){this.$emit("update",{question:e})}},questionError:function(e){return ue.default(n.assessment.getErrorMessages(e.errors,"question"))},dragOptions:function(){return is}}),methods:{addQuestionElements:function(e){var t=te.default(this.assessment.data.question);this.$emit("update",{question:t.concat(e)})},updateElement:function(e,t){if(this.isEditing){var n=te.default(this.assessment.data.question),i=le.default(n,{id:e.id});-1!==i&&(e=Object.assign({},n[i],{data:t}),this.$emit("update",{question:de.default(n,i,e)}))}},deleteElement:function(e){var t=te.default(this.assessment.data.question),n=le.default(t,{id:e.id});-1!==n&&(ce.default(t,n),this.$emit("update",{question:t}))}},created:function(){var e=this;this.editorChannel.on("element:focus",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.isFocused=!!K.default(e.question,{id:t.id})}))},components:{AddElement:et,ContainedContent:ts,Draggable:se.default,InputError:ns}},"data-v-28708166",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}})),os=["MC","SC","TF"],as=["JODIT_HTML","HTML"],ss={recursive:!0,abortEarly:!1},ls={name:"tce-question-container",inject:["$teRegistry"],props:{element:{type:Object,required:!0},isDisabled:{type:Boolean,default:!1}},data:function(e){return{isEditing:!e.element.id,editedElement:te.default(e.element),undoState:te.default(e.element),errors:[],alert:{}}},computed:{answerType:function(e){return e.element.data.type},isGraded:function(e){return"ASSESSMENT"===e.element.type},showFeedback:function(e){return os.includes(e.answerType)},componentName:function(e){return t=e.answerType,n.getComponentName(n.processAnswerType(t));var t},config:function(e){return e.$teRegistry.get(e.answerType)},hintErrors:function(e){return n.assessment.getErrorMessages(e.errors,"hint")},schema:function(){var e=this.config.schema;return Ua().shape(Object.assign({},cs,this.isGraded?e:oe.default(e,["correct"])))}},methods:{edit:function(){this.editedElement=te.default(this.element),this.undoState=te.default(this.element),this.isEditing=!0},update:function(e,t){var n=this;Object.assign(this.editedElement.data,e),t&&!re.default(this.errors)&&(this.errors=[],this.validate().catch((function(e){return n.errors=e.inner}))),this.$emit("add",this.editedElement)},save:function(){var e=this;this.validate().then((function(){e.$emit("save",te.default(e.editedElement.data)),e.isEditing=!1,e.errors=[]})).catch((function(t){return e.errors=t.inner}))},cancel:function(){if(!this.editedElement.id)return this.$emit("delete");this.$emit("add",te.default(this.undoState)),this.editedElement=te.default(this.undoState),this.isEditing=!1,this.errors=[],this.alert={}},validate:function(){return this.schema.validate(this.editedElement.data,ss)},updateFeedback:function(e){var t=this.editedElement;this.$set(t.data,"feedback",Object.assign({},t.data.feedback,e))}},components:{Controls:Ka,Feedback:es,Question:rs}};function us(e){return as.includes(e.type)&&e.data.content&&e.data.content.trim().length>0}var cs={question:Va().test("has-text","Please define question",(function(e){return!!e.find(us)})),hint:Xo().trim().max(500),_refs:Ua().shape({objectiveId:ea().integer().positive()})};var ds=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="index.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"tce-question-container my-2 grey lighten-5"},[n("v-toolbar",{staticClass:"mb-5 px-0 elevation-2 text-left",attrs:{color:"primary darken-3",height:"36",dark:""}},[n("v-icon",{staticClass:"mr-2",attrs:{color:"secondary lighten-2",size:"18"}},[e._v("mdi-help")]),e._v(" "),n("span",{staticClass:"subtitle-2"},[e._v(e._s(e.config.name))])],1),e._v(" "),e._t("default",null,{isEditing:e.isEditing}),e._v(" "),n("div",{staticClass:"content"},[n("question",{attrs:{assessment:e.editedElement,"is-editing":e.isEditing,errors:e.errors},on:{update:e.update}}),e._v(" "),n(e.componentName,{tag:"component",staticClass:"tce-answer",attrs:{assessment:e.editedElement.data,"is-editing":e.isEditing,"is-graded":e.isGraded,errors:e.errors},on:{update:e.update,alert:function(t){e.alert=t}}}),e._v(" "),n("div",{staticClass:"subtitle-2 mb-2"},[e._v("Hint")]),e._v(" "),n("v-text-field",{attrs:{"error-messages":e.hintErrors,disabled:!e.isEditing,placeholder:"Optional hint...",color:"blue-darken darken-3",filled:"",clearable:""},model:{value:e.editedElement.data.hint,callback:function(t){e.$set(e.editedElement.data,"hint",t)},expression:"editedElement.data.hint"}}),e._v(" "),e.showFeedback?n("feedback",{attrs:{answers:e.editedElement.data.answers,feedback:e.editedElement.data.feedback,"is-graded":e.isGraded,"is-editing":e.isEditing},on:{update:e.updateFeedback}}):e._e(),e._v(" "),n("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.alert.text,expression:"alert.text"}],staticClass:"mt-4",attrs:{type:e.alert.type,prominent:""}},[e._v("\n      "+e._s(e.alert.text)+"\n    ")]),e._v(" "),e.isDisabled?e._e():n("controls",{staticClass:"controls",attrs:{"is-editing":e.isEditing},on:{edit:e.edit,save:e.save,cancel:e.cancel}})],1)],2)},staticRenderFns:[]},(function(e){e&&e("data-v-b4ecdf22_0",{source:".tce-question-container[data-v-b4ecdf22]{min-height:25rem;background-color:#fff;overflow:visible;text-align:left}.tce-question-container[data-v-b4ecdf22]  .title{font-weight:400}.tce-question-container .content[data-v-b4ecdf22]{margin:.5rem 1.625rem}@media (max-width:1263px){.tce-question-container .content[data-v-b4ecdf22]{margin:.5rem}}.tce-question-container .tce-answer[data-v-b4ecdf22]{overflow:hidden}.disabled .controls[data-v-b4ecdf22]{display:none}",map:void 0,media:void 0})}),ls,"data-v-b4ecdf22",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}})),fs=["JODIT_HTML","HTML"],ps=/(@blank)/g,hs=/(<\/?[^>]+(>|$))|&nbsp;/g;var ms=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="AssessmentItem.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list-group-item assessment-item elevation-1",class:[e.assessment.changeSincePublish,{hover:e.hover,expanded:e.expanded,diff:e.$editorState.isPublishDiff}],on:{mouseenter:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[e.draggable?n("span",{staticClass:"drag-handle"},[n("v-icon",[e._v("mdi-drag-vertical")])],1):e._e(),e._v(" "),e.expanded?n("tce-question-container",{staticClass:"question-container",attrs:{element:e.assessment,"is-disabled":e.isDisabled},on:{save:e.save,delete:function(t){return e.$emit("delete")}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.isEditing;return[n("div",{staticClass:"px-6 d-flex justify-end"},[n("v-btn",{staticClass:"px-2",attrs:{text:"",small:""},on:{click:function(t){return e.$emit("selected")}}},[n("v-icon",{staticClass:"mr-2",attrs:{dense:""}},[e._v("mdi-arrow-collapse")]),e._v("\n          Collapse\n        ")],1)],1),e._v(" "),n("div",{staticClass:"d-flex pb-4 px-6"},[e._t("header",null,{isEditing:i})],2)]}}],null,!0)}):n("div",{staticClass:"minimized d-flex justify-space-between align-center",on:{click:function(t){return e.$emit("selected")}}},[n("v-chip",{staticClass:"readonly",attrs:{color:"primary darken-3",label:"",dark:"",small:""}},[e._v("\n      "+e._s(e.elementConfig.subtype)+"\n    ")]),e._v(" "),n("span",{staticClass:"question"},[e._v(e._s(e._f("truncate")(e.question,50)))]),e._v(" "),e.$editorState.isPublishDiff&&e.assessment.changeSincePublish?n("publish-diff-chip",{attrs:{"change-type":e.assessment.changeSincePublish}}):n("v-btn",{staticClass:"delete",class:{disabled:e.isDisabled},attrs:{color:"primary darken-2",icon:""},on:{click:function(t){return t.stopPropagation(),e.$emit("delete")}}},[n("v-icon",[e._v("mdi-close")])],1)],1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-493c9656_0",{source:".assessment-item[data-v-493c9656]{margin-bottom:.625rem;padding:0}.assessment-item .v-chip[data-v-493c9656]{min-width:1.875rem}.assessment-item .drag-handle[data-v-493c9656]{position:absolute;top:0;left:-3px;color:#888;font-size:28px;opacity:0;cursor:move}.assessment-item.hover .drag-handle[data-v-493c9656]{opacity:1;transition:opacity .6s ease-in-out}.assessment-item .minimized[data-v-493c9656]{padding:.375rem 1.375rem;cursor:pointer}.assessment-item .minimized .question[data-v-493c9656]{display:inline-block;max-width:80%;min-height:1.875rem;color:#444;font-size:1rem;font-weight:400;line-height:2.125rem}.assessment-item .minimized .v-chip[data-v-493c9656]{margin-top:.125rem}.assessment-item .delete[data-v-493c9656]{opacity:0}.assessment-item.hover:not(.sortable-chosen) .delete[data-v-493c9656]:not(.disabled){opacity:1}.question-container[data-v-493c9656]{margin:0!important}.diff[data-v-493c9656]{border:none}.diff.expanded[data-v-493c9656]{border-radius:4px}.diff.new[data-v-493c9656]{border:none;box-shadow:0 0 0 2px var(--v-success-lighten2)!important}.diff.changed[data-v-493c9656],.diff.removed[data-v-493c9656]{border:none;box-shadow:0 0 0 2px var(--v-secondary-lighten4)!important}",map:void 0,media:void 0})}),{name:"tailor-assessment-item",inject:["$teRegistry","$editorState"],props:{assessment:{type:Object,required:!0},expanded:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{elementConfig:function(){return this.$teRegistry.get(this.assessment.data.type)},question:function(){var e,t=(e=this.assessment.data.question,B.default(e,(function(e){return fs.includes(e.type)}))),n=Y.default(t,"data.content").join(" ");return n.replace(hs,"").replace(ps,(function(){return"____"}))}},methods:{save:function(e){var t=te.default(this.assessment);Object.assign(t.data,e),this.$emit("save",t)}},components:{PublishDiffChip:Fe,TceQuestionContainer:ds}},"data-v-493c9656",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}})),vs={inject:["$storageService","$repository"],mixins:[{methods:{download:function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.target="_blank",n.click()}}}],data:function(){return{uploading:!1}},computed:{repositoryId:function(){return this.$repository.id}},methods:Object.assign({},p.mapRequests("app",["showConfirmationModal"]),{createFileForm:function(e){this.form=new FormData;var t=_e(e.target.files,1)[0];t&&this.form.append("file",t,t.name)},upload:Ue((function(e){var t=this;return this.createFileForm(e),this.$storageService.upload(this.repositoryId,this.form).then((function(e){var n=t.form.get("file").name;t.$emit("upload",Object.assign({},e,{name:n}))})).catch((function(){t.error="An error has occurred!"}))}),"uploading"),downloadFile:async function(e,t){var n=await this.$storageService.getUrl(this.repositoryId,e);return this.download(n,t)},deleteFile:function(e){var t=this;this.showConfirmationModal({title:"Delete file?",message:"Are you sure you want to remove ".concat(e.fileName,"?"),action:function(){return t.$emit("delete",e.id,null)}})}})};var ys=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="UploadBtn.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-upload"},[n("form",{staticClass:"upload-form",on:{submit:function(e){e.preventDefault()}}},[n("validation-provider",{ref:"validator",attrs:{rules:e.validate}},[n("input",{ref:e.id,staticClass:"upload-input",attrs:{id:e.id,name:e.id,accept:e.validate.ext,type:"file"},on:{change:e.validateAndUpload}})]),e._v(" "),e.fileKey?n("span",{staticClass:"file-name",on:{click:function(t){return e.downloadFile(e.fileKey,e.fileName)}}},[e._v(e._s(e.fileName)+"\n    ")]):n("v-btn",{attrs:{loading:e.uploading,color:"grey darken-4",text:""},on:{click:function(t){return e.$refs[e.id].click()}}},[n("v-icon",{staticClass:"mr-2",attrs:{color:"secondary"}},[e._v("mdi-cloud-upload-outline")]),e._v("\n      "+e._s(e.label)+"\n    ")],1),e._v(" "),e.fileKey?n("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return e.deleteFile({id:e.id,fileName:e.fileName})}}},[n("v-icon",[e._v("mdi-delete")])],1):e._e()],1)])},staticRenderFns:[]},(function(e){e&&e("data-v-1f089141_0",{source:".file-upload[data-v-1f089141],.upload-form[data-v-1f089141]{display:inline-block}.upload-input[data-v-1f089141]{visibility:hidden;max-width:0;max-height:0}.file-name[data-v-1f089141]{color:#00f;font-size:1rem;text-decoration:underline;cursor:pointer}",map:void 0,media:void 0})}),{name:"upload-btn",mixins:[vs],props:{id:{type:String,default:function(){return pe.default("file_")}},fileName:{type:String,default:""},fileKey:{type:String,default:""},validate:{type:Object,default:function(){return{ext:[]}}},label:{type:String,default:"Choose a file"},sm:{type:Boolean,default:!1}},methods:{validateAndUpload:async function(e){(await this.$refs.validator.validate(e)).valid&&this.upload(e)}},watch:{uploading:function(e){this.$emit("update:uploading",e)}}},"data-v-1f089141",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));function bs(e){try{return e&&"storage:"===new URL(e).protocol}catch(e){return!1}}var gs=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="AssetInput.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar-items",[e.url&&!e.isEditing?n("v-btn",{attrs:{href:e.publicUrl||e.url,target:"_blank",color:"info",text:""}},[n("v-icon",[e._v("mdi-open-in-new")])],1):e._e(),e._v(" "),e.allowFileUpload?n("upload-btn",{directives:[{name:"show",rawName:"v-show",value:!e.file&&e.isEditing,expression:"!file && isEditing"}],staticClass:"upload-btn",attrs:{uploading:e.uploading,validate:{ext:e.extensions},"confirm-deletion":!1,label:e.uploadLabel},on:{upload:function(t){return(e.file=t)&&(e.urlInput=null)},"update:uploading":function(t){e.uploading=t}}}):e._e(),e._v(" "),e.file?[e.isEditing?n("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){t.stopPropagation(),e.file=null}}},[n("v-icon",[e._v("mdi-delete")])],1):e._e(),e._v(" "),n("v-text-field",{attrs:{value:e.fileName,readonly:"","hide-details":"",filled:""}})]:e._e(),e._v(" "),e.uploading||!e.urlInput&&e.hasAsset?e._e():n("validation-provider",{ref:"provider",attrs:{rules:{url:{protocols:["http","https"],require_protocol:!0,require_valid_protocol:!0}},name:"URL"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[n("v-text-field",{attrs:{"error-messages":i,disabled:!e.isEditing,placeholder:e.allowFileUpload?"or paste a URL...":"Paste a URL...",filled:"",clearable:""},model:{value:e.urlInput,callback:function(t){e.urlInput=t},expression:"urlInput"}})]}}],null,!1,17370557)}),e._v(" "),e.isEditing?[e.hasChanges?n("v-btn",{staticClass:"action",attrs:{disabled:e.uploading,text:""},on:{click:function(t){return t.stopPropagation(),e.save(t)}}},[e._v("\n      Save\n    ")]):e._e(),e._v(" "),e.hasChanges||e.url?n("v-btn",{staticClass:"action",attrs:{disabled:e.uploading,text:""},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v("\n      Cancel\n    ")]):e._e()]:n("v-btn",{staticClass:"action",attrs:{text:""},on:{click:function(t){t.stopPropagation(),e.isEditing=!0}}},[e._v("\n    Edit\n  ")])],2)},staticRenderFns:[]},(function(e){e&&e("data-v-00f47ac8_0",{source:".v-text-field[data-v-00f47ac8]{min-width:21.875rem;margin:.5rem .75rem 0 1.75rem}.action[data-v-00f47ac8]  .v-btn__content{min-width:4rem!important}.upload-btn[data-v-00f47ac8]  .v-btn{height:100%}.upload-btn[data-v-00f47ac8]  .v-btn .v-btn__content{padding:1.5rem 0}",map:void 0,media:void 0})}),{name:"tailor-asset-input",props:{url:{type:String,default:null},publicUrl:{type:String,default:null},extensions:{type:Array,required:!0},allowFileUpload:{type:Boolean,default:!0},uploadLabel:{type:String,default:"Select file"}},data:function(){var e=!bs(this.url);return{isEditing:!this.url,uploading:!1,file:e?null:M.default(this,["url","publicUrl"]),urlInput:e?this.url:null}},computed:{hasAsset:function(e){return e.file||e.urlInput},isLinked:function(e){return!!e.urlInput},hasChanges:function(e){return e.url!==(e.isLinked?e.urlInput:Z.default(e,"file.url",null))},fileName:function(){return this.file?fe.default(this.file.url.split("___")):null}},methods:{save:async function(){if(this.$refs.provider&&!(await this.$refs.provider.validate()).valid)return;this.isEditing=!1;var e=this.file||{url:this.urlInput,publicUrl:this.urlInput};this.$emit("input",e)},cancel:function(){var e=!bs(this.url);this.urlInput=e?this.url:null,this.file=e?null:M.default(this,["url","publicUrl"]),this.isEditing=!this.url}},components:{UploadBtn:ys}},"data-v-00f47ac8",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var _s=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="DatePicker.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"close-on-content-click":!1,"min-width":"290px",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-text-field",e._g({ref:"textField",attrs:{value:e._f("formatDate")(e.value,"MMM D, YYYY"),label:e.label,placeholder:e.placeholder,clearable:e.clearable,outlined:"",readonly:""},on:{"click:clear":e.clear,click:function(t){e.showDatePicker=!0}}},i))]}}]),model:{value:e.showDatePicker,callback:function(t){e.showDatePicker=t},expression:"showDatePicker"}},[e._v(" "),n("v-date-picker",{attrs:{value:e._f("formatDate")(e.value,"YYYY-MM-DD"),color:"primary darken-2","no-title":""},on:{input:function(t){return e.$emit("input",t)},change:function(t){e.showDatePicker=!1}}})],1)},staticRenderFns:[]},0,{name:"date-picker",props:{value:{type:[String,Date],default:null},label:{type:String,default:null},clearable:{type:Boolean,default:!0},placeholder:{type:String,default:"Click to set..."}},data:function(){return{showDatePicker:!1}},methods:{clear:function(){this.$emit("input",null),this.$refs.textField.blur()}}},void 0,!1);var xs=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="ElementList.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-group"},[n("draggable",e._b({staticClass:"row",attrs:{list:e.elements,disabled:e.isDisabled},on:{start:function(t){e.dragElementIndex=t.oldIndex},end:function(t){e.dragElementIndex=-1},update:e.reorder}},"draggable",e.options,!1),e._l(e.elements,(function(t,i){return n("div",{key:e.getElementId(t),staticClass:"pr-5",class:"col-xs-"+e.get(t,"data.width",12),on:{dragstart:function(t){return e.onDragStart(i)},dragend:function(n){return e.onDragEnd(t)}}},[e._t("list-item",null,{element:t,isDragged:e.dragElementIndex===i,position:i})],2)})),0),e._v(" "),e.enableAdd&&!e.isDisabled?[e._t("list-add",[n("add-element",{staticClass:"mt-1",attrs:{items:e.elements,include:e.supportedTypes,activity:e.activity,label:e.addElementOptions.label,large:e.addElementOptions.large,position:e.elements.length,layout:e.layout},on:{add:function(t){return e.$emit("add",t)}}})],{include:e.supportedTypes,activity:e.activity,position:e.elements.length,layout:e.layout})]:e._e()],2)},staticRenderFns:[]},(function(e){e&&e("data-v-f18f3e56_0",{source:".list-group[data-v-f18f3e56]{padding:.625rem 1.5rem}[data-v-f18f3e56] .sortable-ghost .drag-handle{display:none}[data-v-f18f3e56] .sortable-ghost .content-element{max-height:9.375rem;background:#f4f5f5}[data-v-f18f3e56] .sortable-ghost .content-element>*{visibility:hidden}[data-v-f18f3e56] .sortable-drag .content-element{max-height:auto;background:#fff}",map:void 0,media:void 0})}),{name:"tailor-element-list",props:{elements:{type:Array,default:function(){return[]}},dragOptions:{type:Object,default:function(){return{}}},supportedTypes:{type:Array,default:null},activity:{type:Object,default:null},layout:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},enableAdd:{type:Boolean,default:!0},addElementOptions:{type:Object,default:function(){return{}}}},data:function(){return{dragElementIndex:null}},computed:Object.assign({},p.mapChannels({editorChannel:"editor"}),{options:function(e){return Object.assign({},e.dragOptions,{handle:".drag-handle"})}}),methods:{get:Z.default,getElementId:n.getElementId,onDragStart:function(e){this.dragElementIndex=e,this.editorChannel.emit("element:focus")},onDragEnd:function(e){this.dragElementIndex=-1,this.editorChannel.emit("element:focus",e)},reorder:function(e){var t=e.newIndex,n=this.elements;this.$emit("update",{newPosition:t,items:n})}},components:{AddElement:et,Draggable:se.default}},"data-v-f18f3e56",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var ws=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="ElementPlaceholder.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{staticClass:"transparent grey--text text--darken-4",class:e.dense?"pt-3":"pa-12"},[n("v-avatar",{attrs:{size:e.dense?40:60,color:e.isDisabled?"grey darken-3":"primary darken-4"}},[n("v-icon",{attrs:{size:e.iconSize,color:e.isFocused?e.activeColor:"#fff"}},[e._v("\n      "+e._s(e.icon)+"\n    ")])],1),e._v(" "),n("div",{staticClass:"grey--text",class:[e.isDisabled?"text--darken-3":"text--darken-4",e.dense?"my-2 subtitle-2":"my-4 headline"]},[e._v("\n    "+e._s(e.name)+"\n  ")]),e._v(" "),e.dense||e.isDisabled?e._e():n("div",{staticClass:"subtitle-1"},[e.isFocused?[n("span",[e._v(e._s(e.activePlaceholder))]),e._v(" "),e.activeIcon?n("v-icon",{attrs:{size:"20",color:"primary darken-4"}},[e._v("\n        "+e._s(e.activeIcon)+"\n      ")]):e._e()]:[e._v(e._s(e.placeholder))]],2)],1)},staticRenderFns:[]},0,{name:"tailor-element-placeholder",props:{name:{type:String,required:!0},icon:{type:String,required:!0},placeholder:{type:String,default:"Select to edit"},activePlaceholder:{type:String,default:"Use toolbar to edit"},activeIcon:{type:String,default:null},activeColor:{type:String,default:"#fff"},isDisabled:{type:Boolean,default:!1},isFocused:{type:Boolean,default:!1},dense:{type:Boolean,default:!1}},computed:{iconSize:function(){return this.dense?this.isFocused?24:20:this.isFocused?38:30}}},void 0,!1);var Es=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="EmbeddedContainer.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("element-list",{attrs:{"add-element-options":e.addElementOptions,elements:e.embeds,"supported-types":e.types,"enable-add":!e.isDisabled&&e.enableAdd},on:{add:e.addItems,update:e.reorderItem},scopedSlots:e._u([{key:"list-item",fn:function(t){var i=t.element,r=t.isDragged;return[n("contained-content",e._b({staticClass:"my-2",attrs:{element:i,"is-dragged":r,"is-disabled":e.isDisabled},on:{save:function(t){return e.save(i,"data",t)},"save:meta":function(t){return e.save(i,"meta",t)},delete:function(t){return e.requestDeleteConfirmation(i)}}},"contained-content",e.$attrs,!1))]}}])})},staticRenderFns:[]},0,{name:"tailor-embedded-container",inheritAttrs:!1,props:{container:{type:Object,required:!0},types:{type:Array,default:function(){return["JODIT_HTML","IMAGE","HTML","VIDEO"]}},isDisabled:{type:Boolean,default:!1},addElementOptions:{type:Object,default:function(){return{}}},enableAdd:{type:Boolean,default:!0}},computed:{embeds:function(){var e=this.container.embeds;return e?me.default(e).sort((function(e,t){return e.position-t.position})):[]}},methods:Object.assign({},p.mapRequests("app",["showConfirmationModal"]),{addItems:function(e){e=Array.isArray(e)?e:[e];var t=te.default(this.container);t.embeds=Object.assign({},t.embeds,he.default(e,"id")),this.$emit("save",t)},reorderItem:function(e){var t=e.newPosition,i=e.items,r={items:i,newPosition:t},o=te.default(this.container);o.embeds[i[t].id].position=n.calculatePosition(r),this.$emit("save",o)},save:function(e,t,n){var i=te.default(this.container);i.embeds[e.id]=Object.assign({},e,ge({},t,n)),this.$emit("save",i)},requestDeleteConfirmation:function(e){var t=this;this.showConfirmationModal({title:"Delete element?",message:"Are you sure you want to delete element?",action:function(){return t.$emit("delete",e)}})}}),components:{ContainedContent:ts,ElementList:xs}},void 0,!1);var Cs=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="ActiveUsers.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-center"},e._l(e.users,(function(t){var i=t.id,r=t.label,o=t.imgUrl;return n("v-avatar",{key:i,staticClass:"avatar",attrs:{size:e.size,color:"pink accent-2"}},[n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[o?n("img",e._g({attrs:{src:o,alt:r,"aria-describedby":"activeUser-"+i,tabindex:"0"}},a)):e._e()]}}],null,!0)},[e._v(" "),n("span",{attrs:{id:"activeUser-"+i}},[e._v(e._s(r))])])],1)})),1)},staticRenderFns:[]},(function(e){e&&e("data-v-33d463d4_0",{source:".avatar[data-v-33d463d4]{transition:all .2s}.avatar img[data-v-33d463d4]{padding:.125rem}.avatar[data-v-33d463d4]:focus-within,.avatar[data-v-33d463d4]:hover{transform:scale(1.1);z-index:1}.avatar:focus-within img[data-v-33d463d4]:focus,.avatar:hover img[data-v-33d463d4]:focus{outline:0}",map:void 0,media:void 0})}),{name:"tailor-active-users",props:{users:{type:Array,default:function(){return[]}},size:{type:Number,default:36}},filters:{capitalize:I.default}},"data-v-33d463d4",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Os=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="AddNewElement.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-bottom-sheet",e._g(e._b({attrs:{"max-width":"1240",inset:""}},"v-bottom-sheet",e.$attrs,!1),e.$listeners),[n("div",{staticClass:"element-container grey lighten-5"},[n("div",{staticClass:"d-flex align-center py-4 px-10"},[e._t("header")],2),e._v(" "),e._l(e.library,(function(t){return n("div",{key:t.name},[n("div",{staticClass:"group-heading grey--text text--darken-4"},[e._v(e._s(t.name))]),e._v(" "),n("div",{staticClass:"group-elements"},e._l(t.elements,(function(t){return n("v-hover",{key:t.position,scopedSlots:e._u([{key:"default",fn:function(i){var r=i.hover;return[n("v-btn",{staticClass:"add-element",attrs:{disabled:!e.isAllowed(t.type),color:r?"secondary accent-2":"blue-grey darken-4",text:""},on:{click:function(n){return n.stopPropagation(),e.$emit("add",[t])}}},[t.ui.icon?n("v-icon",{attrs:{size:"26",color:"primary darken-3"}},[e._v("\n              "+e._s(t.ui.icon)+"\n            ")]):e._e(),e._v(" "),n("span",{staticClass:"button-text body-2"},[e._v(e._s(t.name))])],1)]}}],null,!0)})})),1)])}))],2)])},staticRenderFns:[]},(function(e){e&&e("data-v-5e4d908e_0",{source:".element-container[data-v-5e4d908e]{min-height:20rem;padding:0 0 1.875rem;border-top-left-radius:.5rem;border-top-right-radius:.5rem;overflow:hidden}.group-heading[data-v-5e4d908e]{margin:0 2.5rem .375rem;padding-top:.5rem;font-size:.875rem;font-weight:500;line-height:1rem;text-align:left}.group-elements[data-v-5e4d908e]{display:flex;flex-wrap:wrap;width:100%;padding:0 1.875rem}.add-element[data-v-5e4d908e]{width:8.125rem;min-width:8.125rem;height:auto!important;min-height:4.375rem;padding:0!important;white-space:normal}.add-element[data-v-5e4d908e]  .v-btn__content{flex:1 1 100%;flex-direction:column;padding:.375rem;text-transform:none}.add-element .v-icon[data-v-5e4d908e]{padding:.125rem 0;font-size:1.875rem}.add-element .button-text[data-v-5e4d908e]{margin:.625rem 0}",map:void 0,media:void 0})}),{name:"add-new-element",props:{library:{type:Array,required:!0},allowedTypes:{type:Array,required:!0}},methods:{isAllowed:function(e){return!this.allowedTypes.length||this.allowedTypes.includes(e)}}},"data-v-5e4d908e",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));function As(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ks(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(r)throw o}}return n}(e,t)||js(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ss(e){return function(e){if(Array.isArray(e))return Ts(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||js(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function js(e,t){if(e){if("string"==typeof e)return Ts(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ts(e,t):void 0}}function Ts(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var Ns=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="EditorLink.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"editor-link"},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("router-link",{attrs:{to:e.editorRoute},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.navigate,o=t.isExactActive;return[n("v-btn",e._g(e._b({attrs:{color:o?"teal accent-4":"primary",text:"","x-small":""},on:{click:r}},"v-btn",e.$attrs,!1),i),[e._v("\n          "+e._s(e.label)+"\n          "),e._t("icon",[n("v-icon",{staticClass:"ml-1",attrs:{"x-small":""}},[e._v("mdi-arrow-top-right-thick")])])],2)]}}],null,!0)})]}}])},[e._v(" "),e._t("tooltip",[n("span",[e._v("View element")])])],2)],1)},staticRenderFns:[]},0,{name:"tailor-editor-link",props:{activityId:{type:Number,required:!0},elementUid:{type:String,default:null},label:{type:String,required:!0}},computed:{editorRoute:function(e){var t=e.activityId,n=e.elementUid;return Object.assign({name:"editor",params:{activityId:t}},n&&{query:{elementId:n}})}}},void 0,!1);var qs=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="Header.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("v-avatar",{staticClass:"comment-avatar",attrs:{size:"34"}},[n("img",{attrs:{src:e.author.imgUrl}})]),e._v(" "),n("div",{staticClass:"info-container"},[n("div",{staticClass:"d-flex align-center"},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("span",e._g({staticClass:"author text-truncate"},i),[e._v(e._s(e.author.label))])]}}])},[e._v("\n        "+e._s(e.author.label)+"\n      ")]),e._v(" "),e.showEditedLabel?n("span",{staticClass:"edited ml-1"},[e._v("(edited)")]):e._e()],1),e._v(" "),n("div",{staticClass:"d-flex align-center"},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("span",e._g({},i),[n("timeago",{staticClass:"time",attrs:{datetime:e.comment.createdAt,"auto-update":60}})],1)]}}])},[e._v(" "),n("span",[e._v(e._s(e._f("formatDate")(e.comment.createdAt,"DD. MMM h:mm A")))])]),e._v(" "),e.isActivityThread&&e.elementLabel?[n("v-divider",{attrs:{vertical:""}}),e._v(" "),n("editor-link",{attrs:{"activity-id":e.comment.activityId,"element-uid":e.elementUid,label:e.elementLabel}})]:e._e()],2)]),e._v(" "),e.showOptions?n("div",{staticClass:"actions"},e._l(e.options,(function(t,i){var r=t.action,o=t.icon,a=t.color;return n("v-btn",{key:i,staticClass:"ml-1",attrs:{"x-small":"",icon:""},on:{click:function(t){return e.$emit(r)}}},[n("v-icon",{attrs:{color:a,size:"14"}},[e._v(" mdi-"+e._s(o))])],1)})),1):e._e()],1)},staticRenderFns:[]},(function(e){e&&e("data-v-a1e0c4e8_0",{source:".header[data-v-a1e0c4e8]{display:flex;align-items:flex-start}.header .comment-avatar[data-v-a1e0c4e8]{margin:.375rem .375rem 0 0}.header .info-container[data-v-a1e0c4e8]{display:flex;flex-direction:column;flex:0 100%;max-width:calc(100% - 8rem);margin-left:.125rem}.header .info-container .author[data-v-a1e0c4e8]{display:inline-block;max-width:75%;color:#000;font-size:1rem}.header .info-container .edited[data-v-a1e0c4e8],.header .info-container .time[data-v-a1e0c4e8]{color:#888;font-size:.75rem}.header .info-container hr.v-divider--vertical[data-v-a1e0c4e8]{margin:.25rem .125rem .125rem .625rem}.header .info-container[data-v-a1e0c4e8]  .editor-link{display:inline-flex;align-self:flex-end}.header .actions[data-v-a1e0c4e8]{margin-left:auto}",map:void 0,media:void 0})}),{name:"comment-header",props:{comment:{type:Object,required:!0},isActivityThread:{type:Boolean,default:!1},isResolved:{type:Boolean,default:!1},elementLabel:{type:String,default:null},user:{type:Object,required:!0}},computed:{elementUid:function(e){return e.comment.contentElement.uid},author:function(e){return e.comment.author},isAuthor:function(e){return e.author.id===e.user.id},isDeleted:function(e){return!!e.comment.deletedAt},showEditedLabel:function(e){return!!e.comment.editedAt},showOptions:function(e){return e.isAuthor&&!e.isDeleted&&!e.isResolved},options:function(){var e={resolve:{action:"resolve",icon:"check-box-outline",color:"teal accent-4"},edit:{action:"toggleEdit",icon:"pencil-outline",color:"grey"},remove:{action:"remove",icon:"trash-can-outline",color:"grey"}};return this.isActivityThread&&delete e.resolve,e}},components:{EditorLink:Ns}},"data-v-a1e0c4e8",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Rs=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="Preview.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content",class:{resolved:e.isResolved}},[e.isResolved?n("div",{staticClass:"resolvement-options"},[n("span",{staticClass:"font-italic mr-1"},[e._v("Marked as resolved.")]),e._v(" "),n("v-tooltip",{attrs:{"open-delay":"800",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({attrs:{color:"secondary",text:"","x-small":""},on:{click:e.$listeners.unresolve}},i),[e._v("\n          Undo\n        ")])]}}],null,!1,3181083862)},[e._v(" "),n("span",[e._v("Unresolve comment")])])],1):e._e(),e._v(" "),n("pre",[n("span",[e._v(e._s(e.content))]),n("br")])])},staticRenderFns:[]},(function(e){e&&e("data-v-3d625308_0",{source:".content[data-v-3d625308]{margin-top:.375rem}.content pre[data-v-3d625308]{height:100%;margin:0;padding:0 .25rem .5rem 0;font:inherit;white-space:pre-wrap;word-break:break-all;word-wrap:break-word;overflow-wrap:break-word;background:inherit;border:none;overflow:hidden}.content.resolved[data-v-3d625308]{opacity:.7}.content.resolved .resolvement-options[data-v-3d625308]{display:flex;align-items:center;margin-bottom:.25rem;font-size:.75rem}",map:void 0,media:void 0})}),{name:"comment-preview",props:{content:{type:String,default:""},isResolved:{type:Boolean,default:!1}}},"data-v-3d625308",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Fs=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="index.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment"},[n("comment-header",e._b({on:{toggleEdit:e.toggleEdit,remove:e.remove,resolve:function(t){return e.$emit("resolve",e.comment)}}},"comment-header",{comment:e.comment,isActivityThread:e.isActivityThread,isResolved:e.isResolved,elementLabel:e.elementLabel,user:e.user},!1)),e._v(" "),n("div",{staticClass:"comment-body"},[e.isEditing?[n("v-textarea",{staticClass:"comment-editor",attrs:{rows:"3",autofocus:"",outlined:"","auto-grow":"",clearable:"",counter:""},model:{value:e.content,callback:function(t){e.content="string"==typeof t?t.trim():t},expression:"content"}}),e._v(" "),n("span",{staticClass:"d-flex justify-end"},[n("v-btn",{attrs:{text:"",small:""},on:{click:e.reset}},[e._v("Cancel")]),e._v(" "),n("v-btn",{attrs:{color:"green",text:"",small:""},on:{click:e.save}},[n("v-icon",{staticClass:"pr-1"},[e._v("mdi-check")]),e._v(" Save\n        ")],1)],1)]:n("comment-preview",e._b({on:{unresolve:function(t){return e.$emit("unresolve",e.comment)}}},"comment-preview",{content:e.content,isResolved:e.isResolved},!1))],2)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-3d04e7dc_0",{source:".comment[data-v-3d04e7dc]{display:flex;flex-direction:column;font-family:Roboto,Arial,sans-serif}.comment-body[data-v-3d04e7dc]{flex:1;padding:0 .25rem 0 2.625rem}.comment-editor.v-textarea[data-v-3d04e7dc]{margin:.75rem 0 0 0}.comment-editor.v-textarea[data-v-3d04e7dc]  .v-input__slot{width:auto}",map:void 0,media:void 0})}),{name:"thread-comment",props:{comment:{type:Object,required:!0},isActivityThread:{type:Boolean,default:!1},elementLabel:{type:String,default:null},user:{type:Object,required:!0}},data:function(e){return{content:e.comment.content,isEditing:!1}},computed:{isResolved:function(e){return!!e.comment.resolvedAt}},methods:{toggleEdit:function(){this.isEditing=!this.isEditing},save:function(){var e=this.comment,t=this.content;if(!t)return this.remove();this.toggleEdit(),this.$emit("update",e,t)},remove:function(){this.$emit("remove",this.comment)},reset:function(){this.content=this.comment.content,this.isEditing=!1}},watch:{comment:{deep:!0,handler:"reset"}},components:{CommentHeader:qs,CommentPreview:Rs}},"data-v-3d04e7dc",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Ls=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="List.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"thread-list"},e._l(e.comments,(function(t){return n("li",{key:t.uid,staticClass:"thread-list-item"},[n("v-divider"),e._v(" "),n("thread-comment",e._g(e._b({staticClass:"mb-3",attrs:{"element-label":e.getElementLabel(t)}},"thread-comment",{comment:t,isActivityThread:e.isActivityThread,user:e.user},!1),e.$listeners))],1)})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-b5620cec_0",{source:".thread-list[data-v-b5620cec]{margin:0;padding:0;list-style:none}.thread-list .thread-list-item .v-divider[data-v-b5620cec]{margin:0 .25rem 1rem .25rem}.thread-list .thread-list-item:first-child .v-divider[data-v-b5620cec]{display:none}",map:void 0,media:void 0})}),{name:"thread-list",inject:["$teRegistry"],props:{comments:{type:Array,default:function(){return[]}},isActivityThread:{type:Boolean,default:!1},elementLabel:{type:String,default:null},user:{type:Object,required:!0}},methods:{getElementLabel:function(e){var t,n=e.contentElement;if(n)return null===(t=K.default(this.$teRegistry._registry,{type:n.type}))||void 0===t?void 0:t.name}},components:{ThreadComment:Fs}},"data-v-b5620cec",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Ps=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="UnseenDivider.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"unseen-divider"},[n("v-divider"),e._v(" "),n("v-chip",{attrs:{"close-icon":"mdi-close",color:"teal accent-4",outlined:"",small:"",close:""},on:{click:function(t){return e.$emit("seen")},"click:close":function(t){return e.$emit("seen")}}},[n("v-icon",{staticClass:"mr-1",attrs:{size:"14"}},[e._v("mdi-arrow-down")]),e._v(" "),n("span",{staticClass:"mr-2"},[e._v(e._s(e.unseenCommentsLabel))])],1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-221b9d72_0",{source:".unseen-divider[data-v-221b9d72]{text-align:center}.unseen-divider .v-divider[data-v-221b9d72]{margin:1rem 0 .25rem}.unseen-divider[data-v-221b9d72]  .v-chip.v-chip--outlined.v-chip{margin:-1.5rem 0 .5rem 0;border-radius:1rem!important;background-color:#fafafa!important}.unseen-divider[data-v-221b9d72]  .v-chip.v-chip--outlined.v-chip .v-chip__content .v-chip__close{margin-top:.125rem;font-size:.75rem!important}",map:void 0,media:void 0})}),{name:"unseen-divider",props:{count:{type:Number,required:!0}},computed:{unseenCommentsLabel:function(e){var t=e.count;return"".concat(t," new ").concat(W.default("message",t))}}},"data-v-221b9d72",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Is=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="index.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"intersect",rawName:"v-intersect",value:e.onIntersect,expression:"onIntersect"}],staticClass:"discussion-thread",class:{"scroll-container":!e.isActivityThread}},[n("thread-list",e._b({on:{update:e.onUpdate,remove:function(t){return e.$emit("remove",t)},resolve:function(t){return e.$emit("resolve",t)},unresolve:function(t){return e.$emit("unresolve",t)}}},"thread-list",{isActivityThread:e.isActivityThread,user:e.user,comments:e.visibleComments.seen},!1)),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.unseenCount?n("unseen-divider",{ref:"unseenDivider",attrs:{count:e.unseenCount},on:{seen:e.markSeen}}):e._e()],1),e._v(" "),n("thread-list",e._b({on:{update:e.onUpdate,remove:function(t){return e.$emit("remove",t)},resolve:function(t){return e.$emit("resolve",t)},unresolve:function(t){return e.$emit("unresolve",t)}}},"thread-list",{isActivityThread:e.isActivityThread,user:e.user,comments:e.visibleComments.unseen},!1))],1)},staticRenderFns:[]},(function(e){e&&e("data-v-c6af8436_0",{source:".discussion-thread[data-v-c6af8436]{width:100%}.discussion-thread.scroll-container[data-v-c6af8436]{max-height:31.25rem;overflow-y:scroll;overflow-x:hidden;padding-right:1.5rem;box-sizing:content-box}.discussion-thread .fade-enter-active[data-v-c6af8436],.discussion-thread .fade-leave-active[data-v-c6af8436]{transition:opacity .5s}.discussion-thread .fade-enter[data-v-c6af8436],.discussion-thread .fade-leave-to[data-v-c6af8436]{opacity:0}",map:void 0,media:void 0})}),{name:"discussion-thread",props:{items:{type:Array,required:!0},showAll:{type:Boolean,default:!1},minDisplayed:{type:Number,default:5},isActivityThread:{type:Boolean,default:!1},unseenCount:{type:Number,required:!0},user:{type:Object,required:!0}},data:function(){return{isVisible:!1}},computed:{visibleComments:function(){var e=this.items,t=this.minDisplayed,n=this.showAll?e:V.default(e,t),i=ks(H.default(n,"unseen"),2),r=i[0];return{seen:i[1],unseen:r}}},methods:{onUpdate:function(e,t){this.$emit("update",Object.assign({},e,{content:t}))},onIntersect:function(e,t,n){this.isVisible=n},revealUnseen:function(e){var t=this.$refs,n=this.minDisplayed;(e||this.unseenCount)<n||(this.$emit("showAll",!0),this.$nextTick((function(){var e=t.unseenDivider.$el;e&&e.scrollIntoView({behavior:"smooth"})})))},markSeen:function(){this.$emit("seen"),this.$emit("showAll",!1)}},watch:{isVisible:function(e){e&&this.unseenCount&&this.revealUnseen()},unseenCount:{immediate:!0,handler:"revealUnseen"}},components:{UnseenDivider:Ps,ThreadList:Ls}},"data-v-c6af8436",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Bs=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="ResolveButton.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"resolve-btn-container"},[n("v-tooltip",{attrs:{"open-delay":"800",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({staticClass:"px-1",attrs:{color:"teal accent-4",small:"",text:""}},Object.assign({},e.$listeners,i)),[n("v-icon",{staticClass:"mr-2",attrs:{size:"24",color:"teal accent-4"}},[e._v("\n          mdi-check-box-outline\n        ")]),e._v("\n        Resolve All\n      ")],1)]}}])},[e._v(" "),n("span",[e._v("Mark all as resolved and hide discussion")])])],1)},staticRenderFns:[]},0,{name:"resolve-comments-btn"},void 0,!1);var Ds=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="index.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"discussion",staticClass:"embedded-discussion"},[e.showResolveButton?n("resolve-button",{on:{click:e.resolveAll}}):e._e(),e._v(" "),n("div",{class:{"pb-7":!e.showHeading&&e.hasHiddenComments}},[e.hasHiddenComments?n("v-btn",{staticClass:"float-right mt-1",attrs:{text:"","x-small":""},on:{click:function(t){e.showAll=!e.showAll}}},[e._v("\n      Show "+e._s(e.showAll?"less":"more")+"\n    ")]):e._e()],1),e._v(" "),e.showHeading?n("div",{staticClass:"header d-flex grey--text text--darken-3"},[n("v-icon",{staticClass:"mr-2",attrs:{color:"grey darken-3"}},[e._v("\n      mdi-forum-outline\n    ")]),e._v("\n    Comments\n  ")],1):e._e(),e._v(" "),!e.commentsCount&&e.showNotifications?n("v-alert",{staticClass:"alert",attrs:{color:"primary lighten-5",icon:"mdi-keyboard-outline",prominent:""}},[n("span",{staticClass:"px-1 subtitle-2"},[e._v("\n      Be the First to Comment!\n    ")])]):e._e(),e._v(" "),e.thread.length?n("discussion-thread",{staticClass:"mt-2",attrs:{items:e.thread,"show-all":e.showAll,"min-displayed":e.commentsShownLimit,"is-activity-thread":e.isActivityThread,"unseen-count":e.unseenComments.length,user:e.user},on:{update:function(t){return e.$emit("update",t)},resolve:function(t){return e.$emit("resolve",t)},unresolve:function(t){return e.$emit("unresolve",t)},seen:function(t){return e.$emit("seen")},remove:e.remove,showAll:function(t){e.showAll=t}}}):e._e(),e._v(" "),n("div",{ref:"inputContainer",staticClass:"text-right"},[n("v-textarea",{ref:"commentInput",staticClass:"comment-input",attrs:{placeholder:e.commentsCount?"Add a comment...":"Start the discussion...",rows:"3",outlined:"","auto-grow":"",clearable:"",counter:""},on:{focus:function(t){return e.$emit("seen")}},model:{value:e.comment.content,callback:function(t){e.$set(e.comment,"content","string"==typeof t?t.trim():t)},expression:"comment.content"}}),e._v(" "),n("v-btn",{attrs:{disabled:e.isTextEditorEmpty,icon:""},on:{click:e.post}},[n("v-icon",[e._v("mdi-send")])],1)],1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-5744b719_0",{source:".embedded-discussion[data-v-5744b719]{font-family:Roboto,Arial,sans-serif}.embedded-discussion .resolve-btn-container[data-v-5744b719]{display:flex;justify-content:flex-end;margin:.5rem 0 0 0}.embedded-discussion .header[data-v-5744b719]{margin:.875rem 0 1.625rem 0;font-size:1.125rem;font-weight:400}.embedded-discussion .comment-input[data-v-5744b719]{margin:0 .25rem 0 .25rem}.embedded-discussion .alert[data-v-5744b719]  .v-icon{color:var(--v-primary-darken2)!important}",map:void 0,media:void 0})}),{name:"tailor-embedded-discussion",inheritAttrs:!0,props:{comments:{type:Array,default:function(){return[]}},unseenComments:{type:Array,default:function(){return[]}},commentsShownLimit:{type:Number,default:5},scrollTarget:{type:String,default:"discussion"},showHeading:{type:Boolean,default:!1},showNotifications:{type:Boolean,default:!1},isActivityThread:{type:Boolean,default:!1},hasUnresolvedComments:{type:Boolean,default:!1},isVisible:{type:Boolean,default:!1},user:{type:Object,required:!0}},data:function(){return{showAll:!1,comment:{content:""}}},computed:{thread:function(){var e=this.comments,t=this.unseenComments,n=e.map((function(e){var n=t.find((function(t){return t.id===e.id}));return Object.assign({},e,{unseen:!!n})}));return J.default(n,["unseen","createdAt"],"asc")},commentsCount:function(e){return e.thread.length},hasHiddenComments:function(e){return e.commentsShownLimit<e.commentsCount},isTextEditorEmpty:function(e){var t;return!(null!==(t=e.comment.content)&&void 0!==t&&t.trim())},showResolveButton:function(e){return e.hasUnresolvedComments&&!e.isActivityThread}},methods:Object.assign({},p.mapRequests("app",["showConfirmationModal"]),{post:function(){var e=this,t=this.scrollTarget,n=this.comment,i=this.user;if(n.content){var r={content:n.content,author:i,createdAt:Date.now(),updatedAt:Date.now()};this.comment={content:""},this.$emit("save",r);var o={block:"center",behavior:"smooth"};this.$nextTick((function(){return e.$refs[t].scrollIntoView(o)}))}},remove:function(e){var t=this;this.showConfirmationModal(Object.assign({title:"Remove comment",message:"Are you sure you want to remove this comment?",action:function(){return t.$emit("remove",e)}},this.onConfirmationActive()))},resolveAll:function(){var e=this;this.showConfirmationModal(Object.assign({title:"Resolve all comments",message:"Are you sure you want to resolve all comments?",action:function(){return e.$emit("resolve")}},this.onConfirmationActive()))},onConfirmationActive:function(){var e=this;return{onOpen:function(){return e.$emit("update:confirmationActive",!0)},onClose:function(){return e.$emit("update:confirmationActive",!1)}}}}),watch:{commentsCount:function(){this.$emit("change",this.thread)},isVisible:{immediate:!0,handler:function(e){var t=this;!e&&this.isActivityThread||setTimeout((function(){return t.$refs.commentInput.focus()}),500)}}},created:function(){this.comment={content:""}},components:{DiscussionThread:Is,ResolveButton:Bs}},"data-v-5744b719",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var $s=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="ElementDiscussion.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"close-on-content-click":!1,"close-on-click":!e.isConfirmationActive,"min-width":"300",transition:"slide-y-transition",left:"","offset-y":"",attach:""},nativeOn:{click:function(e){e.stopPropagation()}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-tooltip",{attrs:{"open-delay":"800",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({class:e.activator.class,attrs:{"x-small":"",icon:""}},Object.assign({},i,r)),[e.activator.text?n("div",{staticClass:"unseen"},[e._v(e._s(e.activator.text))]):n("v-icon",{attrs:{color:e.activator.color,size:"18"}},[e._v("\n            "+e._s(e.activator.icon)+"\n          ")])],1)]}}],null,!0)},[e._v(" "),n("span",[e._v(e._s(e.activator.tooltip))])])]}}]),model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}},[e._v(" "),n("discussion",e._b({staticClass:"pa-2",attrs:{"confirmation-active":e.isConfirmationActive},on:{save:e.save,update:e.save,remove:function(t){return e.editorBus.emit(e.events.REMOVE,t)},seen:e.setLastSeen,resolve:e.resolve,"update:confirmationActive":function(t){e.isConfirmationActive=t},"update:confirmation-active":function(t){e.isConfirmationActive=t}}},"discussion",{comments:e.comments,unseenComments:e.unseenComments,hasUnresolvedComments:e.hasUnresolvedComments,user:e.user,isVisible:e.isVisible},!1))],1)},staticRenderFns:[]},(function(e){e&&e("data-v-382b8ce9_0",{source:"[data-v-382b8ce9] .v-menu__content{background:#fff}[data-v-382b8ce9] .v-menu__content .embedded-discussion{text-align:left}[data-v-382b8ce9] .v-menu__content .comment .author{font-size:.875rem}.unseen[data-v-382b8ce9]{font-size:.75rem}",map:void 0,media:void 0})}),{name:"tailor-element-discussion",props:{id:{type:Number,default:null},uid:{type:String,required:!0},comments:{type:Array,required:!0},hasUnresolvedComments:{type:Boolean,default:!1},lastSeen:{type:Number,required:!0},user:{type:Object,required:!0}},data:function(){return{isVisible:!1,isConfirmationActive:!1}},computed:Object.assign({},p.mapChannels({editorBus:"editor"}),{events:function(){return n.Events.Discussion},lastCommentAt:function(e){return new Date(Z.default(e.comments[0],"createdAt",0)).getTime()},unseenComments:function(){var e=this.comments,t=this.user,n=this.lastSeen;return e.filter((function(e){var i=new Date(e.createdAt).getTime();return e.author.id!==t.id&&i>n}))},activator:function(){var e=this.comments,t=this.unseenComments,n=t.length?"unseen":e.length?"preview":"post";return function(e){return{unseen:{class:"teal accent-4 white--text",tooltip:"View new comments",text:e.length},preview:{icon:"mdi-comment-text-multiple-outline",color:"primary darken-4",tooltip:"View comments"},post:{icon:"mdi-message-plus-outline",color:"primary darken-4",tooltip:"Post a comment"}}}(t)[n]}}),methods:{save:function(e){var t=this.user,i=this.id,r=this.hasUnresolvedComments;return this.editorBus.emit(n.Events.Discussion.SAVE,Object.assign({},e,{author:t,contentElementId:i,hasUnresolvedComments:r}))},setLastSeen:function(e){var t=this.uid,n=this.lastCommentAt,i=this.events,r={elementUid:t,lastCommentAt:n,timeout:e};this.editorBus.emit(i.SET_LAST_SEEN,r)},resolve:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.resolvedAt,i=this.id,r=this.events;this.editorBus.emit(r.RESOLVE,{id:t,contentElementId:i,resolvedAt:n})}},watch:{isVisible:function(e){e&&this.$emit("open")}},components:{Discussion:Ds}},"data-v-382b8ce9",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Ms=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="PublishDiffChip.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this.$createElement,t=this._self._c||e;return this.changeType?t("v-chip",{staticClass:"readonly font-weight-medium text-capitalize",attrs:{"text-color":"new"===this.changeType?"success":"secondary",color:"primary lighten-5",small:"",round:""}},[this._v("\n  "+this._s(this.changeType)+"\n")]):this._e()},staticRenderFns:[]},0,{name:"tailor-publish-diff-chip",props:{changeType:{validator:function(e){return!e||Object.values(n.publishDiffChangeTypes).includes(e)},default:null}}},void 0,!1);var Us=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="ContentElement.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-element",class:[e.element.changeSincePublish,{selected:e.activeUsers.length,focused:e.isFocused,diff:e.$editorState.isPublishDiff,frame:e.frame}],on:{click:e.onSelect}},[n("div",{staticClass:"header d-flex",class:{visible:e.$editorState.isPublishDiff&&e.element.changeSincePublish}},[n("publish-diff-chip",{staticClass:"ml-auto ",attrs:{"change-type":e.element.changeSincePublish}})],1),e._v(" "),n("active-users",{staticClass:"active-users",attrs:{users:e.activeUsers,size:20}}),e._v(" "),n(e.componentName,e._b({tag:"component",attrs:{id:"element_"+e.id},on:{add:function(t){return e.$emit("add",t)},save:e.onSave,delete:function(t){return e.$emit("delete")},focus:e.onSelect}},"component",Object.assign({},e.$attrs,{element:e.element,isFocused:e.isFocused,isDragged:e.isDragged,isDisabled:e.isDisabled,dense:e.dense}),!1)),e._v(" "),e.isDisabled?e._e():n("div",{staticClass:"element-actions"},[e.showDiscussion?n("div",{class:{"is-visible":e.isHighlighted||e.hasComments}},[n("discussion",e._b({attrs:{user:e.currentUser},on:{open:e.focus}},"discussion",e.element,!1))],1):e._e(),e._v(" "),e.parent?e._e():n("div",{class:{"is-visible":e.isHighlighted}},[n("v-btn",{attrs:{color:"pink lighten-1",dark:"",icon:"","x-small":""},on:{click:function(t){return e.$emit("delete")}}},[n("v-icon",{attrs:{size:"20"}},[e._v("mdi-delete-outline")])],1)],1)]),e._v(" "),e.isSaving?n("v-progress-linear",{staticClass:"save-indicator",attrs:{height:"2",color:"teal accent-2",indeterminate:""}}):e._e()],1)},staticRenderFns:[]},(function(e){e&&e("data-v-74c5ccda_0",{source:".content-element[data-v-74c5ccda]{position:relative;border:1px solid transparent}.content-element[data-v-74c5ccda]::after{content:'';display:none;position:absolute;top:0;right:-.125rem;width:.125rem;height:100%}.content-element.focused[data-v-74c5ccda]{border:1px dashed #1de9b6}.content-element.focused[data-v-74c5ccda]::after{display:block;background:#1de9b6}.content-element.selected[data-v-74c5ccda]{border:1px dashed #ff4081}.content-element.selected[data-v-74c5ccda]::after{display:block;background:#ff4081}.frame[data-v-74c5ccda]{padding:10px 20px;border:1px solid #e1e1e1}.element-actions[data-v-74c5ccda]{display:flex;flex-direction:column;position:absolute;top:-.0625rem;right:-1.25rem;width:1.5rem;height:100%;padding-left:.75rem}.element-actions>*[data-v-74c5ccda]{min-height:1.75rem;opacity:0;transition:opacity .1s linear}.element-actions>.is-visible[data-v-74c5ccda]{opacity:1;transition:opacity .5s linear}.active-users[data-v-74c5ccda]{position:absolute;top:0;left:-1.625rem}.save-indicator[data-v-74c5ccda]{position:absolute;bottom:-.125rem;left:0}.header[data-v-74c5ccda]{width:100%;max-height:0}.header.visible[data-v-74c5ccda]{max-height:unset;padding:0 0 .5rem}.diff.new[data-v-74c5ccda]{border:none;box-shadow:0 0 0 2px var(--v-success-lighten2)!important}.diff.changed[data-v-74c5ccda],.diff.removed[data-v-74c5ccda]{border:none;box-shadow:0 0 0 2px var(--v-secondary-lighten4)!important}.diff .element-actions[data-v-74c5ccda]{display:none}",map:void 0,media:void 0})}),{name:"tailor-content-element",inject:{$getCurrentUser:{},$editorState:{default:{}}},inheritAttrs:!1,props:{element:{type:Object,required:!0},parent:{type:Object,default:null},isHovered:{type:Boolean,default:!1},isDragged:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},frame:{type:Boolean,default:!0},dense:{type:Boolean,default:!1},showDiscussion:{type:Boolean,default:!1}},data:function(){return{isFocused:!1,isSaving:!1,activeUsers:[]}},computed:Object.assign({},p.mapChannels({editorBus:"editor"}),{id:function(e){return n.getElementId(e.element)},componentName:function(e){return n.getComponentName(e.element.type)},isEmbed:function(e){return!!e.parent||!e.element.uid},isHighlighted:function(e){return e.isFocused||e.isHovered},hasComments:function(e){var t;return!(null===(t=e.element.comments)||void 0===t||!t.length)},elementBus:function(e){return e.$radio.channel("element:".concat(e.id))},currentUser:function(e){return e.$getCurrentUser()}}),methods:{onSelect:function(e){this.isDisabled||this.$editorState.isPublishDiff||e.component||(this.focus(),e.component={name:"content-element",data:this.element})},onSave:function(e){this.isEmbed||(this.isSaving=!0),this.$emit("save",e)},focus:function(){this.editorBus.emit("element:focus",this.element,this.parent)}},created:function(){var e=this;this.elementBus.on("delete",(function(){return e.$emit("delete")})),this.elementBus.on("save:meta",(function(t){return e.$emit("save:meta",t)})),this.elementBus.on("saved",(function(){return setTimeout((function(){return e.isSaving=!1}),1e3)})),this.editorBus.on("element:select",(function(t){var n=t.elementId,i=t.isSelected,r=void 0===i||i,o=t.user;if(e.id===n)return o&&o.id!==e.currentUser.id?void(r&&!e.activeUsers.find((function(e){return e.id===o.id}))?e.activeUsers.push(o):!r&&e.activeUsers.find((function(e){return e.id===o.id}))&&(e.activeUsers=e.activeUsers.filter((function(e){return e.id!==o.id})))):(e.isFocused=r,void(r&&e.focus()))})),this.editorBus.on("element:focus",(function(t){e.isFocused=!!t&&n.getElementId(t)===e.id}))},provide:function(){return{$elementBus:this.elementBus}},components:{ActiveUsers:Cs,Discussion:$s,PublishDiffChip:Ms}},"data-v-74c5ccda",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var zs=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="Element.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-preview-container float-none",class:e.elementWidth},[e.selectable?n("v-checkbox",{attrs:{"input-value":e.isSelected,disabled:e.disabled,color:"primary darken-4"},on:{click:e.toggleSelection}}):e._e(),e._v(" "),n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var i=t.hover;return[n("div",{staticClass:"element-wrapper flex-grow-1"},[n("content-element",e._b({staticClass:"content-element",class:{selected:e.isSelected},attrs:{element:e.element,"set-width":!1}},"content-element",e.$attrs,!1)),e._v(" "),n("v-tooltip",{attrs:{"open-delay":"400",top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-btn",e._g({staticClass:"open-element-button",class:{visible:i},attrs:{color:"blue-grey darken-4",fab:"",depressed:"","x-small":""},on:{click:function(t){return t.stopPropagation(),e.$emit("element:open",e.element.uid)}}},r),[n("v-icon",{attrs:{color:"secondary lighten-4",dense:""}},[e._v("mdi-open-in-new")])],1)]}}],null,!0)},[e._v(" "),n("span",[e._v("Open in editor")])])],1)]}}])})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-72d4e8ff_0",{source:".element-preview-container[data-v-72d4e8ff]{display:flex;position:relative;margin:.25rem 0}.element-preview-container .v-input[data-v-72d4e8ff]{margin:0}.content-element[data-v-72d4e8ff]{flex:1 0;margin:.4375rem 0 0 .25rem;box-shadow:none;border:1px solid #e1e1e1}.content-element.selected[data-v-72d4e8ff]{border-style:dashed;border-color:#444}.content-element.selected[data-v-72d4e8ff]::after{display:none}.element-preview-container[data-v-72d4e8ff]  .contained-content{margin:0}.element-preview-container[data-v-72d4e8ff]  .contained-content .message span:not(.heading){display:none}.element-preview-container[data-v-72d4e8ff]  .contained-content .ql-editor{word-break:break-all}.element-wrapper[data-v-72d4e8ff]{position:relative}.open-element-button[data-v-72d4e8ff]{position:absolute;top:0;right:-.75rem;transition:opacity .4s}.open-element-button[data-v-72d4e8ff]:not(.visible){opacity:0}",map:void 0,media:void 0})}),{name:"content-element-preview",props:{element:{type:Object,required:!0},selectable:{type:Boolean,default:!1},isSelected:{type:Boolean,default:!1},selectionDisabled:{type:Boolean,default:!1}},computed:{disabled:function(e){return e.selectionDisabled&&!e.isSelected},elementWidth:function(e){return"col-xs-".concat(Z.default(e.element,"data.width",12))}},methods:{toggleSelection:function(){this.selectable&&!this.disabled&&this.$emit("toggle")}},components:{ContentElement:Us}},"data-v-72d4e8ff",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Hs=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="index.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content-preview"},[e.elements.length?e._e():n("v-alert",{staticClass:"mx-4",attrs:{color:"grey darken-4",text:""}},[e._v("\n    No available elements.\n  ")]),e._v(" "),e._l(e.processedContainers,(function(t){return n("div",{key:t.id,staticClass:"content-container d-flex flex-wrap"},e._l(t.elements,(function(t){return n("content-element",{key:t.id,attrs:{element:t,selectable:e.selectable,"is-selected":!!e.selectionMap[t.id],"selection-disabled":e.isSelectionDisabled,"is-disabled":""},on:{toggle:function(n){return e.$emit("toggle",t)},"element:open":function(t){return e.$emit("element:open",t)}}})})),1)}))],2)},staticRenderFns:[]},(function(e){e&&e("data-v-2013b96d_0",{source:".content-preview .v-alert[data-v-2013b96d]{display:flex;align-items:center;justify-content:center;height:19rem}.content-preview .content-container[data-v-2013b96d]:last-child{margin-bottom:.625rem}",map:void 0,media:void 0})}),{name:"content-preview",props:{contentContainers:{type:Array,required:!0},selectable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0},allowedTypes:{type:Array,default:function(){return[]}},selected:{type:Array,default:function(){return[]}}},computed:{isSelectionDisabled:function(){return this.selectable&&!this.multiple&&!!this.selected.length},selectionMap:function(e){return G.default(e.selected,"id")},processedContainers:function(){var e=this.contentContainers,t=this.allowedTypes;return t.length?e.map((function(e){return Object.assign({},e,{elements:e.elements.filter((function(e){return t.includes(e.type)}))})})):e},elements:function(){return this.processedContainers.reduce((function(e,t){return e.concat(t.elements)}),[])}},components:{ContentElement:zs}},"data-v-2013b96d",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));function Vs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(){var i=this;return this[t]=!0,Me(Promise.resolve(e.call.apply(e,[this].concat(Array.prototype.slice.call(arguments)))),n).finally((function(){return i[t]=!1}))}}var Ks=n.activity.toTreeFormat;var Ws=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="SelectActivity.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mx-3"},[n("v-text-field",{attrs:{disabled:!e.activities.length,placeholder:"Filter items...","prepend-inner-icon":"mdi-filter-outline","clear-icon":"mdi-close-circle-outline",clearable:"",outlined:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e._v(" "),n("v-treeview",{directives:[{name:"show",rawName:"v-show",value:!e.noResultsMessage,expression:"!noResultsMessage"}],ref:"treeview",staticClass:"py-3 px-1 treeview",attrs:{items:e.activityTree,search:e.search,open:e.expandedActivityIds,transition:"","open-on-click":""},scopedSlots:e._u([{key:"label",fn:function(t){var i=t.item,r=i.id,o=i.data;return[e._v("\n      "+e._s(o.name)+"\n      "),e.groupedSelection[r]?n("v-chip",{staticClass:"readonly custom-chip",attrs:{rounded:"",small:""}},[e._v("\n        "+e._s(e.getChipLabel(e.groupedSelection[r]))+"\n      ")]):e._e()]}},{key:"append",fn:function(t){var i=t.item;return[e.hasContentContainers(i.type)?n("v-btn",{attrs:{color:"primary darken-2",outlined:"",small:""},on:{click:function(t){return e.$emit("selected",i)}}},[e._v("\n        View elements\n      ")]):e._e()]}}])}),e._v(" "),n("v-alert",{attrs:{value:!!e.noResultsMessage,color:"primary darken-2",dark:""}},[e._v("\n    "+e._s(e.noResultsMessage)+"\n  ")])],1)},staticRenderFns:[]},(function(e){e&&e("data-v-ca448cba_0",{source:".treeview[data-v-ca448cba]{max-height:19rem;text-align:left;background-color:#fcfcfc;border:1px solid #eee;overflow-y:scroll}.treeview .v-chip.custom-chip[data-v-ca448cba]{border-radius:12px!important}.treeview[data-v-ca448cba]  .v-treeview-node--leaf>.treeview ::v-deep .v-treeview-node__content>*,.treeview[data-v-ca448cba]  .v-treeview-node--leaf>.treeview ::v-deep .v-treeview-node__root{cursor:auto}",map:void 0,media:void 0})}),{name:"select-activity",inject:["$schemaService"],props:{selectedElements:{type:Array,default:function(){return[]}},activities:{type:Array,default:function(){return[]}}},data:function(){return{search:""}},computed:{groupedSelection:function(e){return Q.default(e.selectedElements,"outlineId")},expandedActivityIds:function(e){return Y.default(e.activities,"id")},activityTree:function(e){return Ks(e.activities,e.$schemaService,[])},noResultsMessage:function(){var e=this.activities,t=this.search,n=this.$refs;if(!e.length)return"Empty repository";if(!t||!n)return"";var i=n.treeview,r=i.excludedItems,o=i.nodes;return!(r.size!==Object.keys(o).length)&&"No matches found"}},methods:{hasContentContainers:function(e){return this.$schemaService.isEditable(e)},getChipLabel:function(e){var t=e.length;return"".concat(t," ").concat(W.default("element",t)," selected")}}},"data-v-ca448cba",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Js=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="SelectRepository.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this.$createElement;return(this._self._c||e)("v-combobox",this._b({staticClass:"mx-3",attrs:{value:this.repository,items:this.repositories,loading:this.loading,"item-value":"id","item-text":"name",label:"Select repository",placeholder:"Type to search repositories...",outlined:"","return-object":""},on:{input:this.selectRepository,"update:search-input":this.fetchRepositories}},"v-combobox",this.$attrs,!1))},staticRenderFns:[]},0,{name:"select-repository",props:{repository:{type:Object,default:null}},inject:["$api"],data:function(){return{repositories:[],loading:!1}},methods:{selectRepository:function(e){K.default(this.repositories,{id:e.id})&&this.$emit("selected",e)},fetchRepositories:X.default(Vs((function(e){var t=this;return this.$api.fetchRepositories({search:e}).then((function(e){t.repositories=ee.default(e,"name")}))}),"loading"),500)},created:function(){this.fetchRepositories()}},void 0,!1);var Zs=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="TailorDialog.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",e._g(e._b({attrs:{width:e.width},scopedSlots:e._u([e._l(e.$scopedSlots,(function(t,n){return{key:n,fn:function(t){return[e._t(n,null,null,t)]}}}))],null,!0)},"v-dialog",e.$attrs,!1),e.$listeners),[e._v(" "),n("v-card",[n("v-card-title",{staticClass:"dialog-title primary darken-3",attrs:{"primary-title":""}},[e.headerIcon?n("v-avatar",{staticClass:"mr-3",attrs:{color:"secondary",size:"38"}},[n("v-icon",{attrs:{dark:""}},[e._v(e._s(e.headerIcon))])],1):e._e(),e._v(" "),n("div",{staticClass:"text-truncate"},[e._t("header")],2)],1),e._v(" "),n("v-card-text",{class:[e.paddingless?"pa-0":"pt-7 px-4 pb-2"]},[e._t("body")],2),e._v(" "),e.$slots.actions?n("v-card-actions",{staticClass:"px-4 pb-3"},[n("v-spacer"),e._v(" "),e._t("actions")],2):e._e()],1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-b6f646a2_0",{source:".dialog-title[data-v-b6f646a2]{display:flex;color:#f1f1f1}.dialog-title .text-truncate[data-v-b6f646a2]{flex:1;text-align:left}",map:void 0,media:void 0})}),{name:"tailor-dialog",props:{headerIcon:{type:String,default:null},width:{type:[Number,String],default:500},paddingless:{type:Boolean,default:!1}}},"data-v-b6f646a2",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}})),Gs=n.activity.getDescendants,Ys={label:"Select all",icon:"checkbox-multiple-marked-outline"},Qs={label:"Deselect all",icon:"checkbox-multiple-blank-outline"};var Xs=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="index.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("tailor-dialog",{attrs:{value:!0,"header-icon":e.headerIcon,width:"650",scrollable:""},on:{"click:outside":e.close},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(e._s(e.heading))]},proxy:!0},{key:"body",fn:function(){return[e.selection.activity?[e.toggleButton?n("div",{staticClass:"d-flex justify-end mb-2 px-4"},[n("v-btn",{attrs:{outlined:""},on:{click:e.toggleSelectAll}},[n("v-icon",{staticClass:"mr-2"},[e._v("mdi-"+e._s(e.toggleButton.icon))]),e._v("\n          "+e._s(e.toggleButton.label)+"\n        ")],1)],1):e._e(),e._v(" "),e.loadingContent?n("v-progress-circular",{staticClass:"mt-5",attrs:{indeterminate:""}}):n("content-preview",{attrs:{"content-containers":e.items.contentContainers,selected:e.selection.elements,"allowed-types":e.allowedTypes,multiple:e.multiple,selectable:""},on:{toggle:e.toggleElementSelection,"element:open":e.openInEditor}})]:[n("select-repository",{attrs:{repository:e.selection.repository,disabled:e.onlyCurrentRepo},on:{selected:e.selectRepository}}),e._v(" "),e.loadingContent?n("v-progress-circular",{staticClass:"mt-5",attrs:{indeterminate:""}}):n("select-activity",{attrs:{activities:e.items.activities,"selected-elements":e.selection.elements},on:{selected:e.showActivityElements}})]]},proxy:!0},{key:"actions",fn:function(){return[e.selection.activity?n("v-btn",{staticClass:"mr-2",attrs:{text:"",outlined:""},on:{click:e.deselectActivity}},[n("v-icon",{staticClass:"mr-2",attrs:{dense:""}},[e._v("mdi-arrow-left")]),e._v("Back\n    ")],1):e._e(),e._v(" "),n("v-btn",{staticClass:"ml-1",attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),e._v(" "),n("v-btn",{staticClass:"mr-2",attrs:{text:""},on:{click:e.save}},[e._v(e._s(e.submitLabel))])]},proxy:!0}])})},staticRenderFns:[]},0,{name:"select-element",inject:["$schemaService","$repository","$api"],props:{selected:{type:Array,default:function(){return[]}},heading:{type:String,required:!0},allowedTypes:{type:Array,required:!0},multiple:{type:Boolean,default:!0},submitLabel:{type:String,default:"Save"},headerIcon:{type:String,default:"mdi-toy-brick-plus-outline"},onlyCurrentRepo:{type:Boolean,default:!1}},data:function(){return{items:{activities:[],contentContainers:[]},selection:{repository:null,activity:null,elements:[]},loadingContent:!1}},computed:{currentRepository:function(e){return e.$repository},allElementsSelected:function(e){return e.selection.elements.length===e.elements.length},rootContainerTypes:function(){var e,t=null===(e=this.selection.activity)||void 0===e?void 0:e.type;return t&&this.getContainerTypes(t)},processedContainers:function(){var e=this,t=this.selection.activity,n=this.items.activities;if(!t||!n.length)return[];var i=ee.default(n.filter(this.isRootContainer),[this.getTypePosition,"position","createdAt"]);return D.default(i,(function(t){return[t].concat(Ss(e.getSubcontainers(t)))}))},elements:function(){var e=this,t=D.default(this.items.contentContainers,"elements");return this.allowedTypes.length?t.filter((function(t){return e.allowedTypes.includes(t.type)})):t},toggleButton:function(){var e=this.allElementsSelected,t=this.elements,n=this.multiple,i=this.selection;if(n&&i.activity&&t.length)return e?Qs:Ys}},methods:{getContainerTypes:function(e){return Y.default(this.$schemaService.getSupportedContainers(e),"type")},getTypePosition:function(e){var t=e.type;return this.rootContainerTypes.indexOf(t)},isRootContainer:function(e){var t=e.parentId,n=e.type,i=this.selection.activity,r=this.rootContainerTypes;return t===i.id&&r.includes(n)},getSubcontainers:function(e){var t=this.items.activities;return ee.default(Gs(t,e),"position")},showActivityElements:async function(e){var t=this;this.selection.activity=e;var n=this.processedContainers,i=await this.fetchElements(n);this.items.contentContainers=n.map((function(n){return t.assignElements(n,e,i)}))},assignElements:function(e,t,n){var i=n.filter((function(t){return t.activityId===e.id})).map((function(e){return Object.assign({},e,{activity:t})}));return Object.assign({},e,{elements:ee.default(i,"position")})},toggleElementSelection:function(e){var t=this.selection.elements,n=t.find((function(t){return t.id===e.id}));this.selection.elements=n?t.filter((function(t){return t.id!==e.id})):t.concat(e)},toggleSelectAll:function(){this.selection.elements=this.allElementsSelected?[]:this.elements},deselectActivity:function(){this.selection.activity=null,this.items.contentContainers=[],this.selection.elements=Ss(this.selected)},selectRepository:async function(e){var t=this.currentRepository;this.selection.repository=e,this.deselectActivity(),this.items.activities=t.id===e.id?t.activities:await this.fetchActivities(e)},fetchActivities:Vs((function(e){return this.$api.fetchActivities(e.id)}),"loadingContent"),fetchElements:Vs((function(e){var t={repositoryId:this.selection.repository.id,ids:e.map((function(e){return e.id}))};return this.$api.fetchContentElements(t)}),"loadingContent",500),save:function(){this.$emit("selected",Ss(this.selection.elements)),this.close()},close:function(){this.$emit("close")},openInEditor:function(e){var t={name:"editor",params:{activityId:this.selection.activity.id,repositoryId:this.selection.repository.id},query:{elementId:e}},n=this.$router.resolve(t).href;window.open(n,"_blank")}},created:function(){this.selection.elements=Ss(this.selected),this.selection.repository=this.currentRepository,this.items.activities=this.currentRepository.activities},components:{ContentPreview:Hs,SelectActivity:Ws,SelectRepository:Js,TailorDialog:Zs}},void 0,!1),el=6,tl=12,nl=[{name:"Content Elements",icon:"mdi-set-center"},{name:"Assessments",icon:"mdi-help-rhombus"},{name:"Nongraded questions",icon:"mdi-comment-question-outline"}];var il=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="index.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"add-element-container"},[e._t("default",[e.large?n("v-btn",{staticClass:"mt-3 mb-4",attrs:{color:"primary darken-3",text:""},on:{click:function(t){return t.stopPropagation(),e.showElementPicker(t)}}},[n("v-icon",{staticClass:"pr-2"},[e._v(e._s(e.icon))]),e._v(e._s(e.label)+"\n    ")],1):n("v-btn",{attrs:{color:"primary darken-3",icon:"",text:""},on:{click:function(t){return t.stopPropagation(),e.showElementPicker(t)}}},[n("v-icon",[e._v(e._s(e.icon))])],1)],{addElement:e.showElementPicker}),e._v(" "),e.isVisible?[e.showElementBrowser?n("select-element",{attrs:{"allowed-types":e.allowedTypes,"submit-label":"Copy",heading:"Copy elements","header-icon":"mdi-content-duplicate",multiple:""},on:{selected:e.addElements,close:function(t){e.showElementBrowser=!1}}}):n("add-new-element",{attrs:{library:e.library,"allowed-types":e.allowedTypes},on:{add:e.addElements},scopedSlots:e._u([{key:"header",fn:function(){return[e.layout?n("div",{staticClass:"mr-6"},[n("div",{staticClass:"pb-1 caption text-left"},[e._v("Element width")]),e._v(" "),n("v-btn-toggle",{attrs:{color:"secondary accent-2",mandatory:""},model:{value:e.elementWidth,callback:function(t){e.elementWidth=t},expression:"elementWidth"}},[n("v-btn",{attrs:{value:100,height:"38",icon:""}},[n("v-icon",[e._v("mdi-square-outline")])],1),e._v(" "),n("v-btn",{attrs:{value:50,height:"38",icon:""}},[n("v-icon",[e._v("mdi-select-compare")])],1)],1)],1):e._e(),e._v(" "),n("v-btn",{staticClass:"mt-6",attrs:{color:"primary darken-3",depressed:""},on:{click:function(t){e.showElementBrowser=!e.showElementBrowser}}},[n("v-icon",{staticClass:"mr-2",attrs:{dense:""}},[e._v("mdi-content-copy")]),e._v("\n          Copy existing\n        ")],1)]},proxy:!0}],null,!1,2543524328),model:{value:e.isVisible,callback:function(t){e.isVisible=t},expression:"isVisible"}})]:e._e()],2)},staticRenderFns:[]},0,{name:"tailor-add-element",inject:["$teRegistry"],props:{items:{type:Array,required:!0},activity:{type:Object,default:null},position:{type:Number,default:null},layout:{type:Boolean,default:!0},include:{type:Array,default:null},show:{type:Boolean,default:!1},large:{type:Boolean,default:!1},label:{type:String,default:"Add content"},icon:{type:String,default:"mdi-plus"}},data:function(){return{isVisible:!1,elementWidth:100,showElementBrowser:!1}},computed:{registry:function(){return this.$teRegistry.all},questions:function(){return B.default(this.registry,{type:"QUESTION"})},contentElements:function(){var e=this,t=B.default(this.registry,(function(e){return!n.isQuestion(e.type)}));return this.isSubset?B.default(t,(function(t){return e.include.includes(t.type)})):t},assessments:function(){var e=this.registry,t=this.isSubset,n=this.include,i=this.questions;return t&&!n.includes("ASSESSMENT")?[]:B.default(e,{type:"ASSESSMENT"}).concat(i.map((function(e){return Object.assign({},e,{type:"ASSESSMENT"})})))},reflections:function(){var e=this.registry,t=this.isSubset,n=this.include,i=this.questions;return t&&!n.includes("REFLECTION")?[]:B.default(e,{type:"REFLECTION"}).concat(i.map((function(e){return Object.assign({},e,{type:"REFLECTION"})})))},isSubset:function(){return!!this.include&&!!this.include.length},library:function(){var e=[this.contentElements,this.assessments,this.reflections];return U.default(e,(function(e,t,n){return t.length&&e.push(Object.assign({},nl[n],{elements:t})),e}),[])},processedWidth:function(){return 50===this.elementWidth?el:tl},allowedTypes:function(){var e=this.elementWidth,t=this.include,n=this.layout,i=this.library,r=D.default(i,"elements");if(!n)return t||[];var o=(100===e?r:z.default(r,"ui.forceFullWidth")).map((function(e){return e.type}));return t?$.default(t,o):o}},methods:{addElements:function(e){var t=this,i=n.getPositions(this.items,this.position,e.length),r=e.map((function(e,n){return t.buildElement(Object.assign({},e,{position:i[n]}))}));this.$emit("add",r),this.isVisible=!1},buildElement:function(e){var t=this.processedWidth,i=this.activity,r=e.position,o=e.subtype,a=e.data,s=void 0===a?{}:a,l=e.initState,u=void 0===l?function(){return{}}:l,c=Object.assign({position:r},M.default(e,["type","refs"]),{data:Object.assign({},u(),s,{width:t})}),d=i?{activityId:i.id}:{id:n.uuid(),embedded:!0};return Object.assign(c,d),n.isQuestion(c.type)&&(c.data=function(e,t){var i={width:tl},r=[{id:n.uuid(),data:i,type:"JODIT_HTML",embedded:!0}];return Object.assign({question:r,type:t},e.data)}(c,o)),"REFLECTION"===c.type&&delete c.data.correct,c},onHidden:function(){this.elementWidth=100,this.$emit("hidden")},showElementPicker:function(){this.isVisible=!0}},watch:{isVisible:function(e,t){!e&&t&&this.onHidden()},show:function(e){return e?this.showElementPicker():this.onHidden()}},components:{AddNewElement:Os,SelectElement:Xs}},void 0,!1);var rl=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="Controls.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex pb-4"},[n("v-spacer"),e._v(" "),e.isEditing?n("div",[n("v-btn",{attrs:{text:"",large:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v("Cancel")]),e._v(" "),n("v-btn",{attrs:{color:"green darken-3",text:"",large:""},on:{click:e.save}},[n("v-icon",{staticClass:"pr-1"},[e._v("mdi-check")]),e._v("\n      Save\n    ")],1)],1):n("v-btn",{attrs:{color:"primary darken-4",text:"",large:""},on:{click:function(t){return e.$emit("edit")}}},[e._v("\n    Edit\n  ")])],1)},staticRenderFns:[]},0,{name:"controls",props:{isEditing:{type:Boolean,default:!1}},methods:{save:function(){var e=this;setTimeout((function(){return e.$emit("save")}),0)}}},void 0,!1),ol={modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{color:[]},{background:[]}],["link"]]}};var al=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="Feedback.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"px-1"},[n("div",[n("span",{staticClass:"subtitle-2"},[e._v("Feedback")]),e._v(" "),n("v-btn",{staticClass:"ml-1",attrs:{text:"",small:""},on:{click:e.toggleExpand}},[e._v("\n      "+e._s(e.buttonLabel)+"\n    ")])],1),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.isExpanded?n("div",{staticClass:"feedback-content"},e._l(e.processedAnswers,(function(t,i){return n("v-row",{key:i},[n("v-col",[n("div",{staticClass:"feedback-info mb-4"},[n("span",{staticClass:"answer-type subtitle-2"},[e._v(e._s(e.answerType)+" "+e._s(i+1)+":")]),e._v(" "),n("span",[e._v(e._s(t||"Answer not added."))])]),e._v(" "),e.isEditing?n("quill-editor",{staticClass:"grey lighten-3",attrs:{options:e.quillOptions,content:e.feedback[i]},on:{change:function(t){return e.updateFeedback(t,i)}}}):n("div",{staticClass:"feedback-preview"},[e.feedback[i]?n("div",{domProps:{innerHTML:e._s(e.feedback[i])}}):n("i",[e._v("Feedback not added.")])])],1)],1)})),1):e._e()])],1)},staticRenderFns:[]},0,{name:"feedback",props:{answers:{type:[Array,Boolean],default:null},feedback:{type:Object,default:function(){return{}}},isEditing:{type:Boolean,default:!1},isGraded:{type:Boolean,default:!1}},data:function(e){return{isExpanded:ie.default(e.feedback)}},computed:{quillOptions:function(){return ol},answerType:function(e){return e.isGraded?"Answer":"Option"},buttonLabel:function(e){return e.isExpanded?"hide":"show"},processedAnswers:function(e){return ne.default(e.answers)?e.answers:["True","False"]}},methods:{updateFeedback:function(e,t){var n=e.html;this.$emit("update",As({},t,n))},toggleExpand:function(){this.isExpanded=!this.isExpanded}},watch:{isEditing:function(e){ie.default(this.feedback)&&e&&(this.isExpanded=!0)}},components:{QuillEditor:Qa.quillEditor}},void 0,!1);var sl=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="ContainedContent.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"contained-content",class:[e.widthClass,{disabled:e.isDisabled,hovered:e.isHovered}],on:{mouseover:function(t){e.isHovered=!0},mouseleave:function(t){e.isHovered=!1},dragstart:function(t){return e.$emit("dragstart")},dragend:function(t){return e.$emit("dragend")},dragover:e.scrollContainer}},[e.isDisabled?e._e():n("span",{staticClass:"drag-handle"},[n("span",{staticClass:"mdi mdi-drag-vertical"})]),e._v(" "),n("content-element",e._b({on:{add:function(t){return e.$emit("add",t)},save:function(t){return e.$emit("save",t)},"save:meta":function(t){return e.$emit("save:meta",t)},delete:function(t){return e.$emit("delete")}}},"content-element",e.bindings,!1))],1)},staticRenderFns:[]},(function(e){e&&e("data-v-cb586726_0",{source:".drag-handle[data-v-cb586726]{position:absolute;left:-3px;z-index:2;width:26px;opacity:0}.drag-handle .mdi[data-v-cb586726]{color:#888;font-size:28px}.hovered .drag-handle[data-v-cb586726]{opacity:1;transition:opacity .6s ease-in-out;cursor:pointer}.disabled .drag-handle[data-v-cb586726]{display:none}.contained-content[data-v-cb586726]{position:relative;margin:7px 0;padding:0}",map:void 0,media:void 0})}),{name:"tailor-contained-content",inheritAttrs:!1,props:{element:{type:Object,required:!0},isDisabled:{type:Boolean,default:!1},isDragged:{type:Boolean,default:!1},setWidth:{type:Boolean,default:!0},dense:{type:Boolean,default:!1}},data:function(){return{isHovered:!1}},computed:{bindings:function(){var e=this.element,t=this.isDisabled,n=this.isDragged,i=this.isHovered,r=this.dense,o=this.$attrs;return Object.assign({element:e,isDisabled:t,isDragged:n,isHovered:i,dense:r},o)},widthClass:function(){var e=this.element;return this.setWidth?"col-xs-".concat(Z.default(e,"data.width",12)):""}},methods:{scrollContainer:ae.default((function(e){var t=e.y<200,n=e.y>window.innerHeight-200;(t||n)&&window.scrollBy(0,t?-30:30)}),20)},components:{ContentElement:Us}},"data-v-cb586726",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var ll=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="InputError.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("transition",{attrs:{name:"message-transition"}},[this.error?t("div",{staticClass:"input-error"},[this._v("\n    "+this._s(this.error)+"\n  ")]):this._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-ff8d03d8_0",{source:".input-error[data-v-ff8d03d8]{color:var(--v-error-base);font-size:.75rem}",map:void 0,media:void 0})}),{name:"tailor-input-error",props:{error:{type:String,default:""}}},"data-v-ff8d03d8",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}})),ul={handle:".drag-handle",scrollSensitivity:125,scrollSpeed:15};var cl=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="Question.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"subtitle-2 mb-2"},[e._v("Question")]),e._v(" "),n("div",{class:["question-container",{focused:e.isFocused,disabled:!e.isEditing,incorrect:!!e.questionError}]},[n("draggable",e._b({staticClass:"row",model:{value:e.question,callback:function(t){e.question=t},expression:"question"}},"draggable",e.dragOptions,!1),e._l(e.question,(function(t){return n("contained-content",{key:t.id,staticClass:"mb-4",attrs:{element:t,"is-disabled":!e.isEditing,dense:""},on:{save:function(n){return e.updateElement(t,n)},delete:function(n){return e.deleteElement(t)}}})})),1)],1),e._v(" "),n("add-element",{class:{invisible:!e.isEditing},attrs:{items:e.question,layout:!1,position:e.question.length,disabled:!e.isEditing,include:["JODIT_HTML","IMAGE","EMBED","HTML"]},on:{add:e.addQuestionElements},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.addElement;return[n("div",{staticClass:"d-flex justify-space-between mt-2 pl-3"},[n("input-error",{attrs:{error:e.questionError}}),e._v(" "),n("v-btn",{staticClass:"mt-2 ml-auto px-2",attrs:{text:""},on:{click:i}},[n("v-icon",{staticClass:"mr-1",attrs:{dense:""}},[e._v("mdi-plus")]),e._v("\n        Add question element\n      ")],1)],1)]}}])})],1)},staticRenderFns:[]},(function(e){e&&e("data-v-28708166_0",{source:".question-container[data-v-28708166]{position:relative;min-height:8.75rem;padding:1rem 3rem 0 2.5rem;text-align:center;background:#ebebeb;border-radius:.125rem;transition:.3s cubic-bezier(.25,.8,.5,1)}.question-container[data-v-28708166]::after,.question-container[data-v-28708166]::before{content:'';position:absolute;bottom:-1px;left:0;width:100%;transition:.3s cubic-bezier(.25,.8,.5,1)}.question-container[data-v-28708166]::before{border-style:solid;border-width:thin 0 0 0}.question-container[data-v-28708166]::after{border-style:solid;border-width:thin 0 thin 0;transform:scaleX(0)}.question-container[data-v-28708166]:not(.focused):not(.disabled):not(.incorrect):hover{background:#dcdcdc}.question-container[data-v-28708166]:not(.focused):not(.disabled):not(.incorrect):hover  .content-element{border-color:#bbb}.focused[data-v-28708166]::after{transform:scaleX(1)}.disabled[data-v-28708166]{color:rgba(0,0,0,.38)}.disabled[data-v-28708166]::before{border-image:repeating-linear-gradient(to right,rgba(0,0,0,.38) 0,rgba(0,0,0,.38) .125rem,transparent .125rem,transparent .25rem) 1 repeat}.incorrect[data-v-28708166]::after,.incorrect[data-v-28708166]::before{border-color:var(--v-error-base)}.invisible[data-v-28708166]{visibility:none}",map:void 0,media:void 0})}),{name:"question",props:{assessment:{type:Object,required:!0},errors:{type:Array,default:function(){return[]}},isEditing:{type:Boolean,default:!1}},data:function(){return{isFocused:!1}},computed:Object.assign({},p.mapChannels({editorChannel:"editor"}),{question:{get:function(){return te.default(this.assessment.data.question)},set:function(e){this.$emit("update",{question:e})}},questionError:function(e){return ue.default(n.assessment.getErrorMessages(e.errors,"question"))},dragOptions:function(){return ul}}),methods:{addQuestionElements:function(e){var t=te.default(this.assessment.data.question);this.$emit("update",{question:t.concat(e)})},updateElement:function(e,t){if(this.isEditing){var n=te.default(this.assessment.data.question),i=le.default(n,{id:e.id});-1!==i&&(e=Object.assign({},n[i],{data:t}),this.$emit("update",{question:de.default(n,i,e)}))}},deleteElement:function(e){var t=te.default(this.assessment.data.question),n=le.default(t,{id:e.id});-1!==n&&(ce.default(t,n),this.$emit("update",{question:t}))}},created:function(){var e=this;this.editorChannel.on("element:focus",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.isFocused=!!K.default(e.question,{id:t.id})}))},components:{AddElement:il,ContainedContent:sl,Draggable:se.default,InputError:ll}},"data-v-28708166",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}})),dl=["MC","SC","TF"],fl=["JODIT_HTML","HTML"],pl={recursive:!0,abortEarly:!1},hl={name:"tce-question-container",inject:["$teRegistry"],props:{element:{type:Object,required:!0},isDisabled:{type:Boolean,default:!1}},data:function(e){return{isEditing:!e.element.id,editedElement:te.default(e.element),undoState:te.default(e.element),errors:[],alert:{}}},computed:{answerType:function(e){return e.element.data.type},isGraded:function(e){return"ASSESSMENT"===e.element.type},showFeedback:function(e){return dl.includes(e.answerType)},componentName:function(e){return t=e.answerType,n.getComponentName(n.processAnswerType(t));var t},config:function(e){return e.$teRegistry.get(e.answerType)},hintErrors:function(e){return n.assessment.getErrorMessages(e.errors,"hint")},schema:function(){var e=this.config.schema;return Ua().shape(Object.assign({},vl,this.isGraded?e:oe.default(e,["correct"])))}},methods:{edit:function(){this.editedElement=te.default(this.element),this.undoState=te.default(this.element),this.isEditing=!0},update:function(e,t){var n=this;Object.assign(this.editedElement.data,e),t&&!re.default(this.errors)&&(this.errors=[],this.validate().catch((function(e){return n.errors=e.inner}))),this.$emit("add",this.editedElement)},save:function(){var e=this;this.validate().then((function(){e.$emit("save",te.default(e.editedElement.data)),e.isEditing=!1,e.errors=[]})).catch((function(t){return e.errors=t.inner}))},cancel:function(){if(!this.editedElement.id)return this.$emit("delete");this.$emit("add",te.default(this.undoState)),this.editedElement=te.default(this.undoState),this.isEditing=!1,this.errors=[],this.alert={}},validate:function(){return this.schema.validate(this.editedElement.data,pl)},updateFeedback:function(e){var t=this.editedElement;this.$set(t.data,"feedback",Object.assign({},t.data.feedback,e))}},components:{Controls:rl,Feedback:al,Question:cl}};function ml(e){return fl.includes(e.type)&&e.data.content&&e.data.content.trim().length>0}var vl={question:Va().test("has-text","Please define question",(function(e){return!!e.find(ml)})),hint:Xo().trim().max(500),_refs:Ua().shape({objectiveId:ea().integer().positive()})};var yl=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="index.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"tce-question-container my-2 grey lighten-5"},[n("v-toolbar",{staticClass:"mb-5 px-0 elevation-2 text-left",attrs:{color:"primary darken-3",height:"36",dark:""}},[n("v-icon",{staticClass:"mr-2",attrs:{color:"secondary lighten-2",size:"18"}},[e._v("mdi-help")]),e._v(" "),n("span",{staticClass:"subtitle-2"},[e._v(e._s(e.config.name))])],1),e._v(" "),e._t("default",null,{isEditing:e.isEditing}),e._v(" "),n("div",{staticClass:"content"},[n("question",{attrs:{assessment:e.editedElement,"is-editing":e.isEditing,errors:e.errors},on:{update:e.update}}),e._v(" "),n(e.componentName,{tag:"component",staticClass:"tce-answer",attrs:{assessment:e.editedElement.data,"is-editing":e.isEditing,"is-graded":e.isGraded,errors:e.errors},on:{update:e.update,alert:function(t){e.alert=t}}}),e._v(" "),n("div",{staticClass:"subtitle-2 mb-2"},[e._v("Hint")]),e._v(" "),n("v-text-field",{attrs:{"error-messages":e.hintErrors,disabled:!e.isEditing,placeholder:"Optional hint...",color:"blue-darken darken-3",filled:"",clearable:""},model:{value:e.editedElement.data.hint,callback:function(t){e.$set(e.editedElement.data,"hint",t)},expression:"editedElement.data.hint"}}),e._v(" "),e.showFeedback?n("feedback",{attrs:{answers:e.editedElement.data.answers,feedback:e.editedElement.data.feedback,"is-graded":e.isGraded,"is-editing":e.isEditing},on:{update:e.updateFeedback}}):e._e(),e._v(" "),n("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.alert.text,expression:"alert.text"}],staticClass:"mt-4",attrs:{type:e.alert.type,prominent:""}},[e._v("\n      "+e._s(e.alert.text)+"\n    ")]),e._v(" "),e.isDisabled?e._e():n("controls",{staticClass:"controls",attrs:{"is-editing":e.isEditing},on:{edit:e.edit,save:e.save,cancel:e.cancel}})],1)],2)},staticRenderFns:[]},(function(e){e&&e("data-v-b4ecdf22_0",{source:".tce-question-container[data-v-b4ecdf22]{min-height:25rem;background-color:#fff;overflow:visible;text-align:left}.tce-question-container[data-v-b4ecdf22]  .title{font-weight:400}.tce-question-container .content[data-v-b4ecdf22]{margin:.5rem 1.625rem}@media (max-width:1263px){.tce-question-container .content[data-v-b4ecdf22]{margin:.5rem}}.tce-question-container .tce-answer[data-v-b4ecdf22]{overflow:hidden}.disabled .controls[data-v-b4ecdf22]{display:none}",map:void 0,media:void 0})}),hl,"data-v-b4ecdf22",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}})),bl=["JODIT_HTML","HTML"],gl=/(@blank)/g,_l=/(<\/?[^>]+(>|$))|&nbsp;/g;!function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="AssessmentItem.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",{staticClass:"list-group-item assessment-item elevation-1",class:[e.assessment.changeSincePublish,{hover:e.hover,expanded:e.expanded,diff:e.$editorState.isPublishDiff}],on:{mouseenter:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[e.draggable?n("span",{staticClass:"drag-handle"},[n("v-icon",[e._v("mdi-drag-vertical")])],1):e._e(),e._v(" "),e.expanded?n("tce-question-container",{staticClass:"question-container",attrs:{element:e.assessment,"is-disabled":e.isDisabled},on:{save:e.save,delete:function(t){return e.$emit("delete")}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.isEditing;return[n("div",{staticClass:"px-6 d-flex justify-end"},[n("v-btn",{staticClass:"px-2",attrs:{text:"",small:""},on:{click:function(t){return e.$emit("selected")}}},[n("v-icon",{staticClass:"mr-2",attrs:{dense:""}},[e._v("mdi-arrow-collapse")]),e._v("\n          Collapse\n        ")],1)],1),e._v(" "),n("div",{staticClass:"d-flex pb-4 px-6"},[e._t("header",null,{isEditing:i})],2)]}}],null,!0)}):n("div",{staticClass:"minimized d-flex justify-space-between align-center",on:{click:function(t){return e.$emit("selected")}}},[n("v-chip",{staticClass:"readonly",attrs:{color:"primary darken-3",label:"",dark:"",small:""}},[e._v("\n      "+e._s(e.elementConfig.subtype)+"\n    ")]),e._v(" "),n("span",{staticClass:"question"},[e._v(e._s(e._f("truncate")(e.question,50)))]),e._v(" "),e.$editorState.isPublishDiff&&e.assessment.changeSincePublish?n("publish-diff-chip",{attrs:{"change-type":e.assessment.changeSincePublish}}):n("v-btn",{staticClass:"delete",class:{disabled:e.isDisabled},attrs:{color:"primary darken-2",icon:""},on:{click:function(t){return t.stopPropagation(),e.$emit("delete")}}},[n("v-icon",[e._v("mdi-close")])],1)],1)],1)},staticRenderFns:[]},(function(e){e&&e("data-v-493c9656_0",{source:".assessment-item[data-v-493c9656]{margin-bottom:.625rem;padding:0}.assessment-item .v-chip[data-v-493c9656]{min-width:1.875rem}.assessment-item .drag-handle[data-v-493c9656]{position:absolute;top:0;left:-3px;color:#888;font-size:28px;opacity:0;cursor:move}.assessment-item.hover .drag-handle[data-v-493c9656]{opacity:1;transition:opacity .6s ease-in-out}.assessment-item .minimized[data-v-493c9656]{padding:.375rem 1.375rem;cursor:pointer}.assessment-item .minimized .question[data-v-493c9656]{display:inline-block;max-width:80%;min-height:1.875rem;color:#444;font-size:1rem;font-weight:400;line-height:2.125rem}.assessment-item .minimized .v-chip[data-v-493c9656]{margin-top:.125rem}.assessment-item .delete[data-v-493c9656]{opacity:0}.assessment-item.hover:not(.sortable-chosen) .delete[data-v-493c9656]:not(.disabled){opacity:1}.question-container[data-v-493c9656]{margin:0!important}.diff[data-v-493c9656]{border:none}.diff.expanded[data-v-493c9656]{border-radius:4px}.diff.new[data-v-493c9656]{border:none;box-shadow:0 0 0 2px var(--v-success-lighten2)!important}.diff.changed[data-v-493c9656],.diff.removed[data-v-493c9656]{border:none;box-shadow:0 0 0 2px var(--v-secondary-lighten4)!important}",map:void 0,media:void 0})}),{name:"tailor-assessment-item",inject:["$teRegistry","$editorState"],props:{assessment:{type:Object,required:!0},expanded:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{elementConfig:function(){return this.$teRegistry.get(this.assessment.data.type)},question:function(){var e,t=(e=this.assessment.data.question,B.default(e,(function(e){return bl.includes(e.type)}))),n=Y.default(t,"data.content").join(" ");return n.replace(_l,"").replace(gl,(function(){return"____"}))}},methods:{save:function(e){var t=te.default(this.assessment);Object.assign(t.data,e),this.$emit("save",t)}},components:{PublishDiffChip:Ms,TceQuestionContainer:yl}},"data-v-493c9656",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var xl={inject:["$storageService","$repository"],mixins:[{methods:{download:function(e,t){var n=document.createElement("a");n.href=e,n.download=t,n.target="_blank",n.click()}}}],data:function(){return{uploading:!1}},computed:{repositoryId:function(){return this.$repository.id}},methods:Object.assign({},p.mapRequests("app",["showConfirmationModal"]),{createFileForm:function(e){this.form=new FormData;var t=ks(e.target.files,1)[0];t&&this.form.append("file",t,t.name)},upload:Vs((function(e){var t=this;return this.createFileForm(e),this.$storageService.upload(this.repositoryId,this.form).then((function(e){var n=t.form.get("file").name;t.$emit("upload",Object.assign({},e,{name:n}))})).catch((function(){t.error="An error has occurred!"}))}),"uploading"),downloadFile:async function(e,t){var n=await this.$storageService.getUrl(this.repositoryId,e);return this.download(n,t)},deleteFile:function(e){var t=this;this.showConfirmationModal({title:"Delete file?",message:"Are you sure you want to remove ".concat(e.fileName,"?"),action:function(){return t.$emit("delete",e.id,null)}})}})};var wl=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="UploadBtn.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"file-upload"},[n("form",{staticClass:"upload-form",on:{submit:function(e){e.preventDefault()}}},[n("validation-provider",{ref:"validator",attrs:{rules:e.validate}},[n("input",{ref:e.id,staticClass:"upload-input",attrs:{id:e.id,name:e.id,accept:e.validate.ext,type:"file"},on:{change:e.validateAndUpload}})]),e._v(" "),e.fileKey?n("span",{staticClass:"file-name",on:{click:function(t){return e.downloadFile(e.fileKey,e.fileName)}}},[e._v(e._s(e.fileName)+"\n    ")]):n("v-btn",{attrs:{loading:e.uploading,color:"grey darken-4",text:""},on:{click:function(t){return e.$refs[e.id].click()}}},[n("v-icon",{staticClass:"mr-2",attrs:{color:"secondary"}},[e._v("mdi-cloud-upload-outline")]),e._v("\n      "+e._s(e.label)+"\n    ")],1),e._v(" "),e.fileKey?n("v-btn",{attrs:{icon:"",small:""},on:{click:function(t){return e.deleteFile({id:e.id,fileName:e.fileName})}}},[n("v-icon",[e._v("mdi-delete")])],1):e._e()],1)])},staticRenderFns:[]},(function(e){e&&e("data-v-1f089141_0",{source:".file-upload[data-v-1f089141],.upload-form[data-v-1f089141]{display:inline-block}.upload-input[data-v-1f089141]{visibility:hidden;max-width:0;max-height:0}.file-name[data-v-1f089141]{color:#00f;font-size:1rem;text-decoration:underline;cursor:pointer}",map:void 0,media:void 0})}),{name:"upload-btn",mixins:[xl],props:{id:{type:String,default:function(){return pe.default("file_")}},fileName:{type:String,default:""},fileKey:{type:String,default:""},validate:{type:Object,default:function(){return{ext:[]}}},label:{type:String,default:"Choose a file"},sm:{type:Boolean,default:!1}},methods:{validateAndUpload:async function(e){(await this.$refs.validator.validate(e)).valid&&this.upload(e)}},watch:{uploading:function(e){this.$emit("update:uploading",e)}}},"data-v-1f089141",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));function El(e){try{return e&&"storage:"===new URL(e).protocol}catch(e){return!1}}!function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="AssetInput.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar-items",[e.url&&!e.isEditing?n("v-btn",{attrs:{href:e.publicUrl||e.url,target:"_blank",color:"info",text:""}},[n("v-icon",[e._v("mdi-open-in-new")])],1):e._e(),e._v(" "),e.allowFileUpload?n("upload-btn",{directives:[{name:"show",rawName:"v-show",value:!e.file&&e.isEditing,expression:"!file && isEditing"}],staticClass:"upload-btn",attrs:{uploading:e.uploading,validate:{ext:e.extensions},"confirm-deletion":!1,label:e.uploadLabel},on:{upload:function(t){return(e.file=t)&&(e.urlInput=null)},"update:uploading":function(t){e.uploading=t}}}):e._e(),e._v(" "),e.file?[e.isEditing?n("v-btn",{attrs:{color:"red",text:""},on:{click:function(t){t.stopPropagation(),e.file=null}}},[n("v-icon",[e._v("mdi-delete")])],1):e._e(),e._v(" "),n("v-text-field",{attrs:{value:e.fileName,readonly:"","hide-details":"",filled:""}})]:e._e(),e._v(" "),e.uploading||!e.urlInput&&e.hasAsset?e._e():n("validation-provider",{ref:"provider",attrs:{rules:{url:{protocols:["http","https"],require_protocol:!0,require_valid_protocol:!0}},name:"URL"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.errors;return[n("v-text-field",{attrs:{"error-messages":i,disabled:!e.isEditing,placeholder:e.allowFileUpload?"or paste a URL...":"Paste a URL...",filled:"",clearable:""},model:{value:e.urlInput,callback:function(t){e.urlInput=t},expression:"urlInput"}})]}}],null,!1,17370557)}),e._v(" "),e.isEditing?[e.hasChanges?n("v-btn",{staticClass:"action",attrs:{disabled:e.uploading,text:""},on:{click:function(t){return t.stopPropagation(),e.save(t)}}},[e._v("\n      Save\n    ")]):e._e(),e._v(" "),e.hasChanges||e.url?n("v-btn",{staticClass:"action",attrs:{disabled:e.uploading,text:""},on:{click:function(t){return t.stopPropagation(),e.cancel(t)}}},[e._v("\n      Cancel\n    ")]):e._e()]:n("v-btn",{staticClass:"action",attrs:{text:""},on:{click:function(t){t.stopPropagation(),e.isEditing=!0}}},[e._v("\n    Edit\n  ")])],2)},staticRenderFns:[]},(function(e){e&&e("data-v-00f47ac8_0",{source:".v-text-field[data-v-00f47ac8]{min-width:21.875rem;margin:.5rem .75rem 0 1.75rem}.action[data-v-00f47ac8]  .v-btn__content{min-width:4rem!important}.upload-btn[data-v-00f47ac8]  .v-btn{height:100%}.upload-btn[data-v-00f47ac8]  .v-btn .v-btn__content{padding:1.5rem 0}",map:void 0,media:void 0})}),{name:"tailor-asset-input",props:{url:{type:String,default:null},publicUrl:{type:String,default:null},extensions:{type:Array,required:!0},allowFileUpload:{type:Boolean,default:!0},uploadLabel:{type:String,default:"Select file"}},data:function(){var e=!El(this.url);return{isEditing:!this.url,uploading:!1,file:e?null:M.default(this,["url","publicUrl"]),urlInput:e?this.url:null}},computed:{hasAsset:function(e){return e.file||e.urlInput},isLinked:function(e){return!!e.urlInput},hasChanges:function(e){return e.url!==(e.isLinked?e.urlInput:Z.default(e,"file.url",null))},fileName:function(){return this.file?fe.default(this.file.url.split("___")):null}},methods:{save:async function(){if(this.$refs.provider&&!(await this.$refs.provider.validate()).valid)return;this.isEditing=!1;var e=this.file||{url:this.urlInput,publicUrl:this.urlInput};this.$emit("input",e)},cancel:function(){var e=!El(this.url);this.urlInput=e?this.url:null,this.file=e?null:M.default(this,["url","publicUrl"]),this.isEditing=!this.url}},components:{UploadBtn:wl}},"data-v-00f47ac8",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));!function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};l.__file="DatePicker.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"close-on-content-click":!1,"min-width":"290px",transition:"scale-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-text-field",e._g({ref:"textField",attrs:{value:e._f("formatDate")(e.value,"MMM D, YYYY"),label:e.label,placeholder:e.placeholder,clearable:e.clearable,outlined:"",readonly:""},on:{"click:clear":e.clear,click:function(t){e.showDatePicker=!0}}},i))]}}]),model:{value:e.showDatePicker,callback:function(t){e.showDatePicker=t},expression:"showDatePicker"}},[e._v(" "),n("v-date-picker",{attrs:{value:e._f("formatDate")(e.value,"YYYY-MM-DD"),color:"primary darken-2","no-title":""},on:{input:function(t){return e.$emit("input",t)},change:function(t){e.showDatePicker=!1}}})],1)},staticRenderFns:[]},0,{name:"date-picker",props:{value:{type:[String,Date],default:null},label:{type:String,default:null},clearable:{type:Boolean,default:!0},placeholder:{type:String,default:"Click to set..."}},data:function(){return{showDatePicker:!1}},methods:{clear:function(){this.$emit("input",null),this.$refs.textField.blur()}}},void 0,!1);var Cl=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="ElementList.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-group"},[n("draggable",e._b({staticClass:"row",attrs:{list:e.elements,disabled:e.isDisabled},on:{start:function(t){e.dragElementIndex=t.oldIndex},end:function(t){e.dragElementIndex=-1},update:e.reorder}},"draggable",e.options,!1),e._l(e.elements,(function(t,i){return n("div",{key:e.getElementId(t),staticClass:"pr-5",class:"col-xs-"+e.get(t,"data.width",12),on:{dragstart:function(t){return e.onDragStart(i)},dragend:function(n){return e.onDragEnd(t)}}},[e._t("list-item",null,{element:t,isDragged:e.dragElementIndex===i,position:i})],2)})),0),e._v(" "),e.enableAdd&&!e.isDisabled?[e._t("list-add",[n("add-element",{staticClass:"mt-1",attrs:{items:e.elements,include:e.supportedTypes,activity:e.activity,label:e.addElementOptions.label,large:e.addElementOptions.large,position:e.elements.length,layout:e.layout},on:{add:function(t){return e.$emit("add",t)}}})],{include:e.supportedTypes,activity:e.activity,position:e.elements.length,layout:e.layout})]:e._e()],2)},staticRenderFns:[]},(function(e){e&&e("data-v-f18f3e56_0",{source:".list-group[data-v-f18f3e56]{padding:.625rem 1.5rem}[data-v-f18f3e56] .sortable-ghost .drag-handle{display:none}[data-v-f18f3e56] .sortable-ghost .content-element{max-height:9.375rem;background:#f4f5f5}[data-v-f18f3e56] .sortable-ghost .content-element>*{visibility:hidden}[data-v-f18f3e56] .sortable-drag .content-element{max-height:auto;background:#fff}",map:void 0,media:void 0})}),{name:"tailor-element-list",props:{elements:{type:Array,default:function(){return[]}},dragOptions:{type:Object,default:function(){return{}}},supportedTypes:{type:Array,default:null},activity:{type:Object,default:null},layout:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1},enableAdd:{type:Boolean,default:!0},addElementOptions:{type:Object,default:function(){return{}}}},data:function(){return{dragElementIndex:null}},computed:Object.assign({},p.mapChannels({editorChannel:"editor"}),{options:function(e){return Object.assign({},e.dragOptions,{handle:".drag-handle"})}}),methods:{get:Z.default,getElementId:n.getElementId,onDragStart:function(e){this.dragElementIndex=e,this.editorChannel.emit("element:focus")},onDragEnd:function(e){this.dragElementIndex=-1,this.editorChannel.emit("element:focus",e)},reorder:function(e){var t=e.newIndex,n=this.elements;this.$emit("update",{newPosition:t,items:n})}},components:{AddElement:il,Draggable:se.default}},"data-v-f18f3e56",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));!function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};l.__file="ElementPlaceholder.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{staticClass:"transparent grey--text text--darken-4",class:e.dense?"pt-3":"pa-12"},[n("v-avatar",{attrs:{size:e.dense?40:60,color:e.isDisabled?"grey darken-3":"primary darken-4"}},[n("v-icon",{attrs:{size:e.iconSize,color:e.isFocused?e.activeColor:"#fff"}},[e._v("\n      "+e._s(e.icon)+"\n    ")])],1),e._v(" "),n("div",{staticClass:"grey--text",class:[e.isDisabled?"text--darken-3":"text--darken-4",e.dense?"my-2 subtitle-2":"my-4 headline"]},[e._v("\n    "+e._s(e.name)+"\n  ")]),e._v(" "),e.dense||e.isDisabled?e._e():n("div",{staticClass:"subtitle-1"},[e.isFocused?[n("span",[e._v(e._s(e.activePlaceholder))]),e._v(" "),e.activeIcon?n("v-icon",{attrs:{size:"20",color:"primary darken-4"}},[e._v("\n        "+e._s(e.activeIcon)+"\n      ")]):e._e()]:[e._v(e._s(e.placeholder))]],2)],1)},staticRenderFns:[]},0,{name:"tailor-element-placeholder",props:{name:{type:String,required:!0},icon:{type:String,required:!0},placeholder:{type:String,default:"Select to edit"},activePlaceholder:{type:String,default:"Use toolbar to edit"},activeIcon:{type:String,default:null},activeColor:{type:String,default:"#fff"},isDisabled:{type:Boolean,default:!1},isFocused:{type:Boolean,default:!1},dense:{type:Boolean,default:!1}},computed:{iconSize:function(){return this.dense?this.isFocused?24:20:this.isFocused?38:30}}},void 0,!1);!function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};l.__file="EmbeddedContainer.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("element-list",{attrs:{"add-element-options":e.addElementOptions,elements:e.embeds,"supported-types":e.types,"enable-add":!e.isDisabled&&e.enableAdd},on:{add:e.addItems,update:e.reorderItem},scopedSlots:e._u([{key:"list-item",fn:function(t){var i=t.element,r=t.isDragged;return[n("contained-content",e._b({staticClass:"my-2",attrs:{element:i,"is-dragged":r,"is-disabled":e.isDisabled},on:{save:function(t){return e.save(i,"data",t)},"save:meta":function(t){return e.save(i,"meta",t)},delete:function(t){return e.requestDeleteConfirmation(i)}}},"contained-content",e.$attrs,!1))]}}])})},staticRenderFns:[]},0,{name:"tailor-embedded-container",inheritAttrs:!1,props:{container:{type:Object,required:!0},types:{type:Array,default:function(){return["JODIT_HTML","IMAGE","HTML","VIDEO"]}},isDisabled:{type:Boolean,default:!1},addElementOptions:{type:Object,default:function(){return{}}},enableAdd:{type:Boolean,default:!0}},computed:{embeds:function(){var e=this.container.embeds;return e?me.default(e).sort((function(e,t){return e.position-t.position})):[]}},methods:Object.assign({},p.mapRequests("app",["showConfirmationModal"]),{addItems:function(e){e=Array.isArray(e)?e:[e];var t=te.default(this.container);t.embeds=Object.assign({},t.embeds,he.default(e,"id")),this.$emit("save",t)},reorderItem:function(e){var t=e.newPosition,i=e.items,r={items:i,newPosition:t},o=te.default(this.container);o.embeds[i[t].id].position=n.calculatePosition(r),this.$emit("save",o)},save:function(e,t,n){var i=te.default(this.container);i.embeds[e.id]=Object.assign({},e,As({},t,n)),this.$emit("save",i)},requestDeleteConfirmation:function(e){var t=this;this.showConfirmationModal({title:"Delete element?",message:"Are you sure you want to delete element?",action:function(){return t.$emit("delete",e)}})}}),components:{ContainedContent:sl,ElementList:Cl}},void 0,!1);!function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};l.__file="FileInput.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(e){e.preventDefault()}}},[e.fileKey?n("div",{staticClass:"mb-5 px-1 grey--text text--darken-3"},[n("div",[e._v(e._s(e.label))]),e._v(" "),n("v-btn",{staticClass:"grey--text text--darken-4 text-none px-0",attrs:{text:""},on:{click:function(t){return e.downloadFile(e.fileKey,e.fileName)}}},[e._v("\n      "+e._s(e._f("truncate")(e.fileName,35))+"\n    ")]),e._v(" "),n("v-btn",{staticClass:"ml-1",attrs:{color:"grey darken-4",icon:"","x-small":""},on:{click:function(t){return e.deleteFile({id:e.id,fileName:e.fileName})}}},[n("v-icon",[e._v("mdi-close")])],1)],1):n("v-file-input",{ref:e.id,attrs:{accept:e.acceptedFileTypes,label:e.label,placeholder:e.placeholder,outlined:e.outlined,dense:e.dense,clearable:!1,"append-icon":e.uploading?"mdi-loading mdi-spin":"mdi-upload","prepend-icon":""},on:{"click:append":function(t){e.$refs[e.id].$el.querySelector("input").click()}},nativeOn:{change:function(t){return e.upload(t)}}})],1)},staticRenderFns:[]},0,{name:"file-input",mixins:[xl],props:{id:{type:String,default:function(){return pe.default("file_")}},fileKey:{type:String,default:""},fileName:{type:String,default:""},validate:{type:Object,default:function(){return{ext:[]}}},label:{type:String,default:"File upload"},placeholder:{type:String,default:"Choose a file"},outlined:{type:Boolean,default:!1},dense:{type:Boolean,default:!1}},computed:{acceptedFileTypes:function(){var e=Z.default(this.validate,"ext",[]);return e.length?".".concat(e.join(",.")):""}},watch:{uploading:function(e){this.$emit("update:uploading",e)}}},void 0,!1);!function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="InlineActivator.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("button",this._g({staticClass:"inline-activator",class:{disabled:this.disabled}},this.$listeners),[t("hr"),this._v(" "),t("v-avatar",{attrs:{size:"20",color:"primary darken-4"}},[t("v-icon",{attrs:{size:"16",dark:""}},[this._v("mdi-plus")])],1),this._v(" "),t("hr")],1)},staticRenderFns:[]},(function(e){e&&e("data-v-64eb8c58_0",{source:".default-activator-state[data-v-64eb8c58],.inline-activator[data-v-64eb8c58],.inline-activator.disabled[data-v-64eb8c58],.inline-activator.disabled[data-v-64eb8c58]:hover{padding:0 3.125rem;opacity:0}.inline-activator[data-v-64eb8c58]{display:flex;align-items:center;width:100%;margin:0;padding:0 3.125rem;opacity:0;transition:opacity .3s,padding .3s}.inline-activator[data-v-64eb8c58],.inline-activator .v-chip[data-v-64eb8c58]{cursor:pointer}.inline-activator hr[data-v-64eb8c58]{flex:1;display:inline-flex;margin:0;border-top:.0625rem dashed var(--v-primary-darken3)}.inline-activator[data-v-64eb8c58]:focus,.inline-activator[data-v-64eb8c58]:hover{padding:.75rem 0;opacity:1;outline:0;transition:opacity .3s .25s,padding .3s .1s}.inline-activator.disabled[data-v-64eb8c58],.inline-activator.disabled[data-v-64eb8c58]:hover{pointer-events:none}",map:void 0,media:void 0})}),{name:"tailor-inline-activator",inheritAttrs:!1,props:{disabled:{type:Boolean,required:!1}}},"data-v-64eb8c58",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));!function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="PreviewOverlay.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-overlay",{attrs:{value:this.show,opacity:"0.9",absolute:""}},[t("button",{staticClass:"message pa-2 grey--text text--lighten-2"},[this._t("default",[this._v("Click to preview")])],2)])},staticRenderFns:[]},(function(e){e&&e("data-v-20303d2e_0",{source:".message[data-v-20303d2e]{border-radius:2px;font-size:1.125rem}",map:void 0,media:void 0})}),{name:"tailor-preview-overlay",props:{show:{type:Boolean,default:!1}}},"data-v-20303d2e",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var Ol=function(e,t,n,i,r,o,a,s){var l=("function"==typeof n?n.options:n)||{};return l.__file="FileInput.vue",l.render||(l.render=e.render,l.staticRenderFns=e.staticRenderFns,l._compiled=!0,r&&(l.functional=!0)),l._scopeId=i,l}({render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{on:{submit:function(e){e.preventDefault()}}},[e.fileKey?n("div",{staticClass:"mb-5 px-1 grey--text text--darken-3"},[n("div",[e._v(e._s(e.label))]),e._v(" "),n("v-btn",{staticClass:"grey--text text--darken-4 text-none px-0",attrs:{text:""},on:{click:function(t){return e.downloadFile(e.fileKey,e.fileName)}}},[e._v("\n      "+e._s(e._f("truncate")(e.fileName,35))+"\n    ")]),e._v(" "),n("v-btn",{staticClass:"ml-1",attrs:{color:"grey darken-4",icon:"","x-small":""},on:{click:function(t){return e.deleteFile({id:e.id,fileName:e.fileName})}}},[n("v-icon",[e._v("mdi-close")])],1)],1):n("v-file-input",{ref:e.id,attrs:{accept:e.acceptedFileTypes,label:e.label,placeholder:e.placeholder,outlined:e.outlined,dense:e.dense,clearable:!1,"append-icon":e.uploading?"mdi-loading mdi-spin":"mdi-upload","prepend-icon":""},on:{"click:append":function(t){e.$refs[e.id].$el.querySelector("input").click()}},nativeOn:{change:function(t){return e.upload(t)}}})],1)},staticRenderFns:[]},0,{name:"file-input",mixins:[xl],props:{id:{type:String,default:function(){return pe.default("file_")}},fileKey:{type:String,default:""},fileName:{type:String,default:""},validate:{type:Object,default:function(){return{ext:[]}}},label:{type:String,default:"File upload"},placeholder:{type:String,default:"Choose a file"},outlined:{type:Boolean,default:!1},dense:{type:Boolean,default:!1}},computed:{acceptedFileTypes:function(){var e=Z.default(this.validate,"ext",[]);return e.length?".".concat(e.join(",.")):""}},watch:{uploading:function(e){this.$emit("update:uploading",e)}}},void 0,!1);var Al=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="InlineActivator.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("button",this._g({staticClass:"inline-activator",class:{disabled:this.disabled}},this.$listeners),[t("hr"),this._v(" "),t("v-avatar",{attrs:{size:"20",color:"primary darken-4"}},[t("v-icon",{attrs:{size:"16",dark:""}},[this._v("mdi-plus")])],1),this._v(" "),t("hr")],1)},staticRenderFns:[]},(function(e){e&&e("data-v-64eb8c58_0",{source:".default-activator-state[data-v-64eb8c58],.inline-activator[data-v-64eb8c58],.inline-activator.disabled[data-v-64eb8c58],.inline-activator.disabled[data-v-64eb8c58]:hover{padding:0 3.125rem;opacity:0}.inline-activator[data-v-64eb8c58]{display:flex;align-items:center;width:100%;margin:0;padding:0 3.125rem;opacity:0;transition:opacity .3s,padding .3s}.inline-activator[data-v-64eb8c58],.inline-activator .v-chip[data-v-64eb8c58]{cursor:pointer}.inline-activator hr[data-v-64eb8c58]{flex:1;display:inline-flex;margin:0;border-top:.0625rem dashed var(--v-primary-darken3)}.inline-activator[data-v-64eb8c58]:focus,.inline-activator[data-v-64eb8c58]:hover{padding:.75rem 0;opacity:1;outline:0;transition:opacity .3s .25s,padding .3s .1s}.inline-activator.disabled[data-v-64eb8c58],.inline-activator.disabled[data-v-64eb8c58]:hover{pointer-events:none}",map:void 0,media:void 0})}),{name:"tailor-inline-activator",inheritAttrs:!1,props:{disabled:{type:Boolean,required:!1}}},"data-v-64eb8c58",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));var kl=function(e,t,n,i,r,o,a,s){var l,u=("function"==typeof n?n.options:n)||{};if(u.__file="PreviewOverlay.vue",u.render||(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,r&&(u.functional=!0)),u._scopeId=i,t&&(l=function(e){t.call(this,a(e))}),void 0!==l)if(u.functional){var c=u.render;u.render=function(e,t){return l.call(t),c(e,t)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return u}({render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-overlay",{attrs:{value:this.show,opacity:"0.9",absolute:""}},[t("button",{staticClass:"message pa-2 grey--text text--lighten-2"},[this._t("default",[this._v("Click to preview")])],2)])},staticRenderFns:[]},(function(e){e&&e("data-v-20303d2e_0",{source:".message[data-v-20303d2e]{border-radius:2px;font-size:1.125rem}",map:void 0,media:void 0})}),{name:"tailor-preview-overlay",props:{show:{type:Boolean,default:!1}}},"data-v-20303d2e",!1,0,(function e(){var t=document.head||document.getElementsByTagName("head")[0],n=e.styles||(e.styles={}),i="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());return function(e,r){if(!document.querySelector('style[data-vue-ssr-id~="'+e+'"]')){var o=i?r.media||"default":e,a=n[o]||(n[o]={ids:[],parts:[],element:void 0});if(!a.ids.includes(e)){var s=r.source,l=a.ids.length;if(a.ids.push(e),r.map&&(s+="\n/*# sourceURL="+r.map.sources[0]+" */",s+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r.map))))+" */"),i&&(a.element=a.element||document.querySelector("style[data-group="+o+"]")),!a.element){var u=a.element=document.createElement("style");u.type="text/css",r.media&&u.setAttribute("media",r.media),i&&(u.setAttribute("data-group",o),u.setAttribute("data-next-index","0")),t.appendChild(u)}if(i&&(l=parseInt(a.element.getAttribute("data-next-index")),a.element.setAttribute("data-next-index",l+1)),a.element.styleSheet)a.parts.push(s),a.element.styleSheet.cssText=a.parts.filter(Boolean).join("\n");else{var c=document.createTextNode(s),d=a.element.childNodes;d[l]&&a.element.removeChild(d[l]),d.length?a.element.insertBefore(c,d[l]):a.element.appendChild(c)}}}}}));e.ActiveUsers=ve,e.AddElement=et,e.AssessmentItem=ms,e.AssetInput=gs,e.ContainedContent=ts,e.ContentElement=Le,e.DatePicker=_s,e.Discussion=qe,e.ElementList=xs,e.ElementPlaceholder=ws,e.EmbeddedContainer=Es,e.FileInput=Ol,e.InlineActivator=Al,e.InputError=ns,e.PreviewOverlay=kl,e.PublishDiffChip=Fe,e.QuestionContainer=ds,e.SelectElement=Ge,e.UploadBtn=ys,e.upload=vs,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=tailor-components.umd.min.js.map
